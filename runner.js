
var h;h||(h=typeof Module !== 'undefined' ? Module : {});h.Sl||(h.Sl=0);h.Sl++;
h.ENVIRONMENT_IS_PTHREAD||function(a){function b(n,q,p,t){if("object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node)require("fs").readFile(n,function(r,B){r?t(r):p(B.buffer)});else{var v=new XMLHttpRequest;v.open("GET",n,!0);v.responseType="arraybuffer";v.onprogress=function(r){var B=q;r.total&&(B=r.total);if(r.loaded){v.si?h.bl[n].loaded=r.loaded:(v.si=!0,h.bl||(h.bl={}),h.bl[n]={loaded:r.loaded,total:B});var y=B=r=0,I;for(I in h.bl){var O=h.bl[I];
r+=O.total;B+=O.loaded;y++}r=Math.ceil(r*h.Sl/y);h.setStatus&&h.setStatus("Downloading data... ("+B+"/"+r+")")}else!h.bl&&h.setStatus&&h.setStatus("Downloading data...")};v.onerror=function(){throw Error("NetworkError for: "+n);};v.onload=function(){if(200==v.status||304==v.status||206==v.status||0==v.status&&v.response)p(v.response);else throw Error(v.statusText+" : "+v.responseURL);};v.send(null)}}function c(n){console.error("package error:",n)}function d(){function n(v,r,B){this.start=v;this.end=
r;this.audio=B}function q(v){if(!v)throw"Loading data file failed."+Error().stack;if(!(v instanceof ArrayBuffer))throw"bad input to processPackageData"+Error().stack;v=new Uint8Array(v);n.prototype.hk=v;v=a.files;for(var r=0;r<v.length;++r)n.prototype.si[v[r].filename].onload();h.removeRunDependency("datafile_runner.data")}h.FS_createPath("/","assets",!0, !0);n.prototype={si:{},open:function(v,r){this.name=r;this.si[r]=this;h.addRunDependency("fp "+this.name)},send:function(){},onload:function(){this.dk(this.hk.subarray(this.start,
this.end))},dk:function(v){h.FS_createDataFile(this.name,null,v,!0,!0,!0);h.removeRunDependency("fp "+this.name);this.si[this.name]=null}};for(var p=a.files,t=0;t<p.length;++t)(new n(p[t].start,p[t].end,p[t].audio||0)).open("GET",p[t].filename);h.addRunDependency("datafile_runner.data");h.Nm||(h.Nm={});h.Nm["runner.data"]={Wn:!1};m?(q(m),m=null):g=q}"object"===typeof window?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+
"/"):"undefined"===typeof process&&"undefined"!==typeof location&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");"function"!==typeof h.locateFilePackage||h.locateFile||(h.locateFile=h.locateFilePackage,k("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var e=h.locateFile?h.locateFile("runner.data",""):"runner.data",f=a.remote_package_size,g=null,m=h.getPreloadedPackage?
h.getPreloadedPackage(e,f):null;m||b(e,f,function(n){g?(g(n),g=null):m=n},c);h.calledRun?d():(h.preRun||(h.preRun=[]),h.preRun.push(d))}({"files":[{"filename":"/assets/options.ini","start":0,"end":138,"audio":0},{"filename":"/assets/PT_Engine.yydebug","start":138,"end":61387,"audio":0}],"remote_package_size":61387,"package_uuid":"54cdc2bf-ea52-4ea6-aa57-f5b5cd0e7cec"});
this.doGMLCallback=function(a,b){b=JSON.stringify(b);var c=aa(b)+1,d=l(c);u(b,d,c);console.log("AddAsyncMethod="+g_pAddAsyncMethod+", methodToCall="+a+", stringOnWasmHeap="+d+", argsAsJSON="+b);h.dynCall("vii",g_pAddAsyncMethod,[a,d])};this.triggerAdPrefix=function(a,b,c,d,e){var f=l(80),g=f+16,m=f+32,n=f+48,q=f+64;ba(f+0,a,16);ba(g,b,16);ba(m,c,16);ba(n,d,16);ba(q,e,16);return f};this.triggerAdPostfix=function(a){ca(a)};var w=null,ea=[],fa=null,ha=null,ia=null,ja=null,ka=null;
function la(){w&&("visible"===document.visibilityState?w.resume():w.suspend())}var ma=void 0;this.OGX_startDRMCheck=function(){ma&&h.dynCall("v",ma)};var na=void 0,oa=void 0;this.GM_pause=function(){na&&h.dynCall("v",na)};this.GM_unpause=function(){oa&&h.dynCall("v",oa)};var pa=void 0,ra=void 0;this.GM_get_view_status=function(){var a=void 0;if(pa){var b=h.dynCall("i",pa);a=x(b);a=JSON.parse(a);ca(b)}return a};
this.GM_set_view_status=function(a){if(ra){a=JSON.stringify(a);var b=aa(a)+1,c=l(b);u(a,c,b);console.log("GM_set_view_status="+ra+", stringOnWasmHeap="+c+", argsAsJSON="+a);h.dynCall("vi",ra,[c])}};var sa=[],ta=!1,ua=!1;
this.activate_clipboard=function(){!ta&&navigator.clipboard&&navigator.permissions&&!ua&&(ua=!0,navigator.permissions.query({name:"clipboard-read",Pn:!0}).then(function(a){if("granted"==a.state||"prompt"==a.state){ta=!0;ua=!1;for(a=0;a<sa.length;++a)navigator.clipboard.writeText(sa[a]);sa=[];navigator.clipboard.readText().then(b=>{""!=b&&sa.push(b)}).catch(()=>{})}}))};
this.clipboard_has_text=function(){if(!ta)return activate_clipboard(),!1;navigator.clipboard.readText().then(a=>{""!=a&&sa.push(a)}).catch(()=>{});return 0<sa.length};this.clipboard_get_text=function(){var a="";ta?0<sa.length&&(a=sa.pop()):activate_clipboard();return a};this.clipboard_set_text=function(a){ta?navigator.clipboard&&navigator.clipboard.writeText(a):(activate_clipboard(),sa.push(a))};var va={},wa={},xa="";
this.__gx_cache_file=function(a){if(window.oprt&&window.oprt.gameFiles){var b=window.origin+"/"+a.name,c=new URLSearchParams(window.location.search);const d=c.get("game"),e=c.get("track");c=c.get("release");null!=d&&null!=e&&null!=c&&(b=window.location.origin+"/"+d+"/"+e+"/"+c+"/"+a.name);console.log("__gx_cache_file for "+b);b=new Request(b);let f=a.name+":"+a.md5;window.oprt.gameFiles.fetchAndCache(f,xa,b).then(g=>{g.arrayBuffer().then(function(){console.log("fetchAndCache complete for file:id "+
f);wa[a.name]={name:a.name,md5:a.md5,fileId:f,version:xa}})})}return Promise.resolve()};this.__gx_check_cache=function(a,b){var c=void 0!=wa[a];b&&console.log("__gx_check_cache for "+a+" cached files "+JSON.stringify(wa)+" manifest files "+JSON.stringify(va));!c&&void 0!=va[a]&&b&&this.__gx_cache_file(va[a]);return c};
this.__gx_prepare_cache=function(a){xa=a;return new Promise(function(b,c){if(window.oprt&&window.oprt.gameFiles){let e=manifestFiles().split(";");var d=manifestFilesMD5();window.oprt.gameFiles.keys().then(f=>{console.log("current cache entries are "+JSON.stringify(f));var g={};let m=[];for(var n=0;n<f.length;++n){var q=f[n],p=q.fileId,t="",v=p.indexOf(":");0<=v&&(t=p.substring(v+1),p=p.substring(0,v));v=e.indexOf(p);console.log("considering file "+p+" for deleting, indexOf is "+v+" cached MD5 is "+
t+" manifest md5 is "+(0>v?" not present":d[v]));0>v||d[v]!=t?m.push(window.oprt.gameFiles.delete(q.fileId,q.version)):g[p]={name:p,md5:t,fileId:q.fileId,version:q.version}}console.log("current cache files are "+JSON.stringify(g));wa=g;f={};for(n=0;n<e.length;++n)f[e[n]]={name:e[n],md5:d[n]};va=f;void 0==wa["game.unx"]?(console.log("caching game.unx"),this.__gx_cache_file(va["game.unx"]).then(()=>{b({cachedFiles:wa,allFiles:e})})):b({cachedFiles:wa,allFiles:e})}).catch(f=>{c(Error("error trying to enumerate cache keys - "+
JSON.stringify(f)))})}else c(Error("unable to cache, API not found"))})};this.__gx_async_wget2=function(a,b,c,d,e,f,g){window.oprt&&window.oprt.gameFiles&&(a=wa[a],a=window.oprt.gameFiles.match(a.fileId,a.version),a.catch(()=>{h.dynCall("vi",g,[d])}),a.then(m=>m.arrayBuffer()).then(m=>{m=new Uint8Array(m);var n=l(m.length);z.set(m,n);f&&h.dynCall("viiii",f,[4294967295,d,n,m.length]);e&&e(n)}))};
GXMFS={Lk:{},gk:function(a){return A.gk.apply(null,arguments)},im:(a,b,c)=>{GXMFS.Tl(a,(d,e)=>{if(d)return c(d);GXMFS.Ul(a,(f,g)=>{if(f)return c(f);GXMFS.am(b?g:e,b?e:g,c)})})},zn:()=>{GXMFS.Lk={}},ln:(a,b)=>{var c=GXMFS.Lk[a];c||(c=window.oprt.gameStorage.open(a),GXMFS.Lk[a]=c);return b(null,c)},Tl:(a,b)=>{function c(m){return"."!==m&&".."!==m}function d(m){return n=>ya(m+"/"+n)}var e={};for(a=za(a.Nk).filter(c).map(d(a.Nk));a.length;){var f=a.pop();try{var g=Aa(f)}catch(m){return b(m)}16384===(g.mode&
61440)&&a.push.apply(a,za(f).filter(c).map(d(f)));e[f]={timestamp:g.mtime}}return b(null,{type:"local",entries:e})},Ul:(a,b)=>{GXMFS.ln(a.Nk,(c,d)=>{if(c)return b(c);d.list().then(e=>{b(null,{type:"remote",storage:d,entries:e})}).catch(b)})},Xl:(a,b)=>{try{var c=C(a).node;var d=Aa(a)}catch(e){return b(e)}return 16384===(d.mode&61440)?b(null,{timestamp:d.mtime,mode:d.mode}):32768===(d.mode&61440)?(c.$j=A.ym(c),b(null,{timestamp:d.mtime,mode:d.mode,contents:c.$j})):b(Error("node type not supported"))},
gm:(a,b,c)=>{try{if(16384===(b.mode&61440))Ba(a,b.mode);else if(32768===(b.mode&61440))Ca(a,b.contents);else return c(Error("node type not supported"));Da(a,b.mode);Ea(a,b.timestamp,b.timestamp)}catch(d){return c(d)}c(null)},cm:(a,b)=>{try{var c=Aa(a);16384===(c.mode&61440)?Fa(a):32768===(c.mode&61440)&&Ga(a)}catch(d){return b(d)}b(null)},Yl:(a,b,c)=>{a.get(b).then(d=>{c(null,d)}).catch(c)},hm:(a,b,c,d)=>{a.put(c,b).then(()=>{d(null)}).catch(d)},dm:(a,b,c)=>{a.delete(b).then(()=>{c(null)}).catch(c)},
am:(a,b,c)=>{function d(q){e--;if(q&&!m)return m=!0,console.error("Reconcile failed"),c(q);if(0===e&&!m)return console.info("Reconcile finished successfully"),c(null)}console.info("Starting reconcile");var e=0,f=[];Object.keys(a.entries).forEach(function(q){var p=a.entries[q],t=b.entries[q];t&&p.timestamp.getTime()==t.timestamp.getTime()||(f.push(q),e++)});console.debug(`${f.length} entries to create/update on the ${"local"===b.type?"local filesystem":"remote filesystem"}`);var g=[];Object.keys(b.entries).forEach(function(q){a.entries[q]||
(g.push(q),e++)});console.debug(`${g.length} entries to remove from the ${"local"===b.type?"local filesystem":"remote filesystem"}`);if(0==e)return c(null);var m=!1,n="remote"===a.type?a.storage:b.storage;f.sort().forEach(q=>{"local"===b.type?GXMFS.Yl(n,q,(p,t)=>{if(p)return d(p);GXMFS.gm(q,t,d)}):GXMFS.Xl(q,(p,t)=>{if(p)return d(p);GXMFS.hm(n,q,t,d)})});g.sort().reverse().forEach(q=>{"local"===b.type?GXMFS.cm(q,d):GXMFS.dm(n,q,d)})}};
var Ha=Object.assign({},h),Ia=[],Ja="./this.program",Ka=(a,b)=>{throw b;},La="object"==typeof window,Ma="function"==typeof importScripts,Na="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,Oa="",Pa,Qa,Ra,Sa,fs,Ta,Ua;
if(Na)Oa=Ma?require("path").dirname(Oa)+"/":__dirname+"/",Ua=()=>{Ta||(fs=require("fs"),Ta=require("path"))},Pa=function(a,b){Ua();a=Ta.normalize(a);return fs.readFileSync(a,b?void 0:"utf8")},Ra=a=>{a=Pa(a,!0);a.buffer||(a=new Uint8Array(a));return a},Qa=(a,b,c)=>{Ua();a=Ta.normalize(a);fs.readFile(a,function(d,e){d?c(d):b(e.buffer)})},1<process.argv.length&&(Ja=process.argv[1].replace(/\\/g,"/")),Ia=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=h),process.on("uncaughtException",
function(a){if(!(a instanceof Va))throw a;}),process.on("unhandledRejection",function(a){throw a;}),Ka=(a,b)=>{if(noExitRuntime)throw process.exitCode=a,b;b instanceof Va||k("exiting due to exception: "+b);process.exit(a)},h.inspect=function(){return"[Emscripten Module object]"};else if(La||Ma)Ma?Oa=self.location.href:"undefined"!=typeof document&&document.currentScript&&(Oa=document.currentScript.src),Oa=0!==Oa.indexOf("blob:")?Oa.substr(0,Oa.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Pa=a=>{var b=
new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},Ma&&(Ra=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),Qa=(a,b,c)=>{var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=()=>{200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)},Sa=a=>{document.title=a};var Wa=h.print||console.log.bind(console),k=h.printErr||console.warn.bind(console);
Object.assign(h,Ha);Ha=null;h.arguments&&(Ia=h.arguments);h.thisProgram&&(Ja=h.thisProgram);h.quit&&(Ka=h.quit);function Xa(a){Ya||(Ya={});Ya[a]||(Ya[a]=1,k(a))}var Ya,Za=0,$a;h.wasmBinary&&($a=h.wasmBinary);var noExitRuntime=h.noExitRuntime||!0;"object"!=typeof WebAssembly&&D("no native wasm support detected");
function ab(a,b,c="i8"){"*"===c.charAt(c.length-1)&&(c="i32");switch(c){case "i1":F[a>>0]=b;break;case "i8":F[a>>0]=b;break;case "i16":bb[a>>1]=b;break;case "i32":G[a>>2]=b;break;case "i64":cb=[b>>>0,(H=b,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];G[a>>2]=cb[0];G[a+4>>2]=cb[1];break;case "float":J[a>>2]=b;break;case "double":db[a>>3]=b;break;default:D("invalid type for setValue: "+c)}}
function eb(a){var b="float";"*"===b.charAt(b.length-1)&&(b="i32");switch(b){case "i1":return F[a>>0];case "i8":return F[a>>0];case "i16":return bb[a>>1];case "i32":return G[a>>2];case "i64":return G[a>>2];case "float":return J[a>>2];case "double":return Number(db[a>>3]);default:D("invalid type for getValue: "+b)}return null}var fb,gb=!1;
function hb(a,b,c,d,e){function f(t){0!==n&&ib(n);return"string"===b?x(t):"boolean"===b?!!t:t}var g={string:function(t){var v=0;if(null!==t&&void 0!==t&&0!==t){var r=(t.length<<2)+1;v=jb(r);u(t,v,r)}return v},array:function(t){var v=jb(t.length);F.set(t,v);return v}};a=h["_"+a];var m=[],n=0;if(d)for(var q=0;q<d.length;q++){var p=g[c[q]];p?(0===n&&(n=kb()),m[q]=p(d[q])):m[q]=d[q]}c=lb;d=a.apply(null,m);e=e&&e.async;if(lb!=c)return mb().then(f);d=f(d);return e?Promise.resolve(d):d}
var nb="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;
function ob(a,b,c){var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&nb)return nb.decode(a.subarray(b,c));for(d="";b<c;){var e=a[b++];if(e&128){var f=a[b++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|f);else{var g=a[b++]&63;e=224==(e&240)?(e&15)<<12|f<<6|g:(e&7)<<18|f<<12|g<<6|a[b++]&63;65536>e?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023))}}else d+=String.fromCharCode(e)}return d}function x(a,b){return a?ob(z,a,b):""}
function pb(a,b,c,d){if(!(0<d))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(55296<=g&&57343>=g){var m=a.charCodeAt(++f);g=65536+((g&1023)<<10)|m&1023}if(127>=g){if(c>=d)break;b[c++]=g}else{if(2047>=g){if(c+1>=d)break;b[c++]=192|g>>6}else{if(65535>=g){if(c+2>=d)break;b[c++]=224|g>>12}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63}b[c++]=128|g>>6&63}b[c++]=128|g&63}}b[c]=0;return c-e}function u(a,b,c){return pb(a,z,b,c)}
function aa(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function qb(a){var b=aa(a)+1,c=l(b);c&&pb(a,F,c,b);return c}function rb(a){var b=aa(a)+1,c=jb(b);pb(a,F,c,b);return c}var sb,F,z,bb,K,G,L,J,db;
function tb(){var a=fb.buffer;sb=a;h.HEAP8=F=new Int8Array(a);h.HEAP16=bb=new Int16Array(a);h.HEAP32=G=new Int32Array(a);h.HEAPU8=z=new Uint8Array(a);h.HEAPU16=K=new Uint16Array(a);h.HEAPU32=L=new Uint32Array(a);h.HEAPF32=J=new Float32Array(a);h.HEAPF64=db=new Float64Array(a)}var ub=[],vb=[],wb=[],xb=[],yb=[];function zb(){var a=h.preRun.shift();ub.unshift(a)}var Ab=0,Bb=null,Cb=null;function Db(){Ab++;h.monitorRunDependencies&&h.monitorRunDependencies(Ab)}
function Eb(){Ab--;h.monitorRunDependencies&&h.monitorRunDependencies(Ab);if(0==Ab&&(null!==Bb&&(clearInterval(Bb),Bb=null),Cb)){var a=Cb;Cb=null;a()}}function D(a){if(h.onAbort)h.onAbort(a);a="Aborted("+a+")";k(a);gb=!0;throw new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");}function Fb(){return Gb.startsWith("data:application/octet-stream;base64,")}var Gb;Gb="runner.wasm";if(!Fb()){var Hb=Gb;Gb=h.locateFile?h.locateFile(Hb,Oa):Oa+Hb}
function Ib(){var a=Gb;try{if(a==Gb&&$a)return new Uint8Array($a);if(Ra)return Ra(a);throw"both async and sync fetching of the wasm failed";}catch(b){D(b)}}
function Jb(){if(!$a&&(La||Ma)){if("function"==typeof fetch&&!Gb.startsWith("file://"))return fetch(Gb,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+Gb+"'";return a.arrayBuffer()}).catch(function(){return Ib()});if(Qa)return new Promise(function(a,b){Qa(Gb,function(c){a(new Uint8Array(c))},b)})}return Promise.resolve().then(function(){return Ib()})}
var H,cb,Pb={1543668:function(){return hasJSExceptionHandler()},1543733:function(a){doJSExceptionHandler(x(a))},1543777:function(){return document.querySelector("canvas").getBoundingClientRect().left},1543897:function(){return document.querySelector("canvas").getBoundingClientRect().top},1544016:function(){var a=document.querySelector("canvas").getBoundingClientRect();return a.right-a.left},1544149:function(){var a=document.querySelector("canvas").getBoundingClientRect();return a.bottom-a.top},1544282:function(a,
b,c,d,e){gxc_request_room(x(a),x(b),c,x(d),x(e))},1544380:function(a,b,c,d){gxc_join_room(x(a),x(b),x(c),x(d))},1544471:function(){var a=document.getElementById("stats-button");a&&(a.style.visibility="visible");if(a=document.getElementById("log-state-button"))a.style.visibility="visible"},1544720:function(){var a=document.getElementById("stats-button");a&&(a.style.visibility="visible");if(a=document.getElementById("log-state-button"))a.style.visibility="visible"},1544969:function(a){var b=document.getElementById("multiplayer-stats");
b&&"visible"==b.style.visibility&&(b.innerHTML=x(a))},1545137:function(a){"function"==typeof showRollbackMessage&&showRollbackMessage(x(a))},1545230:function(){var a=document.getElementById("stats-button");a&&(a.style.visibility="hidden");if(a=document.getElementById("share-button"))a.style.visibility="hidden";if(a=document.getElementById("log-state-button"))a.style.visibility="hidden"},1545592:function(a,b){gxc_set_player_status(a,x(b))},1545643:function(a){gxc_report_status(x(a))},1545684:function(a,
b,c){gxc_get_player_info(x(a),x(b),x(c))},1545763:function(a,b){gxc_set_room_info(a,b)},1545794:function(a,b,c){gxc_get_player_info(x(a),x(b),x(c))},1545873:function(a,b,c){gxc_receive_chat_message(x(a),b,c)},1545929:function(a,b){return webtransport_set_relay(x(a),b)},1545986:function(a){webtransport_destroy(a)},1546016:function(a,b,c){webtransport_send(a,b,c)},1546051:function(a,b,c){return webtransport_receive(a,b,c)},1546096:function(a){alert(x(a))},1546126:function(a){alert(x(a))},1546155:function(){return clipboard_has_text()},
1546203:function(){var a=clipboard_get_text(),b=aa(a)+1,c=l(b);u(a,c,b+1);return c},1546379:function(a){clipboard_set_text(x(a))},1546422:function(){var a=-1;window.matchMedia("(orientation:portrait)").matches?a=1:window.matchMedia("(orientation:landscape)").matches&&(a=0);return a},1546600:function(a){window.open(x(a),"_blank").focus()},1546655:function(){var a=document.querySelector("canvas");null!=a.si&&(a.si.pause(),console.log("Pausing video player"),a.si.removeAttribute("src"),a.si.load())},
1546905:function(a,b,c){var d=document.querySelector("canvas");if(null!=d.cl)return b=d.cl.getImageData(0,0,b,c),b=new Uint8Array(b.data.buffer),F.set(b,a),1;console.log("Not rendering video as context is null");return 0},1547242:function(){var a=document.querySelector("canvas");return null!=a.si?a.si.videoWidth:0},1547389:function(){var a=document.querySelector("canvas");return null!=a.si?a.si.videoHeight:0},1547537:function(){var a=document.querySelector("canvas");if(null!=a.si){if(a.si.paused)return-1;
if(!a.si.ended)return 0}return-1},1547740:function(a){var b=document.querySelector("canvas");null!=b.si&&(b.si.volume=a)},1547873:function(a){function b(){function m(){const p=document.querySelector("canvas").si;null!=p&&(p.muted=!1)}var n="mousedown",q="mouseup";"ontouchstart"in window&&(n="touchstart",q="touchend");if(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled)n="pointerdown",q="pointerup";document.body.addEventListener(n,m,{once:!0});document.body.addEventListener(q,
m,{once:!0})}var c=document.querySelector("canvas");null==c.si?c.si=document.createElement("video"):c.si.pause();const d=c.si;a=x(a);d.muted=!1;d.src=a;const e={Ln:h.cwrap("video_playback_ended","","")},f={Mn:h.cwrap("video_playback_started","","")};d.addEventListener("ended",function(){e.Ln()});d.addEventListener("playing",function(){console.log("Video playing event called");f.Mn()},!0);const g=()=>{var m=document.querySelector("canvas");null==m.hk?(m.hk=document.createElement("canvas"),m.hk.style.cssText=
"position:fixed; top:1px; left:1px; width:1px; height:1px",m.hk.width=d.videoWidth,m.hk.height=d.videoHeight,document.body.appendChild(m.hk),m.cl=m.hk.getContext("2d",{alpha:!1,Qn:!1,powerPreference:"low-power",desynchronized:!0,preserveDrawingBuffer:!0})):(d.videoWidth!=m.hk.width&&(m.hk.width=d.videoWidth),m.hk.height!=d.videoHeight&&(m.hk.height=d.videoHeight));null!=m.si&&null!=m.cl&&m.cl.drawImage(m.si,0,0);null!=m.si&&(null!=m.si.src?m.si.requestVideoFrameCallback(g):console.log("stopping video player callback check"))};
d.requestVideoFrameCallback(g);d.load();a=d.play();void 0!==a&&a.then(()=>{}).catch(()=>{console.log("video_open failed. User must interact with the page before video with audio can be played. Attempting to play the video muted");d.muted=!0;d.play();b()})},1550943:function(){var a=document.querySelector("canvas");null!=a.si&&a.si.pause()},1551074:function(){var a=document.querySelector("canvas");null!=a.si&&a.si.play()},1551204:function(a){var b=document.querySelector("canvas");null!=b.si&&(b.si.loop=
.5<a?!0:!1)},1551397:function(a){var b=document.querySelector("canvas");null!=b.si&&(b.si.currentTime=a)},1551537:function(){var a=document.querySelector("canvas");return null==a.si||isNaN(a.si.duration)?0:a.si.duration},1551732:function(){var a=document.querySelector("canvas");return null!=a.si?a.si.currentTime:0},1551884:function(){var a=document.querySelector("canvas");return null!=a.si?a.si.ended?0:a.si.paused?3:a.si.readyState<a.si.HAVE_CURRENT_DATA?1:2:0},1552404:function(){var a=document.querySelector("canvas");
return null!=a.si?a.si.loop:0},1552549:function(){var a=document.querySelector("canvas");return null!=a.si?a.si.volume:0},1552696:function(a,b,c,d){var e=document.querySelector("canvas");if(MediaRecorder.isTypeSupported("video/webm;codecs=vp9")){console.log("CheckMediaRecorder::vp9 supported");var f={mimeType:"video/webm; codecs=vp9"}}else MediaRecorder.isTypeSupported("video/webm;codecs=vp8")?(f={mimeType:"video/webm; codecs=vp8"},console.log("CheckMediaRecorder::vp8 supported")):console.log("CheckMediaRecorder::No vp8 or vp9 support");
e.xl=e.captureStream(c);e.xl.getVideoTracks().find(g=>g.enabled);null==e.nk&&(e.nk=document.createElement("canvas"),e.nk.style.cssText="position:fixed; top:1px; left:1px; width:1px; height:1px",e.nk.width=a,e.nk.height=b,document.body.appendChild(e.nk),console.log("Game Canvas width:"+e.width+" height:"+e.height),e.Vl=e.nk.getContext("2d",{alpha:!1,desynchronized:!0,antialias:!0,powerPreference:"low-power",preserveDrawingBuffer:!0}),e.Ek=document.createElement("video"),e.Ek.autoplay=!0,e.Ek.Bm=!0,
e.Ek.muted=!0,e.Ek.style.cssText="position:fixed;top:1px;left:1px;width:1px;height:1px",document.body.appendChild(e.Ek),e.Ek.srcObject=e.xl,a=e.nk.captureStream(c),0<d&&(d=w.createMediaStreamDestination().stream.getAudioTracks().find(g=>g.enabled),a.addTrack(d)),f=new MediaRecorder(a,f),e.yk=[],f.ondataavailable=function(g){e.yk.push(g.data)},e.dk=f);null==e.ll&&(e.ll=setInterval(()=>e.Vl.drawImage(e.Ek,0,0,e.width,e.height,0,0,e.nk.width,e.nk.height),1E3/c));e.dk&&"recording"!=e.dk.state&&e.dk.start()},
1555192:function(a){var b=document.querySelector("canvas");if(b.dk&&("recording"==b.dk.state||"paused"==b.dk.state)){var c=x(a);b.dk.onstop=function(){var d=new Blob(b.yk,{type:"video/webm"});b.yk=[];clearInterval(b.ll);b.ll=null;const e={Zl:h.cwrap("post_video_upload_callback","",["string"])};if(c.startsWith("http"))fetch(c,{method:"PUT",body:d}).then(()=>{e.Zl("upload completed")}).catch(g=>{e.Zl("Error uploading: "+g)});else if(""!=c){d=URL.createObjectURL(d);var f=document.createElement("a");
document.body.appendChild(f);f.style="display: none";f.href=d;f.download=c;f.click();window.URL.revokeObjectURL(d);e.Zl("filesaved")}};b.dk.stop();console.log("saving chunks to movie")}},1556336:function(){var a=document.querySelector("canvas");a.dk&&"recording"==a.dk.state&&a.dk.pause()},1556506:function(){var a=document.querySelector("canvas");a.dk&&"paused"==a.dk.state&&a.dk.resume()},1556674:function(a,b,c,d,e,f){triggerAd(x(a),b,c,d,e,f)},1556727:function(){var a=640;"number"==typeof window.innerWidth?
a=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?a=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(a=document.body.clientWidth);return a},1557033:function(){var a=480;"number"==typeof window.innerHeight?a=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(a=document.body.clientHeight);return a},1557345:function(a,b,c,
d){var e=-1;if(void 0!=window.oprt){var f=window.oprt.unlockOrientation,g=window.oprt.lockPortraitOrientation,m=window.oprt.lockLandscapeOrientation;a=(a?1:0)|(b?2:0)|(c?4:0);a|=d?8:0;15!=(a&15)&&0!=a||void 0==f||"function"!=typeof f||(f(),console.log("unlocking all orientations"));0!=(a&5)&&void 0!=m&&"function"==typeof m?(m(),console.log("Locking to Landscape"),e=0):0!=(a&10)&&void 0!=g&&"function"==typeof g&&(g(),console.log("Locking to Portrait"),e=0)}return e},1558333:function(a){a?void 0!=window.oprt&&
void 0!=window.oprt.enterFullscreen?(console.log("enterFullscreen"),window.oprt.enterFullscreen()):(console.log("canvas requesting enterFullscreen"),document.querySelector("canvas").requestFullscreen()):void 0!=window.oprt&&void 0!=window.oprt.exitFullscreen?(console.log("exitFullscreen"),window.oprt.exitFullscreen()):(console.log("exitFullscreen via document"),document.exitFullscreen())},1558861:function(){return screen.width},1558886:function(){return screen.height},1558912:function(a){document.title=
x(a)},1558951:function(a,b){this.onGameSetWindowSize&&onGameSetWindowSize(a,b)},1559020:function(a){document.querySelector("canvas").style.cursor=x(a)},1559119:function(){w=new AudioContext;document.addEventListener("visibilitychange",la)},1559241:function(){w.close().then(function(){w=null;document.removeEventListener("visibilitychange",la)})},1559400:function(){function a(){w.resume().then(function(){document.body.removeEventListener(b,a);document.body.removeEventListener(c,a)})}let b="mousedown",
c="mouseup";"ontouchstart"in window&&(b="touchstart",c="touchend");if(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled)b="pointerdown",c="pointerup";document.body.addEventListener(b,a);document.body.addEventListener(c,a)},1560104:function(){w.suspend()},1560137:function(){return null!=w},1560177:function(){if(null==w)return 4;switch(w.state){case "suspended":return 0;case "running":return 1;case "closed":return 2;case "interrupted":return 3}},1560371:function(){return null==
w?0:w.currentTime},1560449:function(){return null==w?0:w.sampleRate},1560526:function(){return null==w?0:w.destination.channelCount},1560615:function(a,b,c,d,e,f){e=w.createBuffer(b,d,e);for(let g=0;g<b;++g){const m=e.getChannelData(g);for(let n=0;n<d;++n)m[n]=eb(a+c*(g+n*b))}a=w.createBufferSource();a.buffer=e;a.connect(w.destination);a.start(f);return f+e.duration},1561261:function(a){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then(b=>
{const c=d=>{d=d.getAudioTracks();if(0<d.length)return d[0].getSettings().channelCount};ha=b;ia=new AudioContext({sampleRate:a});ia.audioWorklet.addModule("audio-worklet.js").then(()=>{ja=new AudioWorkletNode(ia,"audio-worklet");ja.port.onmessage=e=>{ea.push(e.data)};fa=new MediaStreamAudioSourceNode(ia,{mediaStream:b});const d=c(b);1<d?(ka=new ChannelMergerNode(ia,{numberOfInputs:d}),fa.connect(ka),ka.connect(ja)):fa.connect(ja);ia.resume()}).catch(d=>{console.error(d);ha&&ha.getTracks().forEach(e=>
{e.stop()});ka=fa=ja=ha=ia=null})}).catch(b=>{console.error(b)})},1563038:function(){ea=[];ha.getTracks().forEach(a=>{a.stop()});ja.port.postMessage(!0);fa.disconnect();fa=null;null!=ka&&(ka.disconnect(),ka=null);ja.disconnect();ja=null;ia.close().then(()=>{ia=null}).catch(a=>{console.error(a)})},1563630:function(a,b,c){b/=c;for(let d=0;d<b;++d){const e=ea.shift();for(let f=0;f<c;++f)ab(a+2*(d*c+f),e[f],"i16")}},1563974:function(a){return ea.length*a},1564060:function(){return null!=fa&&null!=ja?
1:0},1564173:function(){return screen.width},1564198:function(){return screen.height},1564224:function(){var a=document.getElementById("canvas");const b=a.style.visibility;a.style.visibility="hidden";a.offsetHeight;a.style.visibility=b},1564462:function(a,b){g_pWadLoadCallback&&g_pWadLoadCallback(a,b)},1564522:function(){var a=manifestFiles(),b=aa(a)+1,c=l(b);u(a,c,b);return c},1564678:function(a){return __gx_check_cache(x(a),!0)?1:0},1564740:function(a,b,c,d,e,f,g,m){__gx_async_wget2(x(a),x(b),x(c),
d,e,f,g,m)},1564837:function(a){setAddAsyncMethod(a)},1564864:function(a,b,c,d){__gx_prepare_cache(x(c)).then(e=>{console.log("Prepare cache completed"+JSON.stringify(e));h.dynCall("vi",a,[b])}).catch(e=>{console.log("Prepare cache error "+e);h.dynCall("vi",a,[d])})},1565144:function(a){return __gx_check_cache(x(a),!1)?1:0},1565205:function(a,b){g_pWadLoadCallback&&g_pWadLoadCallback(a,b)},1565265:function(a){window.location.replace(x(a))},1565312:function(){this.onFirstFrameRendered&&onFirstFrameRendered()},
1565375:function(a,b){chrome.runtime.sendMessage(x(a),{command:x(b)})},1565459:function(a,b,c,d,e){function f(m){if(m.hash){var n=0;(new Uint8Array(m.hash)).every(q=>{n=n+q&255;return!0});g.Tm(n,b)}}const g={Tm:h.cwrap("YYSum","",["number","number"])};this.chrome&&this.chrome.runtime&&(e=z.subarray(e,e+20),a=x(a),chrome.runtime.sendMessage(x(c),{command:x(d),randomString:a,hash:e},f))},1566019:function(a,b,c,d,e){na=a;oa=b;pa=c;ra=d;ma=e},1566135:function(a,b){a=prompt(x(a),x(b));b=aa(a)+1;var c=
l(b);u(a,c,b+1);return c},1566331:function(a){return confirm(x(a))?1:0},1566378:function(a,b){a=prompt(x(a),x(b));b=1;a?b+=aa(a):a="";var c=l(b);u(a,c,b+1);return c},1566609:function(a){return confirm(x(a))?1:0},1566656:function(a){alert(x(a))},1566686:function(){Kb("/_savedata");window.oprt&&window.oprt.gameStorage?Lb(GXMFS,"/_savedata"):Lb(M,"/_savedata");Mb(!0,function(){hb("FSSyncCompleted","void")})},1566908:function(){Mb(!1,function(){})},1566946:function(){Mb(!1,function(){})},1566983:function(){Mb(!1,
function(){})},1567021:function(){return"undefined"!==typeof AudioContext||"undefined"!==typeof webkitAudioContext?!0:!1},1567168:function(){return"undefined"!==typeof navigator.mediaDevices&&"undefined"!==typeof navigator.mediaDevices.getUserMedia||"undefined"!==typeof navigator.webkitGetUserMedia?!0:!1},1567402:function(a){"undefined"===typeof h.SDL2&&(h.SDL2={});var b=h.SDL2;a?b.capture={}:b.audio={};b.fk||("undefined"!==typeof AudioContext?b.fk=new AudioContext:"undefined"!==typeof webkitAudioContext&&
(b.fk=new webkitAudioContext),b.fk&&Nb(b.fk));return void 0===b.fk?-1:0},1567895:function(){return h.SDL2.fk.sampleRate},1567963:function(a,b,c,d){function e(){}function f(m){void 0!==g.capture.ol&&(clearTimeout(g.capture.ol),g.capture.ol=void 0);g.capture.Al=g.fk.createMediaStreamSource(m);g.capture.qk=g.fk.createScriptProcessor(b,a,1);g.capture.qk.onaudioprocess=function(n){void 0!==g&&void 0!==g.capture&&(n.outputBuffer.getChannelData(0).fill(0),g.capture.Ql=n.inputBuffer,Ob("vi",c,[d]))};g.capture.Al.connect(g.capture.qk);
g.capture.qk.connect(g.fk.destination);g.capture.stream=m}var g=h.SDL2;g.capture.Hl=g.fk.createBuffer(a,b,g.fk.sampleRate);g.capture.Hl.getChannelData(0).fill(0);g.capture.ol=setTimeout(function(){g.capture.Ql=g.capture.Hl;Ob("vi",c,[d])},b/g.fk.sampleRate*1E3);void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(f).catch(e):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},
f,e)},1569615:function(a,b,c,d){var e=h.SDL2;e.audio.qk=e.fk.createScriptProcessor(b,0,a);e.audio.qk.onaudioprocess=function(f){void 0!==e&&void 0!==e.audio&&(e.audio.tm=f.outputBuffer,Ob("vi",c,[d]))};e.audio.qk.connect(e.fk.destination)},1570025:function(a,b){for(var c=h.SDL2,d=c.capture.Ql.numberOfChannels,e=0;e<d;++e){var f=c.capture.Ql.getChannelData(e);if(f.length!=b)throw"Web Audio capture buffer length mismatch! Destination size: "+f.length+" samples vs expected "+b+" samples!";if(1==d)for(var g=
0;g<b;++g)ab(a+4*g,f[g],"float");else for(g=0;g<b;++g)ab(a+4*(g*d+e),f[g],"float")}},1570630:function(a,b){for(var c=h.SDL2,d=c.audio.tm.numberOfChannels,e=0;e<d;++e){var f=c.audio.tm.getChannelData(e);if(f.length!=b)throw"Web Audio output buffer length mismatch! Destination size: "+f.length+" samples vs expected "+b+" samples!";for(var g=0;g<b;++g)f[g]=J[a+(g*d+e<<2)>>2]}},1571110:function(a){var b=h.SDL2;if(a){void 0!==b.capture.ol&&clearTimeout(b.capture.ol);if(void 0!==b.capture.stream){a=b.capture.stream.getAudioTracks();
for(var c=0;c<a.length;c++)b.capture.stream.removeTrack(a[c]);b.capture.stream=void 0}void 0!==b.capture.qk&&(b.capture.qk.onaudioprocess=function(){},b.capture.qk.disconnect(),b.capture.qk=void 0);void 0!==b.capture.Al&&(b.capture.Al.disconnect(),b.capture.Al=void 0);void 0!==b.capture.Hl&&(b.capture.Hl=void 0);b.capture=void 0}else void 0!=b.audio.qk&&(b.audio.qk.disconnect(),b.audio.qk=void 0),b.audio=void 0;void 0!==b.fk&&void 0===b.audio&&void 0===b.capture&&(b.fk.close(),b.fk=void 0)},1572282:function(a,
b,c){h.SDL2||(h.SDL2={});var d=h.SDL2;d.Ym!==h.canvas&&(d.zk=h.createContext(h.canvas,!1,!0),d.Ym=h.canvas);if(d.w!==a||d.pn!==b||d.tn!==d.zk)d.image=d.zk.createImageData(a,b),d.w=a,d.pn=b,d.tn=d.zk;a=d.image.data;b=c>>2;var e=0;if("undefined"!==typeof CanvasPixelArray&&a instanceof CanvasPixelArray)for(c=a.length;e<c;){var f=G[b];a[e]=f&255;a[e+1]=f>>8&255;a[e+2]=f>>16&255;a[e+3]=255;b++;e+=4}else if(d.$m!==a&&(d.Zm=new Int32Array(a.buffer),d.an=new Uint8Array(a.buffer),d.$m=a),a=d.Zm,c=a.length,
a.set(G.subarray(b,b+c)),a=d.an,b=3,e=b+4*c,0==c%8)for(;b<e;)a[b]=255,b=b+4|0,a[b]=255,b=b+4|0,a[b]=255,b=b+4|0,a[b]=255,b=b+4|0,a[b]=255,b=b+4|0,a[b]=255,b=b+4|0,a[b]=255,b=b+4|0,a[b]=255,b=b+4|0;else for(;b<e;)a[b]=255,b=b+4|0;d.zk.putImageData(d.image,0,0);return 0},1573761:function(a,b,c,d,e){var f=document.createElement("canvas");f.width=a;f.height=b;var g=f.getContext("2d");a=g.createImageData(a,b);b=a.data;e>>=2;var m=0,n;if("undefined"!==typeof CanvasPixelArray&&b instanceof CanvasPixelArray)for(n=
b.length;m<n;){var q=G[e];b[m]=q&255;b[m+1]=q>>8&255;b[m+2]=q>>16&255;b[m+3]=q>>24&255;e++;m+=4}else b=new Int32Array(b.buffer),n=b.length,b.set(G.subarray(e,e+n));g.putImageData(a,0,0);c=0===c&&0===d?"url("+f.toDataURL()+"), auto":"url("+f.toDataURL()+") "+c+" "+d+", auto";d=l(c.length+1);u(c,d,c.length+1);return d},1574750:function(a){h.canvas&&(h.canvas.style.cursor=x(a));return 0},1574843:function(){h.canvas&&(h.canvas.style.cursor="none")},1574912:function(){return window.innerWidth},1574942:function(){return window.innerHeight}};
function Qb(a,b,c){a.addEventListener(b,c,{once:!0})}function Nb(a){var b;b||(b=[document,document.getElementById("canvas")]);["keydown","mousedown","touchstart"].forEach(function(c){b.forEach(function(d){d&&Qb(d,c,function(){"suspended"===a.state&&a.resume()})})})}function Rb(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b(h);else{var c=b.hn;"number"==typeof c?void 0===b.rl?dynCall_v.call(null,c):dynCall_vi.apply(null,[c,b.rl]):c(void 0===b.rl?null:b.rl)}}}
function Sb(a){var b=kb();a=a();ib(b);return a}function Ob(a,b,c){a=h["dynCall_"+a];return c&&c.length?a.apply(null,[b].concat(c)):a.call(null,b)}function Tb(a){a instanceof Va||"unwind"==a||Ka(1,a)}var Ub=[],Vb=0,Wb=0;
function Xb(a){this.vl=a;this.ck=a-24;this.Bm=function(b){G[this.ck+4>>2]=b};this.si=function(){return G[this.ck+4>>2]};this.xl=function(b){G[this.ck+8>>2]=b};this.mn=function(){return G[this.ck+8>>2]};this.Vl=function(){G[this.ck>>2]=0};this.hk=function(b){F[this.ck+12>>0]=b?1:0};this.cl=function(){return 0!=F[this.ck+12>>0]};this.nk=function(){F[this.ck+13>>0]=0};this.nn=function(){return 0!=F[this.ck+13>>0]};this.ml=function(b,c){this.dk(0);this.Bm(b);this.xl(c);this.Vl();this.hk(!1);this.nk()};
this.yk=function(){G[this.ck>>2]+=1};this.Bn=function(){var b=G[this.ck>>2];G[this.ck>>2]=b-1;return 1===b};this.dk=function(b){G[this.ck+16>>2]=b};this.Ek=function(){return G[this.ck+16>>2]};this.ll=function(){if(Yb(this.si()))return G[this.vl>>2];var b=this.Ek();return 0!==b?b:this.vl}}
function Zb(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}if(Na)try{var b=require("crypto");return function(){return b.randomBytes(1)[0]}}catch(c){}return function(){D("randomDevice")}}
var $b=(a,b)=>{for(var c=0,d=a.length-1;0<=d;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},ya=a=>{var b="/"===a.charAt(0),c="/"===a.substr(-1);(a=$b(a.split("/").filter(d=>!!d),!b).join("/"))||b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a},ac=a=>{var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b},bc=a=>
{if("/"===a)return"/";a=ya(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)};function cc(){for(var a="",b=!1,c=arguments.length-1;-1<=c&&!b;c--){b=0<=c?arguments[c]:dc;if("string"!=typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=$b(a.split("/").filter(d=>!!d),!b).join("/");return(b?"/":"")+a||"."}
var ec=(a,b)=>{function c(g){for(var m=0;m<g.length&&""===g[m];m++);for(var n=g.length-1;0<=n&&""===g[n];n--);return m>n?[]:g.slice(m,n-m+1)}a=cc(a).substr(1);b=cc(b).substr(1);a=c(a.split("/"));b=c(b.split("/"));for(var d=Math.min(a.length,b.length),e=d,f=0;f<d;f++)if(a[f]!==b[f]){e=f;break}d=[];for(f=e;f<a.length;f++)d.push("..");d=d.concat(b.slice(e));return d.join("/")},fc=[];function gc(a,b){fc[a]={input:[],output:[],el:b};hc(a,ic)}
var ic={open:function(a){var b=fc[a.node.rdev];if(!b)throw new P(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.el.flush(a.tty)},flush:function(a){a.tty.el.flush(a.tty)},read:function(a,b,c,d){if(!a.tty||!a.tty.el.zm)throw new P(60);for(var e=0,f=0;f<d;f++){try{var g=a.tty.el.zm(a.tty)}catch(m){throw new P(29);}if(void 0===g&&0===e)throw new P(6);if(null===g||void 0===g)break;e++;b[c+f]=g}e&&(a.node.timestamp=Date.now());return e},write:function(a,b,c,d){if(!a.tty||!a.tty.el.$l)throw new P(60);
try{for(var e=0;e<d;e++)a.tty.el.$l(a.tty,b[c+e])}catch(f){throw new P(29);}d&&(a.node.timestamp=Date.now());return e}},kc={zm:function(a){if(!a.input.length){var b=null;if(Na){var c=Buffer.alloc(256),d=0;try{d=fs.readSync(process.stdin.fd,c,0,256,-1)}catch(e){if(e.toString().includes("EOF"))d=0;else throw e;}0<d?b=c.slice(0,d).toString("utf-8"):b=null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==typeof readline&&(b=
readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=jc(b,!0)}return a.input.shift()},$l:function(a,b){null===b||10===b?(Wa(ob(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(Wa(ob(a.output,0)),a.output=[])}},lc={$l:function(a,b){null===b||10===b?(k(ob(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(k(ob(a.output,0)),a.output=[])}},A={Bk:null,gk:function(){return A.createNode(null,"/",16895,0)},
createNode:function(a,b,c,d){if(24576===(c&61440)||4096===(c&61440))throw new P(63);A.Bk||(A.Bk={dir:{node:{Ak:A.Zj.Ak,rk:A.Zj.rk,lookup:A.Zj.lookup,Bl:A.Zj.Bl,rename:A.Zj.rename,unlink:A.Zj.unlink,rmdir:A.Zj.rmdir,readdir:A.Zj.readdir,symlink:A.Zj.symlink},stream:{Xk:A.ak.Xk}},file:{node:{Ak:A.Zj.Ak,rk:A.Zj.rk},stream:{Xk:A.ak.Xk,read:A.ak.read,write:A.ak.write,nm:A.ak.nm,Gm:A.ak.Gm,Im:A.ak.Im}},link:{node:{Ak:A.Zj.Ak,rk:A.Zj.rk,readlink:A.Zj.readlink},stream:{}},sm:{node:{Ak:A.Zj.Ak,rk:A.Zj.rk},
stream:mc}});c=nc(a,b,c,d);16384===(c.mode&61440)?(c.Zj=A.Bk.dir.node,c.ak=A.Bk.dir.stream,c.$j={}):32768===(c.mode&61440)?(c.Zj=A.Bk.file.node,c.ak=A.Bk.file.stream,c.ek=0,c.$j=null):40960===(c.mode&61440)?(c.Zj=A.Bk.link.node,c.ak=A.Bk.link.stream):8192===(c.mode&61440)&&(c.Zj=A.Bk.sm.node,c.ak=A.Bk.sm.stream);c.timestamp=Date.now();a&&(a.$j[b]=c,a.timestamp=c.timestamp);return c},ym:function(a){return a.$j?a.$j.subarray?a.$j.subarray(0,a.ek):new Uint8Array(a.$j):new Uint8Array(0)},wm:function(a,
b){var c=a.$j?a.$j.length:0;c>=b||(b=Math.max(b,c*(1048576>c?2:1.125)>>>0),0!=c&&(b=Math.max(b,256)),c=a.$j,a.$j=new Uint8Array(b),0<a.ek&&a.$j.set(c.subarray(0,a.ek),0))},Cn:function(a,b){if(a.ek!=b)if(0==b)a.$j=null,a.ek=0;else{var c=a.$j;a.$j=new Uint8Array(b);c&&a.$j.set(c.subarray(0,Math.min(b,a.ek)));a.ek=b}},Zj:{Ak:function(a){var b={};b.dev=8192===(a.mode&61440)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;16384===(a.mode&61440)?b.size=4096:32768===(a.mode&61440)?
b.size=a.ek:40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.Wm=4096;b.blocks=Math.ceil(b.size/b.Wm);return b},rk:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&A.Cn(a,b.size)},lookup:function(){throw pc[44];},Bl:function(a,b,c,d){return A.createNode(a,b,c,d)},rename:function(a,b,c){if(16384===(a.mode&61440)){try{var d=qc(b,c)}catch(f){}if(d)for(var e in d.$j)throw new P(55);
}delete a.parent.$j[a.name];a.parent.timestamp=Date.now();a.name=c;b.$j[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.$j[b];a.timestamp=Date.now()},rmdir:function(a,b){var c=qc(a,b),d;for(d in c.$j)throw new P(55);delete a.$j[b];a.timestamp=Date.now()},readdir:function(a){var b=[".",".."],c;for(c in a.$j)a.$j.hasOwnProperty(c)&&b.push(c);return b},symlink:function(a,b,c){a=A.createNode(a,b,41471,0);a.link=c;return a},readlink:function(a){if(40960!==(a.mode&61440))throw new P(28);
return a.link}},ak:{read:function(a,b,c,d,e){var f=a.node.$j;if(e>=a.node.ek)return 0;a=Math.min(a.node.ek-e,d);if(8<a&&f.subarray)b.set(f.subarray(e,e+a),c);else for(d=0;d<a;d++)b[c+d]=f[e+d];return a},write:function(a,b,c,d,e,f){b.buffer===F.buffer&&(f=!1);if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.$j||a.$j.subarray)){if(f)return a.$j=b.subarray(c,c+d),a.ek=d;if(0===a.ek&&0===e)return a.$j=b.slice(c,c+d),a.ek=d;if(e+d<=a.ek)return a.$j.set(b.subarray(c,c+d),e),d}A.wm(a,e+
d);if(a.$j.subarray&&b.subarray)a.$j.set(b.subarray(c,c+d),e);else for(f=0;f<d;f++)a.$j[e+f]=b[c+f];a.ek=Math.max(a.ek,e+d);return d},Xk:function(a,b,c){1===c?b+=a.position:2===c&&32768===(a.node.mode&61440)&&(b+=a.node.ek);if(0>b)throw new P(28);return b},nm:function(a,b,c){A.wm(a.node,b+c);a.node.ek=Math.max(a.node.ek,b+c)},Gm:function(a,b,c,d,e,f){if(0!==b)throw new P(28);if(32768!==(a.node.mode&61440))throw new P(43);a=a.node.$j;if(f&2||a.buffer!==sb){if(0<d||d+c<a.length)a.subarray?a=a.subarray(d,
d+c):a=Array.prototype.slice.call(a,d,d+c);d=!0;D();c=void 0;if(!c)throw new P(48);F.set(a,c)}else d=!1,c=a.byteOffset;return{ck:c,On:d}},Im:function(a,b,c,d,e){if(32768!==(a.node.mode&61440))throw new P(43);if(e&2)return 0;A.ak.write(a,b,0,d,c,!1);return 0}}};function rc(a,b,c){var d="al "+a;Qa(a,function(e){e||D('Loading data file "'+a+'" failed (no arrayBuffer).');b(new Uint8Array(e));d&&Eb(d)},function(){if(c)c();else throw'Loading data file "'+a+'" failed.';});d&&Db(d)}
var M={Lk:{},indexedDB:()=>{if("undefined"!=typeof indexedDB)return indexedDB;var a=null;"object"==typeof window&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);a||D("IDBFS used, but indexedDB not supported");return a},Sm:21,Qk:"FILE_DATA",gk:function(a){return A.gk.apply(null,arguments)},im:(a,b,c)=>{M.Tl(a,(d,e)=>{if(d)return c(d);M.Ul(a,(f,g)=>{if(f)return c(f);M.am(b?g:e,b?e:g,c)})})},zn:()=>{Object.values(M.Lk).forEach(a=>a.close());M.Lk={}},jn:(a,b)=>{var c=
M.Lk[a];if(c)return b(null,c);try{var d=M.indexedDB().open(a,M.Sm)}catch(e){return b(e)}if(!d)return b("Unable to connect to IndexedDB");d.onupgradeneeded=e=>{var f=e.target.result;e=e.target.transaction;var g;f.objectStoreNames.contains(M.Qk)?g=e.objectStore(M.Qk):g=f.createObjectStore(M.Qk);g.indexNames.contains("timestamp")||g.createIndex("timestamp","timestamp",{unique:!1})};d.onsuccess=()=>{c=d.result;M.Lk[a]=c;b(null,c)};d.onerror=e=>{b(this.error);e.preventDefault()}},Tl:(a,b)=>{function c(m){return"."!==
m&&".."!==m}function d(m){return n=>ya(m+"/"+n)}var e={};for(a=za(a.Nk).filter(c).map(d(a.Nk));a.length;){var f=a.pop();try{var g=Aa(f)}catch(m){return b(m)}16384===(g.mode&61440)&&a.push.apply(a,za(f).filter(c).map(d(f)));e[f]={timestamp:g.mtime}}return b(null,{type:"local",entries:e})},Ul:(a,b)=>{var c={};M.jn(a.Nk,(d,e)=>{if(d)return b(d);try{var f=e.transaction([M.Qk],"readonly");f.onerror=g=>{b(this.error);g.preventDefault()};f.objectStore(M.Qk).index("timestamp").openKeyCursor().onsuccess=g=>
{g=g.target.result;if(!g)return b(null,{type:"remote",db:e,entries:c});c[g.primaryKey]={timestamp:g.key};g.continue()}}catch(g){return b(g)}})},Xl:(a,b)=>{try{var c=C(a).node;var d=Aa(a)}catch(e){return b(e)}return 16384===(d.mode&61440)?b(null,{timestamp:d.mtime,mode:d.mode}):32768===(d.mode&61440)?(c.$j=A.ym(c),b(null,{timestamp:d.mtime,mode:d.mode,contents:c.$j})):b(Error("node type not supported"))},gm:(a,b,c)=>{try{if(16384===(b.mode&61440))Ba(a,b.mode);else if(32768===(b.mode&61440))Ca(a,b.contents);
else return c(Error("node type not supported"));Da(a,b.mode);Ea(a,b.timestamp,b.timestamp)}catch(d){return c(d)}c(null)},cm:(a,b)=>{try{C(a);var c=Aa(a);16384===(c.mode&61440)?Fa(a):32768===(c.mode&61440)&&Ga(a)}catch(d){return b(d)}b(null)},Yl:(a,b,c)=>{a=a.get(b);a.onsuccess=d=>{c(null,d.target.result)};a.onerror=d=>{c(this.error);d.preventDefault()}},hm:(a,b,c,d)=>{try{var e=a.put(c,b)}catch(f){d(f);return}e.onsuccess=()=>{d(null)};e.onerror=f=>{d(this.error);f.preventDefault()}},dm:(a,b,c)=>{a=
a.delete(b);a.onsuccess=()=>{c(null)};a.onerror=d=>{c(this.error);d.preventDefault()}},am:(a,b,c)=>{function d(p){if(p&&!m)return m=!0,c(p)}var e=0,f=[];Object.keys(a.entries).forEach(function(p){var t=a.entries[p],v=b.entries[p];v&&t.timestamp.getTime()==v.timestamp.getTime()||(f.push(p),e++)});var g=[];Object.keys(b.entries).forEach(function(p){a.entries[p]||(g.push(p),e++)});if(!e)return c(null);var m=!1,n=("remote"===a.type?a.db:b.db).transaction([M.Qk],"readwrite"),q=n.objectStore(M.Qk);n.onerror=
p=>{d(this.error);p.preventDefault()};n.oncomplete=()=>{m||c(null)};f.sort().forEach(p=>{"local"===b.type?M.Yl(q,p,(t,v)=>{if(t)return d(t);M.gm(p,v,d)}):M.Xl(p,(t,v)=>{if(t)return d(t);M.hm(q,p,v,d)})});g.sort().reverse().forEach(p=>{"local"===b.type?M.cm(p,d):M.dm(q,p,d)})}},sc=null,tc={},uc=[],vc=1,wc=null,dc="/",xc=!0,P=null,pc={},yc=0,C=(a,b={})=>{a=cc(dc,a);if(!a)return{path:"",node:null};b=Object.assign({xm:!0,bm:0},b);if(8<b.bm)throw new P(32);a=$b(a.split("/").filter(g=>!!g),!1);for(var c=
sc,d="/",e=0;e<a.length;e++){var f=e===a.length-1;if(f&&b.parent)break;c=qc(c,a[e]);d=ya(d+"/"+a[e]);c.Mk&&(!f||f&&b.xm)&&(c=c.Mk.root);if(!f||b.Vk)for(f=0;40960===(c.mode&61440);)if(c=zc(d),d=cc(ac(d),c),c=C(d,{bm:b.bm+1}).node,40<f++)throw new P(32);}return{path:d,node:c}},Ac=a=>{for(var b;;){if(a===a.parent)return a=a.gk.Nk,b?"/"!==a[a.length-1]?a+"/"+b:a+b:a;b=b?a.name+"/"+b:a.name;a=a.parent}},Bc=(a,b)=>{for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%wc.length},Cc=
a=>{var b=Bc(a.parent.id,a.name);a.dl=wc[b];wc[b]=a},Dc=a=>{var b=Bc(a.parent.id,a.name);if(wc[b]===a)wc[b]=a.dl;else for(b=wc[b];b;){if(b.dl===a){b.dl=a.dl;break}b=b.dl}},qc=(a,b)=>{var c;if(c=(c=Ec(a,"x"))?c:a.Zj.lookup?0:2)throw new P(c,a);for(c=wc[Bc(a.id,b)];c;c=c.dl){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return a.Zj.lookup(a,b)},nc=(a,b,c,d)=>{a=new Fc(a,b,c,d);Cc(a);return a},Gc={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Hc=a=>{var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},
Ec=(a,b)=>{if(xc)return 0;if(!b.includes("r")||a.mode&292){if(b.includes("w")&&!(a.mode&146)||b.includes("x")&&!(a.mode&73))return 2}else return 2;return 0},Ic=(a,b)=>{try{return qc(a,b),20}catch(c){}return Ec(a,"wx")},Jc=(a,b,c)=>{try{var d=qc(a,b)}catch(e){return e.bk}if(a=Ec(a,"wx"))return a;if(c){if(16384!==(d.mode&61440))return 54;if(d===d.parent||Ac(d)===dc)return 10}else if(16384===(d.mode&61440))return 31;return 0},Kc=(a=0)=>{for(;4096>=a;a++)if(!uc[a])return a;throw new P(33);},Mc=(a,b)=>
{Lc||(Lc=function(){this.Gl={}},Lc.prototype={flags:{get:function(){return this.Gl.flags},set:function(c){this.Gl.flags=c}},position:{get Xn(){return this.Gl.position},set:function(c){this.Gl.position=c}}});a=Object.assign(new Lc,a);b=Kc(b);a.fd=b;return uc[b]=a},mc={open:a=>{a.ak=tc[a.node.rdev].ak;a.ak.open&&a.ak.open(a)},Xk:()=>{throw new P(70);}},hc=(a,b)=>{tc[a]={ak:b}},Nc=()=>{for(var a=[],b=[sc.gk];b.length;){var c=b.pop();a.push(c);b.push.apply(b,c.Hm)}return a},Mb=(a,b)=>{function c(g){yc--;
return b(g)}function d(g){if(g){if(!d.dn)return d.dn=!0,c(g)}else++f>=e.length&&c(null)}"function"==typeof a&&(b=a,a=!1);yc++;1<yc&&k("warning: "+yc+" FS.syncfs operations in flight at once, probably just doing extra work");var e=Nc(),f=0;e.forEach(g=>{if(!g.type.im)return d(null);g.type.im(g,a,d)})},Lb=(a,b)=>{var c="/"===b,d=!b;if(c&&sc)throw new P(10);if(!c&&!d){var e=C(b,{xm:!1});b=e.path;e=e.node;if(e.Mk)throw new P(10);if(16384!==(e.mode&61440))throw new P(54);}b={type:a,eo:{},Nk:b,Hm:[]};a=
a.gk(b);a.gk=b;b.root=a;c?sc=a:e&&(e.Mk=b,e.gk&&e.gk.Hm.push(b));return a},Oc=(a,b,c)=>{var d=C(a,{parent:!0}).node;a=bc(a);if(!a||"."===a||".."===a)throw new P(28);var e=Ic(d,a);if(e)throw new P(e);if(!d.Zj.Bl)throw new P(63);return d.Zj.Bl(d,a,b,c)},Kb=(a,b)=>Oc(a,(void 0!==b?b:511)&1023|16384,0),Ba=(a,b)=>{a=a.split("/");for(var c="",d=0;d<a.length;++d)if(a[d]){c+="/"+a[d];try{Kb(c,b)}catch(e){if(20!=e.bk)throw e;}}},Pc=(a,b,c)=>{"undefined"==typeof c&&(c=b,b=438);return Oc(a,b|8192,c)},Qc=(a,
b)=>{if(!cc(a))throw new P(44);var c=C(b,{parent:!0}).node;if(!c)throw new P(44);b=bc(b);var d=Ic(c,b);if(d)throw new P(d);if(!c.Zj.symlink)throw new P(63);c.Zj.symlink(c,b,a)},Fa=a=>{var b=C(a,{parent:!0}).node;a=bc(a);var c=qc(b,a),d=Jc(b,a,!0);if(d)throw new P(d);if(!b.Zj.rmdir)throw new P(63);if(c.Mk)throw new P(10);b.Zj.rmdir(b,a);Dc(c)},za=a=>{a=C(a,{Vk:!0}).node;if(!a.Zj.readdir)throw new P(54);return a.Zj.readdir(a)},Ga=a=>{var b=C(a,{parent:!0}).node;if(!b)throw new P(44);a=bc(a);var c=qc(b,
a),d=Jc(b,a,!1);if(d)throw new P(d);if(!b.Zj.unlink)throw new P(63);if(c.Mk)throw new P(10);b.Zj.unlink(b,a);Dc(c)},zc=a=>{a=C(a).node;if(!a)throw new P(44);if(!a.Zj.readlink)throw new P(28);return cc(Ac(a.parent),a.Zj.readlink(a))},Aa=(a,b)=>{a=C(a,{Vk:!b}).node;if(!a)throw new P(44);if(!a.Zj.Ak)throw new P(63);return a.Zj.Ak(a)},Rc=a=>Aa(a,!0),Da=(a,b)=>{a="string"==typeof a?C(a,{Vk:!0}).node:a;if(!a.Zj.rk)throw new P(63);a.Zj.rk(a,{mode:b&4095|a.mode&-4096,timestamp:Date.now()})},Ea=(a,b,c)=>{a=
C(a,{Vk:!0}).node;a.Zj.rk(a,{timestamp:Math.max(b,c)})},Tc=(a,b,c)=>{if(""===a)throw new P(44);if("string"==typeof b){var d=Gc[b];if("undefined"==typeof d)throw Error("Unknown file open mode: "+b);b=d}c=b&64?("undefined"==typeof c?438:c)&4095|32768:0;if("object"==typeof a)var e=a;else{a=ya(a);try{e=C(a,{Vk:!(b&131072)}).node}catch(f){}}d=!1;if(b&64)if(e){if(b&128)throw new P(20);}else e=Oc(a,c,0),d=!0;if(!e)throw new P(44);8192===(e.mode&61440)&&(b&=-513);if(b&65536&&16384!==(e.mode&61440))throw new P(54);
if(!d&&(c=e?40960===(e.mode&61440)?32:16384===(e.mode&61440)&&("r"!==Hc(b)||b&512)?31:Ec(e,Hc(b)):44))throw new P(c);if(b&512){c=e;c="string"==typeof c?C(c,{Vk:!0}).node:c;if(!c.Zj.rk)throw new P(63);if(16384===(c.mode&61440))throw new P(31);if(32768!==(c.mode&61440))throw new P(28);if(d=Ec(c,"w"))throw new P(d);c.Zj.rk(c,{size:0,timestamp:Date.now()})}b&=-131713;e=Mc({node:e,path:Ac(e),flags:b,seekable:!0,position:0,ak:e.ak,Jn:[],error:!1});e.ak.open&&e.ak.open(e);!h.logReadFiles||b&1||(Sc||(Sc=
{}),a in Sc||(Sc[a]=1));return e},Uc=a=>{if(null===a.fd)throw new P(8);a.Wk&&(a.Wk=null);try{a.ak.close&&a.ak.close(a)}catch(b){throw b;}finally{uc[a.fd]=null}a.fd=null},Vc=(a,b,c)=>{if(null===a.fd)throw new P(8);if(!a.seekable||!a.ak.Xk)throw new P(70);if(0!=c&&1!=c&&2!=c)throw new P(28);a.position=a.ak.Xk(a,b,c);a.Jn=[];return a.position},Wc=(a,b,c,d,e,f)=>{if(0>d||0>e)throw new P(28);if(null===a.fd)throw new P(8);if(0===(a.flags&2097155))throw new P(8);if(16384===(a.node.mode&61440))throw new P(31);
if(!a.ak.write)throw new P(28);a.seekable&&a.flags&1024&&Vc(a,0,2);var g="undefined"!=typeof e;if(!g)e=a.position;else if(!a.seekable)throw new P(70);b=a.ak.write(a,b,c,d,e,f);g||(a.position+=b);return b},Ca=(a,b)=>{var c={qm:!0};c.flags=c.flags||577;a=Tc(a,c.flags,c.mode);if("string"==typeof b){var d=new Uint8Array(aa(b)+1);b=pb(b,d,0,d.length);Wc(a,d,0,b,void 0,c.qm)}else if(ArrayBuffer.isView(b))Wc(a,b,0,b.byteLength,void 0,c.qm);else throw Error("Unsupported data type");Uc(a)},Xc=()=>{P||(P=function(a,
b){this.node=b;this.Dn=function(c){this.bk=c};this.Dn(a);this.message="FS error"},P.prototype=Error(),P.prototype.constructor=P,[44].forEach(a=>{pc[a]=new P(a);pc[a].stack="<generic error, no stack>"}))},Yc,Zc=(a,b)=>{var c=0;a&&(c|=365);b&&(c|=146);return c},$c=(a,b)=>{a="string"==typeof a?a:Ac(a);for(b=b.split("/").reverse();b.length;){var c=b.pop();if(c){var d=ya(a+"/"+c);try{Kb(d)}catch(e){}a=d}}return d},ad=(a,b,c,d)=>{a=ya(("string"==typeof a?a:Ac(a))+"/"+b);c=Zc(c,d);return Oc(a,(void 0!==
c?c:438)&4095|32768,0)},bd=(a,b,c,d,e,f)=>{var g=b;a&&(a="string"==typeof a?a:Ac(a),g=b?ya(a+"/"+b):a);a=Zc(d,e);g=Oc(g,(void 0!==a?a:438)&4095|32768,0);if(c){if("string"==typeof c){b=Array(c.length);d=0;for(e=c.length;d<e;++d)b[d]=c.charCodeAt(d);c=b}Da(g,a|146);b=Tc(g,577);Wc(b,c,0,c.length,0,f);Uc(b);Da(g,a)}return g},cd=(a,b,c,d)=>{a=ya(("string"==typeof a?a:Ac(a))+"/"+b);b=Zc(!!c,!!d);cd.Em||(cd.Em=64);var e=cd.Em++<<8|0;hc(e,{open:f=>{f.seekable=!1},close:()=>{d&&d.buffer&&d.buffer.length&&
d(10)},read:(f,g,m,n)=>{for(var q=0,p=0;p<n;p++){try{var t=c()}catch(v){throw new P(29);}if(void 0===t&&0===q)throw new P(6);if(null===t||void 0===t)break;q++;g[m+p]=t}q&&(f.node.timestamp=Date.now());return q},write:(f,g,m,n)=>{for(var q=0;q<n;q++)try{d(g[m+q])}catch(p){throw new P(29);}n&&(f.node.timestamp=Date.now());return q}});return Pc(a,b,e)},dd=a=>{if(!(a.vn||a.wn||a.link||a.$j)){if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
if(Pa)try{a.$j=jc(Pa(a.url),!0),a.ek=a.$j.length}catch(b){throw new P(29);}else throw Error("Cannot load without read() or XMLHttpRequest.");}},ed=(a,b,c,d,e)=>{function f(){this.Wl=!1;this.yk=[]}f.prototype.get=function(p){if(!(p>this.length-1||0>p)){var t=p%this.chunkSize;return this.Am(p/this.chunkSize|0)[t]}};f.prototype.si=function(p){this.Am=p};f.prototype.pm=function(){var p=new XMLHttpRequest;p.open("HEAD",c,!1);p.send(null);if(!(200<=p.status&&300>p.status||304===p.status))throw Error("Couldn't load "+
c+". Status: "+p.status);var t=Number(p.getResponseHeader("Content-length")),v,r=(v=p.getResponseHeader("Accept-Ranges"))&&"bytes"===v;p=(v=p.getResponseHeader("Content-Encoding"))&&"gzip"===v;var B=1048576;r||(B=t);var y=this;y.si(I=>{var O=I*B,da=(I+1)*B-1;da=Math.min(da,t-1);if("undefined"==typeof y.yk[I]){var E=y.yk;if(O>da)throw Error("invalid range ("+O+", "+da+") or no bytes requested!");if(da>t-1)throw Error("only "+t+" bytes available! programmer error!");var N=new XMLHttpRequest;N.open("GET",
c,!1);t!==B&&N.setRequestHeader("Range","bytes="+O+"-"+da);N.responseType="arraybuffer";N.overrideMimeType&&N.overrideMimeType("text/plain; charset=x-user-defined");N.send(null);if(!(200<=N.status&&300>N.status||304===N.status))throw Error("Couldn't load "+c+". Status: "+N.status);O=void 0!==N.response?new Uint8Array(N.response||[]):jc(N.responseText||"",!0);E[I]=O}if("undefined"==typeof y.yk[I])throw Error("doXHR failed!");return y.yk[I]});if(p||!t)B=t=1,B=t=this.Am(0).length,Wa("LazyFiles on gzip forces download of the whole file when length is accessed");
this.Vm=t;this.Um=B;this.Wl=!0};if("undefined"!=typeof XMLHttpRequest){if(!Ma)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var g=new f;Object.defineProperties(g,{length:{get:function(){this.Wl||this.pm();return this.Vm}},chunkSize:{get:function(){this.Wl||this.pm();return this.Um}}});var m=void 0}else m=c,g=void 0;var n=ad(a,b,d,e);g?n.$j=g:m&&(n.$j=null,n.url=m);Object.defineProperties(n,{ek:{get:function(){return this.$j.length}}});
var q={};Object.keys(n.ak).forEach(p=>{var t=n.ak[p];q[p]=function(){dd(n);return t.apply(null,arguments)}});q.read=(p,t,v,r,B)=>{dd(n);p=p.node.$j;if(B>=p.length)return 0;r=Math.min(p.length-B,r);if(p.slice)for(var y=0;y<r;y++)t[v+y]=p[B+y];else for(y=0;y<r;y++)t[v+y]=p.get(B+y);return r};n.ak=q;return n},gd=(a,b,c,d,e,f,g,m,n,q)=>{function p(r){function B(y){q&&q();m||bd(a,b,y,d,e,n);f&&f();Eb(v)}fd(r,t,B,()=>{g&&g();Eb(v)})||B(r)}var t=b?cc(ya(a+"/"+b)):a,v="cp "+t;Db(v);"string"==typeof c?rc(c,
r=>p(r),g):p(c)},hd={},Lc,Sc,R={gk:function(){h.websocket=h.websocket&&"object"===typeof h.websocket?h.websocket:{};h.websocket.Ol={};h.websocket.on=function(a,b){"function"===typeof b&&(this.Ol[a]=b);return this};h.websocket.emit=function(a,b){"function"===typeof this.Ol[a]&&this.Ol[a].call(this,b)};return nc(null,"/",16895,0)},createSocket:function(a,b,c){b&=-526337;if(1==b&&c&&6!=c)throw new P(66);a={family:a,type:b,protocol:c,ik:null,error:null,nl:{},pending:[],fl:[],Ok:R.mk};b=R.Dl();c=nc(R.root,
b,49152,0);c.gl=a;b=Mc({path:b,node:c,flags:2,seekable:!1,ak:R.ak});a.stream=b;return a},kn:function(a){return(a=uc[a])&&49152===(a.node.mode&49152)?a.node.gl:null},ak:{Lm:function(a){a=a.node.gl;return a.Ok.Lm(a)},yl:function(a,b,c){a=a.node.gl;return a.Ok.yl(a,b,c)},read:function(a,b,c,d){a=a.node.gl;d=a.Ok.Om(a,d);if(!d)return 0;b.set(d.buffer,c);return d.buffer.length},write:function(a,b,c,d){a=a.node.gl;return a.Ok.Qm(a,b,c,d)},close:function(a){a=a.node.gl;a.Ok.close(a)}},Dl:function(){R.Dl.current||
(R.Dl.current=0);return"socket["+R.Dl.current++ +"]"},mk:{tl:function(a,b,c){if("object"==typeof b){var d=b;c=b=null}if(d)if(d._socket)b=d._socket.remoteAddress,c=d._socket.remotePort;else{c=/ws[s]?:\/\/([^:]+):(\d+)/.exec(d.url);if(!c)throw Error("WebSocket URL must be in the format ws(s)://address:port");b=c[1];c=parseInt(c[2],10)}else try{var e=h.websocket&&"object"===typeof h.websocket,f="ws://";e&&"string"===typeof h.websocket.url&&(f=h.websocket.url);if("ws://"===f||"wss://"===f){var g=b.split("/");
f=f+g[0]+":"+c+"/"+g.slice(1).join("/")}g="binary";e&&"string"===typeof h.websocket.subprotocol&&(g=h.websocket.subprotocol);var m=void 0;"null"!==g&&(g=g.replace(/^ +| +$/g,"").split(/ *, */),m=Na?{protocol:g.toString()}:g);e&&null===h.websocket.subprotocol&&(m=void 0);d=new (Na?require("ws"):WebSocket)(f,m);d.binaryType="arraybuffer"}catch(n){throw new P(23);}b={jk:b,port:c,socket:d,ul:[]};R.mk.mm(a,b);R.mk.rn(a,b);2===a.type&&"undefined"!=typeof a.hl&&b.ul.push(new Uint8Array([255,255,255,255,
112,111,114,116,(a.hl&65280)>>8,a.hl&255]));return b},wl:function(a,b,c){return a.nl[b+":"+c]},mm:function(a,b){a.nl[b.jk+":"+b.port]=b},Pm:function(a,b){delete a.nl[b.jk+":"+b.port]},rn:function(a,b){function c(){h.websocket.emit("open",a.stream.fd);try{for(var f=b.ul.shift();f;)b.socket.send(f),f=b.ul.shift()}catch(g){b.socket.close()}}function d(f){if("string"==typeof f)f=(new TextEncoder).encode(f);else{void 0!==f.byteLength||D();if(0==f.byteLength)return;f=new Uint8Array(f)}var g=e;e=!1;g&&10===
f.length&&255===f[0]&&255===f[1]&&255===f[2]&&255===f[3]&&112===f[4]&&111===f[5]&&114===f[6]&&116===f[7]?(f=f[8]<<8|f[9],R.mk.Pm(a,b),b.port=f,R.mk.mm(a,b)):(a.fl.push({jk:b.jk,port:b.port,data:f}),h.websocket.emit("message",a.stream.fd))}var e=!0;Na?(b.socket.on("open",c),b.socket.on("message",function(f,g){g.Rn&&d((new Uint8Array(f)).buffer)}),b.socket.on("close",function(){h.websocket.emit("close",a.stream.fd)}),b.socket.on("error",function(){a.error=14;h.websocket.emit("error",[a.stream.fd,a.error,
"ECONNREFUSED: Connection refused"])})):(b.socket.onopen=c,b.socket.onclose=function(){h.websocket.emit("close",a.stream.fd)},b.socket.onmessage=function(f){d(f.data)},b.socket.onerror=function(){a.error=14;h.websocket.emit("error",[a.stream.fd,a.error,"ECONNREFUSED: Connection refused"])})},Lm:function(a){if(1===a.type&&a.ik)return a.pending.length?65:0;var b=0,c=1===a.type?R.mk.wl(a,a.Gk,a.Hk):null;if(a.fl.length||!c||c&&c.socket.readyState===c.socket.CLOSING||c&&c.socket.readyState===c.socket.CLOSED)b|=
65;if(!c||c&&c.socket.readyState===c.socket.OPEN)b|=4;if(c&&c.socket.readyState===c.socket.CLOSING||c&&c.socket.readyState===c.socket.CLOSED)b|=16;return b},yl:function(a,b,c){switch(b){case 21531:return b=0,a.fl.length&&(b=a.fl[0].data.length),G[c>>2]=b,0;default:return 28}},close:function(a){if(a.ik){try{a.ik.close()}catch(e){}a.ik=null}for(var b=Object.keys(a.nl),c=0;c<b.length;c++){var d=a.nl[b[c]];try{d.socket.close()}catch(e){}R.mk.Pm(a,d)}return 0},bind:function(a,b,c){if("undefined"!=typeof a.em||
"undefined"!=typeof a.hl)throw new P(28);a.em=b;a.hl=c;if(2===a.type){a.ik&&(a.ik.close(),a.ik=null);try{a.Ok.listen(a,0)}catch(d){if(!(d instanceof P))throw d;if(138!==d.bk)throw d;}}},connect:function(a,b,c){if(a.ik)throw new P(138);if("undefined"!=typeof a.Gk&&"undefined"!=typeof a.Hk){var d=R.mk.wl(a,a.Gk,a.Hk);if(d){if(d.socket.readyState===d.socket.CONNECTING)throw new P(7);throw new P(30);}}b=R.mk.tl(a,b,c);a.Gk=b.jk;a.Hk=b.port;throw new P(26);},listen:function(a){if(!Na)throw new P(138);
if(a.ik)throw new P(28);var b=require("ws").Server;a.ik=new b({host:a.em,port:a.hl});h.websocket.emit("listen",a.stream.fd);a.ik.on("connection",function(c){if(1===a.type){var d=R.createSocket(a.family,a.type,a.protocol);c=R.mk.tl(d,c);d.Gk=c.jk;d.Hk=c.port;a.pending.push(d);h.websocket.emit("connection",d.stream.fd)}else R.mk.tl(a,c),h.websocket.emit("connection",a.stream.fd)});a.ik.on("closed",function(){h.websocket.emit("close",a.stream.fd);a.ik=null});a.ik.on("error",function(){a.error=23;h.websocket.emit("error",
[a.stream.fd,a.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(a){if(!a.ik||!a.pending.length)throw new P(28);var b=a.pending.shift();b.stream.flags=a.stream.flags;return b},Yn:function(a,b){if(b){if(void 0===a.Gk||void 0===a.Hk)throw new P(53);b=a.Gk;a=a.Hk}else b=a.em||0,a=a.hl||0;return{jk:b,port:a}},Qm:function(a,b,c,d,e,f){if(2===a.type){if(void 0===e||void 0===f)e=a.Gk,f=a.Hk;if(void 0===e||void 0===f)throw new P(17);}else e=a.Gk,f=a.Hk;var g=R.mk.wl(a,e,f);if(1===a.type){if(!g||
g.socket.readyState===g.socket.CLOSING||g.socket.readyState===g.socket.CLOSED)throw new P(53);if(g.socket.readyState===g.socket.CONNECTING)throw new P(6);}ArrayBuffer.isView(b)&&(c+=b.byteOffset,b=b.buffer);b=b.slice(c,c+d);if(2===a.type&&(!g||g.socket.readyState!==g.socket.OPEN))return g&&g.socket.readyState!==g.socket.CLOSING&&g.socket.readyState!==g.socket.CLOSED||(g=R.mk.tl(a,e,f)),g.ul.push(b),d;try{return g.socket.send(b),d}catch(m){throw new P(28);}},Om:function(a,b){if(1===a.type&&a.ik)throw new P(53);
var c=a.fl.shift();if(!c){if(1===a.type){if(a=R.mk.wl(a,a.Gk,a.Hk)){if(a.socket.readyState===a.socket.CLOSING||a.socket.readyState===a.socket.CLOSED)return null;throw new P(6);}throw new P(53);}throw new P(6);}var d=c.data.byteLength||c.data.length,e=c.data.byteOffset||0,f=c.data.buffer||c.data;b=Math.min(b,d);var g={buffer:new Uint8Array(f,e,b),jk:c.jk,port:c.port};1===a.type&&b<d&&(c.data=new Uint8Array(f,e+b,d-b),a.fl.unshift(c));return g}}};
function jd(a){a=R.kn(a);if(!a)throw new P(8);return a}function kd(a){return(a&255)+"."+(a>>8&255)+"."+(a>>16&255)+"."+(a>>24&255)}
function ld(a){var b="",c,d=0,e=0,f=0,g=0;a=[a[0]&65535,a[0]>>16,a[1]&65535,a[1]>>16,a[2]&65535,a[2]>>16,a[3]&65535,a[3]>>16];var m=!0;for(c=0;5>c;c++)if(0!==a[c]){m=!1;break}if(m){c=kd(a[6]|a[7]<<16);if(-1===a[5])return"::ffff:"+c;if(0===a[5])return"0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),"::"+c}for(c=0;8>c;c++)0===a[c]&&(1<c-e&&(g=0),e=c,g++),g>d&&(d=g,f=c-d+1);for(c=0;8>c;c++)1<d&&0===a[c]&&c>=f&&c<f+d?c===f&&(b+=":",0===f&&(b+=":")):(b+=Number(md(a[c]&65535)).toString(16),b+=7>c?":":"");return b}
function nd(a,b){var c=bb[a>>1],d=md(K[a+2>>1]);switch(c){case 2:if(16!==b)return{bk:28};a=G[a+4>>2];a=kd(a);break;case 10:if(28!==b)return{bk:28};a=[G[a+8>>2],G[a+12>>2],G[a+16>>2],G[a+20>>2]];a=ld(a);break;default:return{bk:5}}return{family:c,jk:a,port:d}}function od(a){a=a.split(".");for(var b=0;4>b;b++){var c=Number(a[b]);if(isNaN(c))return null;a[b]=c}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}
function pd(a){var b,c,d=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(a))return null;if("::"===a)return[0,0,0,0,0,0,0,0];a=a.startsWith("::")?a.replace("::","Z:"):a.replace("::",":Z:");0<a.indexOf(".")?(a=a.replace(RegExp("[.]","g"),":"),a=a.split(":"),a[a.length-4]=parseInt(a[a.length-4])+256*parseInt(a[a.length-3]),a[a.length-3]=parseInt(a[a.length-2])+256*parseInt(a[a.length-
1]),a=a.slice(0,a.length-2)):a=a.split(":");for(b=c=0;b<a.length;b++)if("string"==typeof a[b])if("Z"===a[b]){for(c=0;c<8-a.length+1;c++)d[b+c]=0;--c}else d[b+c]=qd(parseInt(a[b],16));else d[b+c]=a[b];return[d[1]<<16|d[0],d[3]<<16|d[2],d[5]<<16|d[4],d[7]<<16|d[6]]}var rd=1,sd={},td={};function ud(a){var b=od(a);if(null!==b)return a;b=pd(a);if(null!==b)return a;sd[a]?b=sd[a]:(b=rd++,65535>b||D("exceeded max address mappings of 65535"),b="172.29."+(b&255)+"."+(b&65280),td[b]=a,sd[a]=b);return b}
function vd(a,b,c){if("/"===b.charAt(0))return b;if(-100===a)a=dc;else{a=uc[a];if(!a)throw new P(8);a=a.path}if(0==b.length){if(!c)throw new P(44);return a}return ya(a+"/"+b)}
function wd(a,b,c){try{var d=a(b)}catch(e){if(e&&e.node&&ya(b)!==ya(Ac(e.node)))return-54;throw e;}G[c>>2]=d.dev;G[c+4>>2]=0;G[c+8>>2]=d.ino;G[c+12>>2]=d.mode;G[c+16>>2]=d.nlink;G[c+20>>2]=d.uid;G[c+24>>2]=d.gid;G[c+28>>2]=d.rdev;G[c+32>>2]=0;cb=[d.size>>>0,(H=d.size,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];G[c+40>>2]=cb[0];G[c+44>>2]=cb[1];G[c+48>>2]=4096;G[c+52>>2]=d.blocks;G[c+56>>2]=d.atime.getTime()/1E3|0;G[c+60>>
2]=0;G[c+64>>2]=d.mtime.getTime()/1E3|0;G[c+68>>2]=0;G[c+72>>2]=d.ctime.getTime()/1E3|0;G[c+76>>2]=0;cb=[d.ino>>>0,(H=d.ino,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];G[c+80>>2]=cb[0];G[c+84>>2]=cb[1];return 0}var xd=void 0;function yd(){xd+=4;return G[xd-4>>2]}function zd(a){a=uc[a];if(!a)throw new P(8);return a}
function Ad(a,b,c,d,e){switch(b){case 2:c=od(c);z.fill(0,a,a+16);e&&(G[e>>2]=16);bb[a>>1]=b;G[a+4>>2]=c;bb[a+2>>1]=qd(d);break;case 10:c=pd(c);z.fill(0,a,a+28);e&&(G[e>>2]=28);G[a>>2]=b;G[a+8>>2]=c[0];G[a+12>>2]=c[1];G[a+16>>2]=c[2];G[a+20>>2]=c[3];bb[a+2>>1]=qd(d);break;default:return 5}return 0}
function Bd(a,b,c){function d(n){return(n=n.toTimeString().match(/\(([A-Za-z ]+)\)$/))?n[1]:"GMT"}var e=(new Date).getFullYear(),f=new Date(e,0,1),g=new Date(e,6,1);e=f.getTimezoneOffset();var m=g.getTimezoneOffset();G[a>>2]=60*Math.max(e,m);G[b>>2]=Number(e!=m);a=d(f);b=d(g);a=qb(a);b=qb(b);m<e?(G[c>>2]=a,G[c+4>>2]=b):(G[c>>2]=b,G[c+4>>2]=a)}function Cd(a,b,c){Cd.Xm||(Cd.Xm=!0,Bd(a,b,c))}
function Dd(a,b){Ed=a;Fd=b;if(Gd)if(Hd||(Hd=!0),0==a)Id=function(){var d=Math.max(0,Jd+b-Kd())|0;setTimeout(Ld,d)};else if(1==a)Id=function(){Md(Ld)};else if(2==a){if("undefined"==typeof setImmediate){var c=[];addEventListener("message",function(d){if("setimmediate"===d.data||"setimmediate"===d.data.target)d.stopPropagation(),c.shift()()},!0);setImmediate=function(d){c.push(d);Ma?(void 0===h.setImmediates&&(h.setImmediates=[]),h.setImmediates.push(d),postMessage({target:"setimmediate"})):postMessage("setimmediate",
"*")}}Id=function(){setImmediate(Ld)}}}var Kd;Kd=Na?()=>{var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:()=>performance.now();
function Nd(a){!Gd||D("emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Gd=a;var b=Od;Hd=!1;Ld=function(){if(!gb)if(0<Pd.length){var c=Date.now(),d=Pd.shift();d.hn(d.rl);if(Qd){var e=Qd,f=0==e%1?e-1:Math.floor(e);Qd=d.Tn?f:(8*e+(f+.5))/9}Wa('main loop blocker "'+d.name+'" took '+(Date.now()-c)+" ms");h.setStatus&&(c=h.statusMessage||"Please wait...",d=Qd,e=Rd.Vn,
d?d<e?h.setStatus(c+" ("+(e-d)+"/"+e+")"):h.setStatus(c):h.setStatus(""));b<Od||setTimeout(Ld,0)}else if(!(b<Od))if(Sd=Sd+1|0,1==Ed&&1<Fd&&0!=Sd%Fd)Id();else{0==Ed&&(Jd=Kd());if(S)for(c=S.jl,S.jl=S.ql,S.ql=c,c=S.Pk,S.Pk=S.Il,S.Il=c,c=Td(2097152),d=0;d<=c;++d)S.Pk[d]=0;gb||h.preMainLoop&&!1===h.preMainLoop()||(Ud(a),h.postMainLoop&&h.postMainLoop());b<Od||("object"==typeof SDL&&SDL.audio&&SDL.audio.yn&&SDL.audio.yn(),Id())}}}function Ud(a,b){if(!gb)if(b)a();else try{a()}catch(c){Tb(c)}}
function Vd(a,b){return setTimeout(function(){Ud(a)},b)}var Hd=!1,Id=null,Od=0,Gd=null,Ed=0,Fd=0,Sd=0,Pd=[];function Wd(){Od++;var a=Ed,b=Fd,c=Gd;Gd=null;Nd(c);Dd(a,b);Id()}var Rd={},Jd,Ld,Qd,Xd=!1,Yd=!1,Zd=[];
function $d(){function a(){Yd=document.pointerLockElement===h.canvas||document.mozPointerLockElement===h.canvas||document.webkitPointerLockElement===h.canvas||document.msPointerLockElement===h.canvas}h.preloadPlugins||(h.preloadPlugins=[]);if(!ae){ae=!0;try{be=!0}catch(c){be=!1,Wa("warning: no blob constructor, cannot create blobs with mimetypes")}ce="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:be?null:Wa("warning: no BlobBuilder");de="undefined"!=
typeof window?window.URL?window.URL:window.webkitURL:void 0;h.Jm||"undefined"!=typeof de||(Wa("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),h.Jm=!0);h.preloadPlugins.push({canHandle:function(c){return!h.Jm&&/\.(jpg|jpeg|png|bmp)$/i.test(c)},handle:function(c,d,e,f){var g=null;if(be)try{g=new Blob([c],{type:ee(d)}),g.size!==c.length&&(g=new Blob([(new Uint8Array(c)).buffer],{type:ee(d)}))}catch(q){Xa("Blob constructor present but fails: "+
q+"; falling back to blob builder")}g||(g=new ce,g.append((new Uint8Array(c)).buffer),g=g.getBlob());var m=de.createObjectURL(g),n=new Image;n.onload=()=>{n.complete||D("Image "+d+" could not be decoded");var q=document.createElement("canvas");q.width=n.width;q.height=n.height;q.getContext("2d").drawImage(n,0,0);de.revokeObjectURL(m);e&&e(c)};n.onerror=()=>{Wa("Image "+m+" could not be decoded");f&&f()};n.src=m}});h.preloadPlugins.push({canHandle:function(c){return!h.co&&c.substr(-4)in{".ogg":1,".wav":1,
".mp3":1}},handle:function(c,d,e,f){function g(){n||(n=!0,e&&e(c))}function m(){n||(n=!0,new Audio,f&&f())}var n=!1;if(be){try{var q=new Blob([c],{type:ee(d)})}catch(t){return m()}q=de.createObjectURL(q);var p=new Audio;p.addEventListener("canplaythrough",function(){g(p)},!1);p.onerror=function(){if(!n){Wa("warning: browser could not fully decode audio "+d+", trying slower base64 approach");for(var t="",v=0,r=0,B=0;B<c.length;B++)for(v=v<<8|c[B],r+=8;6<=r;){var y=v>>r-6&63;r-=6;t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[y]}2==
r?(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(v&3)<<4],t+="=="):4==r&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(v&15)<<2],t+="=");p.src="data:audio/x-"+d.substr(-3)+";base64,"+t;g(p)}};p.src=q;Vd(function(){g(p)},1E4)}else return m()}});var b=h.canvas;b&&(b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock||b.webkitRequestPointerLock||b.msRequestPointerLock||function(){},b.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||
document.webkitExitPointerLock||document.msExitPointerLock||function(){},b.exitPointerLock=b.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",a,!1),document.addEventListener("mozpointerlockchange",a,!1),document.addEventListener("webkitpointerlockchange",a,!1),document.addEventListener("mspointerlockchange",a,!1),h.elementPointerLock&&b.addEventListener("click",function(c){!Yd&&h.canvas.requestPointerLock&&(h.canvas.requestPointerLock(),c.preventDefault())},!1))}}
function fd(a,b,c,d){$d();var e=!1;h.preloadPlugins.forEach(function(f){!e&&f.canHandle(b)&&(f.handle(a,b,c,d),e=!0)});return e}
function fe(a,b,c,d){if(b&&h.zk&&a==h.canvas)return h.zk;var e;if(b){var f={antialias:!1,alpha:!1,zl:"undefined"!=typeof WebGL2RenderingContext?2:1};if(d)for(var g in d)f[g]=d[g];if("undefined"!=typeof ge&&(e=he(a,f)))var m=ie[e].xk}else m=a.getContext("2d");if(!m)return null;c&&(b||"undefined"==typeof T||D("cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),h.zk=m,b&&je(e),h.Kn=b,Zd.forEach(function(n){n()}),$d());return m}var ke=!1,le=void 0,me=void 0;
function ne(a,b){function c(){Xd=!1;var f=d.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===f?(d.exitFullscreen=oe,le&&d.requestPointerLock(),Xd=!0,me?("undefined"!=typeof SDL&&(G[SDL.screen>>2]=L[SDL.screen>>2]|8388608),pe(h.canvas),qe()):pe(d)):(f.parentNode.insertBefore(d,f),f.parentNode.removeChild(f),me?("undefined"!=typeof SDL&&(G[SDL.screen>>2]=L[SDL.screen>>2]&
-8388609),pe(h.canvas),qe()):pe(d));if(h.onFullScreen)h.onFullScreen(Xd);if(h.onFullscreen)h.onFullscreen(Xd)}le=a;me=b;"undefined"==typeof le&&(le=!0);"undefined"==typeof me&&(me=!1);var d=h.canvas;ke||(ke=!0,document.addEventListener("fullscreenchange",c,!1),document.addEventListener("mozfullscreenchange",c,!1),document.addEventListener("webkitfullscreenchange",c,!1),document.addEventListener("MSFullscreenChange",c,!1));var e=document.createElement("div");d.parentNode.insertBefore(e,d);e.appendChild(d);
e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||(e.webkitRequestFullscreen?function(){e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(e.webkitRequestFullScreen?function(){e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null);e.requestFullscreen()}
function oe(){if(!Xd)return!1;(document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]);return!0}var re=0;function Md(a){if("function"==typeof requestAnimationFrame)requestAnimationFrame(a);else{var b=Date.now();if(0===re)re=b+1E3/60;else for(;b+2>=re;)re+=1E3/60;setTimeout(a,Math.max(re-b,0))}}
function ee(a){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[a.substr(a.lastIndexOf(".")+1)]}var se=[];function qe(){var a=h.canvas;se.forEach(function(b){b(a.width,a.height)})}
function pe(a,b,c){b&&c?(a.Nn=b,a.sn=c):(b=a.Nn,c=a.sn);var d=b,e=c;h.forcedAspectRatio&&0<h.forcedAspectRatio&&(d/e<h.forcedAspectRatio?d=Math.round(e*h.forcedAspectRatio):e=Math.round(d/h.forcedAspectRatio));if((document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===a.parentNode&&"undefined"!=typeof screen){var f=Math.min(screen.width/d,screen.height/e);d=Math.round(d*f);e=Math.round(e*
f)}me?(a.width!=d&&(a.width=d),a.height!=e&&(a.height=e),"undefined"!=typeof a.style&&(a.style.removeProperty("width"),a.style.removeProperty("height"))):(a.width!=b&&(a.width=b),a.height!=c&&(a.height=c),"undefined"!=typeof a.style&&(d!=b||e!=c?(a.style.setProperty("width",d+"px","important"),a.style.setProperty("height",e+"px","important")):(a.style.removeProperty("width"),a.style.removeProperty("height"))))}
var te={},ae,be,ce,de,U=12288,ue=!1,ve=0,we=0,xe=0,ye={alpha:!1,depth:!1,stencil:!1,antialias:!1},ze={},Ae;function Be(a){var b=a.getExtension("ANGLE_instanced_arrays");b&&(a.vertexAttribDivisor=function(c,d){b.vertexAttribDivisorANGLE(c,d)},a.drawArraysInstanced=function(c,d,e,f){b.drawArraysInstancedANGLE(c,d,e,f)},a.drawElementsInstanced=function(c,d,e,f,g){b.drawElementsInstancedANGLE(c,d,e,f,g)})}
function Ce(a){var b=a.getExtension("OES_vertex_array_object");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(c){b.deleteVertexArrayOES(c)},a.bindVertexArray=function(c){b.bindVertexArrayOES(c)},a.isVertexArray=function(c){return b.isVertexArrayOES(c)})}function De(a){var b=a.getExtension("WEBGL_draw_buffers");b&&(a.drawBuffers=function(c,d){b.drawBuffersWEBGL(c,d)})}
var Ee=1,Fe=[],Ge={},V=[],He=[],Ie=[],Je=[],W=[],Ke=[],ie=[],Le=[],Me=[],Ne=[],Oe=[],Pe=[1,1,2,2,4,4,4,2,3,4,8],Qe={},Re={},Se=4;function X(a){Te||(Te=a)}function Ue(a){for(var b=Ee++,c=a.length;c<b;c++)a[c]=null;return b}function Td(a){return 32-Math.clz32(0===a?0:a-1)}function Ve(a){a=Td(a);var b=S.il[a];if(b)return b;b=T.getParameter(34965);S.il[a]=T.createBuffer();T.bindBuffer(34963,S.il[a]);T.bufferData(34963,1<<a,35048);T.bindBuffer(34963,b);return S.il[a]}
function We(a,b,c){for(var d="",e=0;e<a;++e){var f=c?G[c+4*e>>2]:-1;d+=x(G[b+4*e>>2],0>f?void 0:f)}return d}
function Xe(a){Ye=!1;for(var b=0;b<S.Fm;++b){var c=S.vk[b];if(c.Sk&&c.enabled){Ye=!0;var d=c.pl;d=0<d?a*d:c.size*Pe[c.type-5120]*a;var e=Td(d);var f=S.jl[e],g=S.Pk[e];S.Pk[e]=S.Pk[e]+1&63;var m=f[g];m?e=m:(m=T.getParameter(34964),f[g]=T.createBuffer(),T.bindBuffer(34962,f[g]),T.bufferData(34962,1<<e,35048),T.bindBuffer(34962,m),e=f[g]);T.bindBuffer(34962,e);T.bufferSubData(34962,0,z.subarray(c.ck,c.ck+d));c.Nl.call(T,b,c.size,c.type,c.El,c.pl,0)}}}function Ze(){Ye&&T.bindBuffer(34962,Fe[T.Fk])}
function he(a,b){a.ml||(a.ml=a.getContext,a.getContext=function(d,e){e=a.ml(d,e);return"webgl"==d==e instanceof WebGLRenderingContext?e:null});var c=1<b.zl?a.getContext("webgl2",b):a.getContext("webgl",b);return c?$e(c,b):0}
function $e(a,b){var c=Ue(ie),d={qn:c,attributes:b,version:b.zl,xk:a};a.canvas&&(a.canvas.kl=d);ie[c]=d;("undefined"==typeof b.Rl||b.Rl)&&af(d);d.Fm=d.xk.getParameter(34921);d.vk=[];for(a=0;a<d.Fm;a++)d.vk[a]={enabled:!1,Sk:!1,size:0,type:0,El:0,pl:0,ck:0,Nl:null};a=Td(2097152);d.Pk=[];d.Il=[];d.Pk.length=d.Il.length=a+1;d.jl=[];d.ql=[];d.jl.length=d.ql.length=a+1;d.il=[];d.il.length=a+1;for(b=0;b<=a;++b){d.il[b]=null;d.Pk[b]=d.Il[b]=0;d.jl[b]=[];d.ql[b]=[];var e=d.jl[b],f=d.ql[b];e.length=f.length=
64;for(var g=0;64>g;++g)e[g]=f[g]=null}return c}function je(a){S=ie[a];h.zk=T=S&&S.xk;return!(a&&!T)}
function af(a){a||(a=S);if(!a.un){a.un=!0;var b=a.xk;Be(b);Ce(b);De(b);b.Un=b.getExtension("WEBGL_draw_instanced_base_vertex_base_instance");b.ao=b.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance");2<=a.version&&(b.pk=b.getExtension("EXT_disjoint_timer_query_webgl2"));if(2>a.version||!b.pk)b.pk=b.getExtension("EXT_disjoint_timer_query");b.bo=b.getExtension("WEBGL_multi_draw");(b.getSupportedExtensions()||[]).forEach(function(c){c.includes("lose_context")||c.includes("debug")||b.getExtension(c)})}}
var ge={},Te,S,Ye,bf=[];function cf(a,b,c){bf.length=0;var d;for(c>>=2;d=z[b++];)(d=105>d)&&c&1&&c++,bf.push(d?db[c++>>1]:G[c]),++c;return Pb[a].apply(null,bf)}var df={},ef=0;function ff(){var a=ef;ef++;return a}var gf=0;function hf(){for(var a=jf.length-1;0<=a;--a)kf(a);jf=[];lf=[]}var lf=[];
function mf(a,b,c){function d(g,m){if(g.length!=m.length)return!1;for(var n in g)if(g[n]!=m[n])return!1;return!0}for(var e in lf){var f=lf[e];if(f.jm==a&&d(f.om,c))return}lf.push({jm:a,Mm:b,om:c});lf.sort(function(g,m){return g.Mm<m.Mm})}function nf(a){for(var b=0;b<lf.length;++b)lf[b].jm==a&&(lf.splice(b,1),--b)}function of(){if(gf&&pf.Rk)for(var a=0;a<lf.length;++a){var b=lf[a];lf.splice(a,1);--a;b.jm.apply(null,b.om)}}var jf=[];
function kf(a){var b=jf[a];b.target.removeEventListener(b.lk,b.en,b.sk);jf.splice(a,1)}function qf(a){function b(d){++gf;pf=a;of();a.uk(d);of();--gf}if(a.tk)a.en=b,a.target.addEventListener(a.lk,b,a.sk),jf.push(a),rf||(xb.push(hf),rf=!0);else for(var c=0;c<jf.length;++c)jf[c].target==a.target&&jf[c].lk==a.lk&&kf(c--)}function sf(a){return a?a==window?"#window":a==screen?"#screen":a&&a.nodeName?a.nodeName:"":""}function tf(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}
var uf={},rf,pf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf={},If=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Jf(a){a=2<a?x(a):a;return If[a]||("undefined"!=typeof document?document.querySelector(a):void 0)}function Kf(a,b,c){a=Jf(a);if(!a)return-4;G[b>>2]=a.width;G[c>>2]=a.height}function Lf(a){return Sb(function(){var b=jb(8),c=b+4,d=jb(a.id.length+1);u(a.id,d,a.id.length+1);Kf(d,b,c);return[G[b>>2],G[c>>2]]})}
function Mf(a,b,c){a=Jf(a);if(!a)return-4;a.width=b;a.height=c;return 0}function Nf(a,b,c){a.Sn?Sb(function(){var d=jb(a.id.length+1);u(a.id,d,a.id.length+1);Mf(d,b,c)}):(a.width=b,a.height=c)}
function Of(a){function b(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(document.removeEventListener("fullscreenchange",b),document.removeEventListener("webkitfullscreenchange",b),Nf(a,d,e),a.style.width=f,a.style.height=g,a.style.backgroundColor=m,n||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=n,a.style.paddingLeft=q,a.style.paddingRight=p,a.style.paddingTop=t,a.style.paddingBottom=v,a.style.marginLeft=r,a.style.marginRight=
B,a.style.marginTop=y,a.style.marginBottom=I,document.body.style.margin=O,document.documentElement.style.overflow=da,document.body.scroll=E,a.style.Cm=N,a.kl&&a.kl.xk.viewport(0,0,d,e),Hf.sl&&Pf.apply(null,[Hf.sl,37,0,Hf.rm]))}var c=Lf(a),d=c[0],e=c[1],f=a.style.width,g=a.style.height,m=a.style.backgroundColor,n=document.body.style.backgroundColor,q=a.style.paddingLeft,p=a.style.paddingRight,t=a.style.paddingTop,v=a.style.paddingBottom,r=a.style.marginLeft,B=a.style.marginRight,y=a.style.marginTop,
I=a.style.marginBottom,O=document.body.style.margin,da=document.documentElement.style.overflow,E=document.body.scroll,N=a.style.Cm;document.addEventListener("fullscreenchange",b);document.addEventListener("webkitfullscreenchange",b)}function Qf(a,b,c){a.style.paddingLeft=a.style.paddingRight=c+"px";a.style.paddingTop=a.style.paddingBottom=b+"px"}function Rf(a){return 0>If.indexOf(a)?a.getBoundingClientRect():{left:0,top:0}}
function Sf(a,b){if(0!=b.fm||0!=b.Pl){Of(a);var c=b.En?innerWidth:screen.width,d=b.En?innerHeight:screen.height,e=Rf(a),f=e.width;e=e.height;var g=Lf(a),m=g[0];g=g[1];3==b.fm?(Qf(a,(d-e)/2,(c-f)/2),c=f,d=e):2==b.fm&&(c*g<m*d?(f=g*c/m,Qf(a,(d-f)/2,0),d=f):(f=m*d/g,Qf(a,0,(c-f)/2),c=f));a.style.backgroundColor||(a.style.backgroundColor="black");document.body.style.backgroundColor||(document.body.style.backgroundColor="black");a.style.width=c+"px";a.style.height=d+"px";1==b.gn&&(a.style.Cm="pixelated");
f=2==b.Pl?devicePixelRatio:1;0!=b.Pl&&(c=c*f|0,d=d*f|0,Nf(a,c,d),a.kl&&a.kl.xk.viewport(0,0,c,d))}if(a.requestFullscreen)a.requestFullscreen();else if(a.webkitRequestFullscreen)a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else return tf()?-3:-1;Hf=b;b.sl&&Pf.apply(null,[b.sl,37,0,b.rm]);return 0}function Tf(a){if(a.requestPointerLock)a.requestPointerLock();else if(a.Cl)a.Cl();else return document.body.requestPointerLock||document.body.Cl?-3:-1;return 0}
function Uf(a,b){db[a>>3]=b.timestamp;for(var c=0;c<b.axes.length;++c)db[a+8*c+16>>3]=b.axes[c];for(c=0;c<b.buttons.length;++c)db[a+8*c+528>>3]="object"==typeof b.buttons[c]?b.buttons[c].value:b.buttons[c];for(c=0;c<b.buttons.length;++c)G[a+4*c+1040>>2]="object"==typeof b.buttons[c]?b.buttons[c].pressed:1==b.buttons[c];G[a+1296>>2]=b.connected;G[a+1300>>2]=b.index;G[a+8>>2]=b.axes.length;G[a+12>>2]=b.buttons.length;u(b.id,a+1304,64);u(b.mapping,a+1368,64)}var Vf=[];
function Wf(a){switch(a){case 34962:a=34964;break;case 34963:a=34965;break;case 35051:a=35053;break;case 35052:a=35055;break;case 35982:a=35983;break;case 36662:a=36662;break;case 36663:a=36663;break;case 35345:a=35368}return(a=T.getParameter(a))?a.name|0:0}function Xf(a){switch(a){case 34962:case 34963:case 36662:case 36663:case 35051:case 35052:case 35882:case 35982:case 35345:return!0;default:return!1}}
function Yf(a,b,c,d){for(var e=0;e<a;e++){var f=T[c](),g=f&&Ue(d);f?(f.name=g,d[g]=f):X(1282);G[b+4*e>>2]=g}}function Zf(a,b,c,d,e,f,g,m){b=V[b];if(a=T[a](b,c))d=m&&u(a.name,m,d),e&&(G[e>>2]=d),f&&(G[f>>2]=a.size),g&&(G[g>>2]=a.type)}function $f(a,b){L[a>>2]=b;L[a+4>>2]=(b-L[a>>2])/4294967296}
function ag(a,b,c){if(b){var d=void 0;switch(a){case 36346:d=1;break;case 36344:0!=c&&1!=c&&X(1280);return;case 34814:case 36345:d=0;break;case 34466:var e=T.getParameter(34467);d=e?e.length:0;break;case 33309:if(2>S.version){X(1282);return}d=2*(T.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>S.version){X(1280);return}d=33307==a?3:0}if(void 0===d)switch(e=T.getParameter(a),typeof e){case "number":d=e;break;case "boolean":d=e?1:0;break;case "string":X(1280);return;case "object":if(null===
e)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:d=0;break;default:X(1280);return}else{if(e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array||e instanceof Array){for(a=0;a<e.length;++a)switch(c){case 0:G[b+4*a>>2]=e[a];break;case 2:J[b+4*a>>2]=e[a];break;case 4:F[b+a>>0]=e[a]?1:0}return}try{d=e.name|0}catch(f){X(1280);
k("GL_INVALID_ENUM in glGet"+c+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+f+")");return}}break;default:X(1280);k("GL_INVALID_ENUM in glGet"+c+"v: Native code calling glGet"+c+"v("+a+") and it returns "+e+" of type "+typeof e+"!");return}switch(c){case 1:$f(b,d);break;case 0:G[b>>2]=d;break;case 2:J[b>>2]=d;break;case 4:F[b>>0]=d?1:0}}else X(1281)}
function bg(a,b,c,d){if(c){b=T.getIndexedParameter(a,b);switch(typeof b){case "boolean":a=b?1:0;break;case "number":a=b;break;case "object":if(null===b)switch(a){case 35983:case 35368:a=0;break;default:X(1280);return}else if(b instanceof WebGLBuffer)a=b.name|0;else{X(1280);return}break;default:X(1280);return}switch(d){case 1:$f(c,a);break;case 0:G[c>>2]=a;break;case 2:J[c>>2]=a;break;case 4:F[c>>0]=a?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+d;}}else X(1281)}
function cg(a){var b=aa(a)+1,c=l(b);u(a,c,b);return c}function dg(a){return"]"==a.slice(-1)&&a.lastIndexOf("[")}function eg(a){var b=a.al,c=a.Ml,d;if(!b)for(a.al=b={},a.Rm={},d=0;d<T.getProgramParameter(a,35718);++d){var e=T.getActiveUniform(a,d);var f=e.name;e=e.size;var g=dg(f);g=0<g?f.slice(0,g):f;var m=a.Ll;a.Ll+=e;c[g]=[e,m];for(f=0;f<e;++f)b[m]=f,a.Rm[m++]=g}}
function Y(a){var b=T.um;if(b){var c=b.al[a];"number"==typeof c&&(b.al[a]=c=T.getUniformLocation(b,b.Rm[a]+(0<c?"["+c+"]":"")));return c}X(1282)}function fg(a,b,c,d){if(c)if(a=V[a],eg(a),a=T.getUniform(a,Y(b)),"number"==typeof a||"boolean"==typeof a)switch(d){case 0:G[c>>2]=a;break;case 2:J[c>>2]=a}else for(b=0;b<a.length;b++)switch(d){case 0:G[c+4*b>>2]=a[b];break;case 2:J[c+4*b>>2]=a[b]}else X(1281)}
function gg(a,b,c,d){if(c)if(S.vk[a].enabled&&k("glGetVertexAttrib*v on client-side array: not supported, bad data returned"),a=T.getVertexAttrib(a,b),34975==b)G[c>>2]=a&&a.name;else if("number"==typeof a||"boolean"==typeof a)switch(d){case 0:G[c>>2]=a;break;case 2:J[c>>2]=a;break;case 5:G[c>>2]=Math.fround(a)}else for(b=0;b<a.length;b++)switch(d){case 0:G[c+4*b>>2]=a[b];break;case 2:J[c+4*b>>2]=a[b];break;case 5:G[c+4*b>>2]=Math.fround(a[b])}else X(1281)}
function hg(a){a-=5120;return 0==a?F:1==a?z:2==a?bb:4==a?G:6==a?J:5==a||28922==a||28520==a||30779==a||30782==a?L:K}function ig(a){return 31-Math.clz32(a.BYTES_PER_ELEMENT)}function jg(a,b,c,d,e){a=hg(a);var f=ig(a),g=Se;return a.subarray(e>>f,e+d*(c*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[b-6402]||1)*(1<<f)+g-1&-g)>>f)}var kg=[],lg=[];
function mg(a,b){if(!tf())return-1;a=Jf(a);return a?a.requestFullscreen||a.webkitRequestFullscreen?gf&&pf.Rk?Sf(a,b):b.bn?(mf(Sf,1,[a,b]),1):-2:-3:-4}function ng(a,b){var c={target:Jf(2),lk:"beforeunload",tk:b,uk:function(d){d=d||event;var e=Pf.apply(null,[b,28,0,a]);e&&(e=x(e));if(e)return d.preventDefault(),d.returnValue=e},sk:!0};qf(c)}
function og(a,b,c,d,e,f){wf||(wf=l(256));a={target:Jf(a),lk:f,tk:d,uk:function(g){g=g||event;var m=g.target.id?g.target.id:"",n=wf;u(sf(g.target),n+0,128);u(m,n+128,128);Pf.apply(null,[d,e,n,b])&&g.preventDefault()},sk:c};qf(a)}
function pg(a,b,c,d,e){yf||(yf=l(280));qf({target:a,lk:e,tk:d,uk:function(f){f=f||event;var g=yf,m=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,n=!!m;G[g>>2]=n;G[g+4>>2]=tf();var q=n?m:xf,p=q&&q.id?q.id:"";u(sf(q),g+8,128);u(p,g+136,128);G[g+264>>2]=q?q.clientWidth:0;G[g+268>>2]=q?q.clientHeight:0;G[g+272>>2]=screen.width;G[g+276>>2]=screen.height;n&&(xf=m);Pf.apply(null,[d,19,g,b])&&f.preventDefault()},sk:c})}
function qg(a,b,c,d,e){zf||(zf=l(1432));b={target:Jf(2),Rk:!0,lk:e,tk:c,uk:function(f){f=f||event;var g=zf;Uf(g,f.gamepad);Pf.apply(null,[c,d,g,a])&&f.preventDefault()},sk:b};qf(b)}
function rg(a,b,c,d,e,f){Af||(Af=l(176));a={target:Jf(a),Rk:!0,lk:f,tk:d,uk:function(g){var m=Af;db[m>>3]=g.timeStamp;var n=m>>2;G[n+2]=g.location;G[n+3]=g.ctrlKey;G[n+4]=g.shiftKey;G[n+5]=g.altKey;G[n+6]=g.metaKey;G[n+7]=g.repeat;G[n+8]=g.charCode;G[n+9]=g.keyCode;G[n+10]=g.which;u(g.key||"",m+44,32);u(g.code||"",m+76,32);u(g.char||"",m+108,32);u(g.locale||"",m+140,32);Pf.apply(null,[d,e,m,b])&&g.preventDefault()},sk:c};qf(a)}
function sg(a,b,c){db[a>>3]=b.timeStamp;a>>=2;G[a+2]=b.screenX;G[a+3]=b.screenY;G[a+4]=b.clientX;G[a+5]=b.clientY;G[a+6]=b.ctrlKey;G[a+7]=b.shiftKey;G[a+8]=b.altKey;G[a+9]=b.metaKey;bb[2*a+20]=b.button;bb[2*a+21]=b.buttons;G[a+11]=b.movementX;G[a+12]=b.movementY;c=Rf(c);G[a+13]=b.clientX-c.left;G[a+14]=b.clientY-c.top}
function tg(a,b,c,d,e,f){Bf||(Bf=l(72));a=Jf(a);qf({target:a,Rk:"mousemove"!=f&&"mouseenter"!=f&&"mouseleave"!=f,lk:f,tk:d,uk:function(g){g=g||event;sg(Bf,g,a);Pf.apply(null,[d,e,Bf,b])&&g.preventDefault()},sk:c})}function ug(a,b,c,d,e){Cf||(Cf=l(260));qf({target:a,lk:e,tk:d,uk:function(f){f=f||event;var g=Cf,m=document.pointerLockElement||document.dk||document.nk||document.hk;G[g>>2]=!!m;var n=m&&m.id?m.id:"";u(sf(m),g+4,128);u(n,g+132,128);Pf.apply(null,[d,20,g,b])&&f.preventDefault()},sk:c})}
function vg(a,b,c,d){Df||(Df=l(36));a=Jf(a);qf({target:a,lk:"resize",tk:d,uk:function(e){e=e||event;if(e.target==a){var f=document.body;if(f){var g=Df;G[g>>2]=e.detail;G[g+4>>2]=f.clientWidth;G[g+8>>2]=f.clientHeight;G[g+12>>2]=innerWidth;G[g+16>>2]=innerHeight;G[g+20>>2]=outerWidth;G[g+24>>2]=outerHeight;G[g+28>>2]=pageXOffset;G[g+32>>2]=pageYOffset;Pf.apply(null,[d,10,g,b])&&e.preventDefault()}}},sk:c})}
function wg(a,b,c,d,e,f){Ef||(Ef=l(1696));a=Jf(a);qf({target:a,Rk:"touchstart"==f||"touchend"==f,lk:f,tk:d,uk:function(g){for(var m,n={},q=g.touches,p=0;p<q.length;++p)m=q[p],m.Dm=m.Km=0,n[m.identifier]=m;for(p=0;p<g.changedTouches.length;++p)m=g.changedTouches[p],m.Dm=1,n[m.identifier]=m;for(p=0;p<g.targetTouches.length;++p)n[g.targetTouches[p].identifier].Km=1;q=Ef;db[q>>3]=g.timeStamp;var t=q>>2;G[t+3]=g.ctrlKey;G[t+4]=g.shiftKey;G[t+5]=g.altKey;G[t+6]=g.metaKey;t+=7;var v=Rf(a),r=0;for(p in n)if(m=
n[p],G[t]=m.identifier,G[t+1]=m.screenX,G[t+2]=m.screenY,G[t+3]=m.clientX,G[t+4]=m.clientY,G[t+5]=m.pageX,G[t+6]=m.pageY,G[t+7]=m.Dm,G[t+8]=m.Km,G[t+9]=m.clientX-v.left,G[t+10]=m.clientY-v.top,t+=13,31<++r)break;G[q+8>>2]=r;Pf.apply(null,[d,e,q,b])&&g.preventDefault()},sk:c})}
function xg(a,b,c){var d=If[1];Ff||(Ff=l(8));qf({target:d,lk:"visibilitychange",tk:c,uk:function(e){e=e||event;var f=Ff,g=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState);G[f>>2]=document.hidden;G[f+4>>2]=g;Pf.apply(null,[c,21,f,a])&&e.preventDefault()},sk:b})}function yg(a,b,c,d,e,f){a={target:Jf(a),lk:f,tk:d,uk:function(g){g=g||event;Pf.apply(null,[d,e,0,b])&&g.preventDefault()},sk:c};qf(a)}
function zg(a,b,c,d){Gf||(Gf=l(104));qf({target:a,Rk:!0,lk:"wheel",tk:d,uk:function(e){e=e||event;var f=Gf;sg(f,e,a);db[f+72>>3]=e.deltaX;db[f+80>>3]=e.deltaY;db[f+88>>3]=e.deltaZ;G[f+96>>2]=e.deltaMode;Pf.apply(null,[d,9,f,b])&&e.preventDefault()},sk:c})}var Ag=[];function Bg(a,b){L[a>>2]=b;L[a+4>>2]=b/4294967296|0}var Cg;
function Dg(a,b,c,d,e){function f(N){var qa=0,Q=0;N&&(Q=E.response?E.response.byteLength:0,qa=l(Q),z.set(new Uint8Array(E.response),qa));L[a+12>>2]=qa;Bg(a+16,Q)}var g=L[a+8>>2];if(g){var m=x(g),n=a+112,q=x(n);q||(q="GET");var p=L[n+52>>2],t=L[n+56>>2],v=!!L[n+60>>2],r=L[n+68>>2],B=L[n+72>>2];g=L[n+76>>2];var y=L[n+80>>2],I=L[n+84>>2];n=L[n+88>>2];var O=!!(p&1),da=!!(p&2);p=!!(p&64);r=r?x(r):void 0;B=B?x(B):void 0;var E=new XMLHttpRequest;E.withCredentials=v;E.open(q,m,!p,r,B);p||(E.timeout=t);E.dk=
m;E.responseType="arraybuffer";y&&(m=x(y),E.overrideMimeType(m));if(g)for(;;){q=L[g>>2];if(!q)break;m=L[g+4>>2];if(!m)break;g+=8;q=x(q);m=x(m);E.setRequestHeader(q,m)}Ag.push(E);L[a+0>>2]=Ag.length;g=I&&n?z.slice(I,I+n):null;E.onload=N=>{f(O&&!da);var qa=E.response?E.response.byteLength:0;Bg(a+24,0);qa&&Bg(a+32,qa);K[a+40>>1]=E.readyState;K[a+42>>1]=E.status;E.statusText&&u(E.statusText,a+44,64);200<=E.status&&300>E.status?b&&b(a,E,N):c&&c(a,E,N)};E.onerror=N=>{f(O);var qa=E.status;Bg(a+24,0);Bg(a+
32,E.response?E.response.byteLength:0);K[a+40>>1]=E.readyState;K[a+42>>1]=qa;c&&c(a,E,N)};E.ontimeout=N=>{c&&c(a,E,N)};E.onprogress=N=>{var qa=O&&da&&E.response?E.response.byteLength:0,Q=0;O&&da&&(Q=l(qa),z.set(new Uint8Array(E.response),Q));L[a+12>>2]=Q;Bg(a+16,qa);Bg(a+24,N.loaded-qa);Bg(a+32,N.total);K[a+40>>1]=E.readyState;3<=E.readyState&&0===E.status&&0<N.loaded&&(E.status=200);K[a+42>>1]=E.status;E.statusText&&u(E.statusText,a+44,64);d&&d(a,E,N);Q&&ca(Q)};E.onreadystatechange=N=>{K[a+40>>1]=
E.readyState;2<=E.readyState&&(K[a+42>>1]=E.status);e&&e(a,E,N)};try{E.send(g)}catch(N){c&&c(a,E,N)}}else c(a,0,"no url specified!")}
function Eg(a,b,c,d){var e=Cg;if(e){var f=L[a+112+64>>2];f||(f=L[a+8>>2]);var g=x(f);try{var m=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(b,g);m.onsuccess=()=>{K[a+40>>1]=4;K[a+42>>1]=200;u("OK",a+44,64);c(a,0,g)};m.onerror=n=>{K[a+40>>1]=4;K[a+42>>1]=413;u("Payload Too Large",a+44,64);d(a,0,n)}}catch(n){d(a,0,n)}}else d(a,0,"IndexedDB not available!")}
function Fg(a,b,c){var d=Cg;if(d){var e=L[a+112+64>>2];e||(e=L[a+8>>2]);e=x(e);try{var f=d.transaction(["FILES"],"readonly").objectStore("FILES").get(e);f.onsuccess=g=>{if(g.target.result){g=g.target.result;var m=g.byteLength||g.length,n=l(m);z.set(new Uint8Array(g),n);L[a+12>>2]=n;Bg(a+16,m);Bg(a+24,0);Bg(a+32,m);K[a+40>>1]=4;K[a+42>>1]=200;u("OK",a+44,64);b(a,0,g)}else K[a+40>>1]=4,K[a+42>>1]=404,u("Not Found",a+44,64),c(a,0,"no data")};f.onerror=g=>{K[a+40>>1]=4;K[a+42>>1]=404;u("Not Found",a+
44,64);c(a,0,g)}}catch(g){c(a,0,g)}}else c(a,0,"IndexedDB not available!")}function Gg(a,b,c){var d=Cg;if(d){var e=L[a+112+64>>2];e||(e=L[a+8>>2]);e=x(e);try{var f=d.transaction(["FILES"],"readwrite").objectStore("FILES").delete(e);f.onsuccess=g=>{g=g.target.result;L[a+12>>2]=0;Bg(a+16,0);Bg(a+24,0);Bg(a+32,0);K[a+40>>1]=4;K[a+42>>1]=200;u("OK",a+44,64);b(a,0,g)};f.onerror=g=>{K[a+40>>1]=4;K[a+42>>1]=404;u("Not Found",a+44,64);c(a,0,g)}}catch(g){c(a,0,g)}}else c(a,0,"IndexedDB not available!")}
var Hg=["default","low-power","high-performance"],Ig=[null],Z=null,Jg={};function Kg(){if(!Lg){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ja||"./this.program"},b;for(b in Jg)void 0===Jg[b]?delete a[b]:a[b]=Jg[b];var c=[];for(b in a)c.push(b+"="+a[b]);Lg=c}return Lg}var Lg;function Mg(a){return 0===a%4&&(0!==a%100||0===a%400)}
var Ng=[31,29,31,30,31,30,31,31,30,31,30,31],Og=[31,28,31,30,31,30,31,31,30,31,30,31];
function Pg(a,b,c,d){function e(r,B,y){for(r="number"==typeof r?r.toString():r||"";r.length<B;)r=y[0]+r;return r}function f(r,B){return e(r,B,"0")}function g(r,B){function y(O){return 0>O?-1:0<O?1:0}var I;0===(I=y(r.getFullYear()-B.getFullYear()))&&0===(I=y(r.getMonth()-B.getMonth()))&&(I=y(r.getDate()-B.getDate()));return I}function m(r){switch(r.getDay()){case 0:return new Date(r.getFullYear()-1,11,29);case 1:return r;case 2:return new Date(r.getFullYear(),0,3);case 3:return new Date(r.getFullYear(),
0,2);case 4:return new Date(r.getFullYear(),0,1);case 5:return new Date(r.getFullYear()-1,11,31);case 6:return new Date(r.getFullYear()-1,11,30)}}function n(r){var B=r.Zk;for(r=new Date((new Date(r.$k+1900,0,1)).getTime());0<B;){var y=r.getMonth(),I=(Mg(r.getFullYear())?Ng:Og)[y];if(B>I-r.getDate())B-=I-r.getDate()+1,r.setDate(1),11>y?r.setMonth(y+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else{r.setDate(r.getDate()+B);break}}y=new Date(r.getFullYear()+1,0,4);B=m(new Date(r.getFullYear(),
0,4));y=m(y);return 0>=g(B,r)?0>=g(y,r)?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var q=G[d+40>>2];d={Hn:G[d>>2],Gn:G[d+4>>2],Jl:G[d+8>>2],km:G[d+12>>2],Kl:G[d+16>>2],$k:G[d+20>>2],Ck:G[d+24>>2],Zk:G[d+28>>2],io:G[d+32>>2],Fn:G[d+36>>2],In:q?x(q):""};c=x(c);q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d",
"%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var p in q)c=c.replace(new RegExp(p,"g"),q[p]);var t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),v="January February March April May June July August September October November December".split(" ");q={"%a":function(r){return t[r.Ck].substring(0,3)},"%A":function(r){return t[r.Ck]},"%b":function(r){return v[r.Kl].substring(0,3)},"%B":function(r){return v[r.Kl]},
"%C":function(r){return f((r.$k+1900)/100|0,2)},"%d":function(r){return f(r.km,2)},"%e":function(r){return e(r.km,2," ")},"%g":function(r){return n(r).toString().substring(2)},"%G":function(r){return n(r)},"%H":function(r){return f(r.Jl,2)},"%I":function(r){r=r.Jl;0==r?r=12:12<r&&(r-=12);return f(r,2)},"%j":function(r){for(var B=0,y=0;y<=r.Kl-1;B+=(Mg(r.$k+1900)?Ng:Og)[y++]);return f(r.km+B,3)},"%m":function(r){return f(r.Kl+1,2)},"%M":function(r){return f(r.Gn,2)},"%n":function(){return"\n"},"%p":function(r){return 0<=
r.Jl&&12>r.Jl?"AM":"PM"},"%S":function(r){return f(r.Hn,2)},"%t":function(){return"\t"},"%u":function(r){return r.Ck||7},"%U":function(r){return f(Math.floor((r.Zk+7-r.Ck)/7),2)},"%V":function(r){var B=Math.floor((r.Zk+7-(r.Ck+6)%7)/7);2>=(r.Ck+371-r.Zk-2)%7&&B++;if(B)53==B&&(y=(r.Ck+371-r.Zk)%7,4==y||3==y&&Mg(r.$k)||(B=1));else{B=52;var y=(r.Ck+7-r.Zk-1)%7;(4==y||5==y&&Mg(r.$k%400-1))&&B++}return f(B,2)},"%w":function(r){return r.Ck},"%W":function(r){return f(Math.floor((r.Zk+7-(r.Ck+6)%7)/7),2)},
"%y":function(r){return(r.$k+1900).toString().substring(2)},"%Y":function(r){return r.$k+1900},"%z":function(r){r=r.Fn;var B=0<=r;r=Math.abs(r)/60;return(B?"+":"-")+String("0000"+(r/60*100+r%60)).slice(-4)},"%Z":function(r){return r.In},"%%":function(){return"%"}};c=c.replace(/%%/g,"\x00\x00");for(p in q)c.includes(p)&&(c=c.replace(new RegExp(p,"g"),q[p](d)));c=c.replace(/\0\0/g,"%");p=jc(c,!1);if(p.length>b)return 0;F.set(p,a);return p.length-1}function Qg(a){try{a()}catch(b){D(b)}}
var Rg=0,lb=null,Sg=[],Tg={},Ug={},Vg=0,Wg=null,Xg=[];function Yg(a){var b={},c;for(c in a)(function(d){var e=a[d];b[d]="function"==typeof e?function(){Sg.push(d);try{return e.apply(null,arguments)}finally{gb||(Sg.pop()===d||D(),lb&&1===Rg&&0===Sg.length&&(Rg=0,Qg(h._asyncify_stop_unwind),"undefined"!=typeof Fibers&&Fibers.jo()))}}:e})(c);return b}function mb(){return new Promise((a,b)=>{Wg={resolve:a,reject:b}})}
function Zg(){var a=l(4108),b=a+12;G[a>>2]=b;G[a+4>>2]=b+4096;b=Sg[0];var c=Tg[b];void 0===c&&(c=Vg++,Tg[b]=c,Ug[c]=b);G[a+8>>2]=c;return a}
function $g(a){if(!gb)if(0===Rg){var b=!1,c=!1;a(()=>{if(!gb&&(b=!0,c)){Rg=2;Qg(()=>h._asyncify_start_rewind(lb));"undefined"!=typeof te&&Gd&&Wd();var d=!1;try{var e=(0,h.asm[Ug[G[lb+8>>2]]])()}catch(m){e=m,d=!0}var f=!1;if(!lb){var g=Wg;g&&(Wg=null,(d?g.reject:g.resolve)(e),f=!0)}if(d&&!f)throw e;}});c=!0;b||(Rg=1,lb=Zg(),Qg(()=>h._asyncify_start_unwind(lb)),"undefined"!=typeof te&&Gd&&(Id=null,Od++))}else 2===Rg?(Rg=0,Qg(h._asyncify_stop_rewind),ca(lb),lb=null,Xg.forEach(d=>Ud(d))):D("invalid state: "+
Rg)}function Fc(a,b,c,d){a||(a=this);this.parent=a;this.gk=a.gk;this.Mk=null;this.id=vc++;this.name=b;this.mode=c;this.Zj={};this.ak={};this.rdev=d}Object.defineProperties(Fc.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}},wn:{get:function(){return 16384===(this.mode&61440)}},vn:{get:function(){return 8192===(this.mode&61440)}}});Xc();
wc=Array(4096);Lb(A,"/");Kb("/tmp");Kb("/home");Kb("/home/web_user");(()=>{Kb("/dev");hc(259,{read:()=>0,write:(b,c,d,e)=>e});Pc("/dev/null",259);gc(1280,kc);gc(1536,lc);Pc("/dev/tty",1280);Pc("/dev/tty1",1536);var a=Zb();cd("/dev","random",a);cd("/dev","urandom",a);Kb("/dev/shm");Kb("/dev/shm/tmp")})();
(()=>{Kb("/proc");var a=Kb("/proc/self");Kb("/proc/self/fd");Lb({gk:()=>{var b=nc(a,"fd",16895,73);b.Zj={lookup:(c,d)=>{var e=uc[+d];if(!e)throw new P(8);c={parent:null,gk:{Nk:"fake"},Zj:{readlink:()=>e.path}};return c.parent=c}};return b}},"/proc/self/fd")})();h.FS_createPath=$c;h.FS_createDataFile=bd;h.FS_createPreloadedFile=gd;h.FS_unlink=Ga;h.FS_createLazyFile=ed;h.FS_createDevice=cd;h.requestFullscreen=function(a,b){ne(a,b)};h.requestAnimationFrame=function(a){Md(a)};
h.setCanvasSize=function(a,b,c){pe(h.canvas,a,b);c||qe()};h.pauseMainLoop=function(){Id=null;Od++};h.resumeMainLoop=function(){Wd()};h.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia);window.getUserMedia(void 0)};h.createContext=function(a,b,c,d){return fe(a,b,c,d)};for(var T,ah=0;32>ah;++ah)Vf.push(Array(ah));var bh=new Float32Array(288);for(ah=0;288>ah;++ah)kg[ah]=bh.subarray(0,ah+1);var ch=new Int32Array(288);
for(ah=0;288>ah;++ah)lg[ah]=ch.subarray(0,ah+1);(function(a,b){try{var c=indexedDB.open("emscripten_filesystem",1)}catch(d){b(d);return}c.onupgradeneeded=d=>{d=d.target.result;d.objectStoreNames.contains("FILES")&&d.deleteObjectStore("FILES");d.createObjectStore("FILES")};c.onsuccess=d=>a(d.target.result);c.onerror=d=>b(d)})(a=>{Cg=a;Eb("library_fetch_init")},()=>{Cg=!1;Eb("library_fetch_init")});"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||Db("library_fetch_init");
function jc(a,b){var c=Array(aa(a)+1);a=pb(a,c,0,c.length);b&&(c.length=a);return c}
var Ch={g:function(a){return l(a+24)+24},Xa:function(a){a=new Xb(a);a.cl()||(a.hk(!0),Vb--);a.nk();Ub.push(a);a.yk();return a.ll()},ua:function(){dh(0);var a=Ub.pop();if(a.Bn()&&!a.nn()){var b=a.mn();b&&eh.apply(null,[b,a.vl]);ca((new Xb(a.vl)).ck)}Wb=0},Wa:function(){var a=Wb;if(!a)return Za=0;var b=new Xb(a);b.dk(a);var c=b.si();if(!c)return Za=0,a|0;for(var d=Array.prototype.slice.call(arguments),e=0;e<d.length;e++){var f=d[e];if(0===f||f===c)break;if(fh(f,c,b.ck+16))return Za=f,a|0}Za=c;return a|
0},t:function(){var a=Wb;if(!a)return Za=0;var b=new Xb(a);b.dk(a);var c=b.si();if(!c)return Za=0,a|0;for(var d=Array.prototype.slice.call(arguments),e=0;e<d.length;e++){var f=d[e];if(0===f||f===c)break;if(fh(f,c,b.ck+16))return Za=f,a|0}Za=c;return a|0},h:function(a,b,c){(new Xb(a)).ml(b,c);Wb=a;Vb++;throw a;},Va:function(a){Wb||(Wb=a);throw a;},cc:function(a){try{a=x(a);var b=C(a,{Vk:!0});if(null===b.node)throw new P(44);if(16384!==(b.node.mode&61440))throw new P(54);var c=Ec(b.node,"x");if(c)throw new P(c);
dc=b.path;return 0}catch(d){if("undefined"==typeof hd||!(d instanceof P))throw d;return-d.bk}},Na:function(a,b,c){xd=c;try{var d=zd(a);switch(b){case 0:var e=yd();return 0>e?-28:Mc(d,e).fd;case 1:case 2:return 0;case 3:return d.flags;case 4:return e=yd(),d.flags|=e,0;case 5:return e=yd(),bb[e+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[gh()>>2]=28,-1;default:return-28}}catch(f){if("undefined"==typeof hd||!(f instanceof P))throw f;return-f.bk}},Ob:function(a,b,c){try{var d=
zd(a);d.Wk||(d.Wk=za(d.path));a=0;for(var e=Vc(d,0,1),f=Math.floor(e/280);f<d.Wk.length&&a+280<=c;){var g=d.Wk[f];if("."===g){var m=d.node.id;var n=4}else if(".."===g)m=C(d.path,{parent:!0}).node.id,n=4;else{var q=qc(d.node,g);m=q.id;n=8192===(q.mode&61440)?2:16384===(q.mode&61440)?4:40960===(q.mode&61440)?10:8}cb=[m>>>0,(H=m,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];G[b+a>>2]=cb[0];G[b+a+4>>2]=cb[1];cb=[280*(f+1)>>>
0,(H=280*(f+1),1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];G[b+a+8>>2]=cb[0];G[b+a+12>>2]=cb[1];bb[b+a+16>>1]=280;F[b+a+18>>0]=n;u(g,b+a+19,256);a+=280;f+=1}Vc(d,280*f,0);return a}catch(p){if("undefined"==typeof hd||!(p instanceof P))throw p;return-p.bk}},ec:function(a,b,c){xd=c;try{var d=zd(a);switch(b){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?
0:-59;case 21519:if(!d.tty)return-59;var e=yd();return G[e>>2]=0;case 21520:return d.tty?-28:-59;case 21531:a=e=yd();if(!d.ak.yl)throw new P(59);return d.ak.yl(d,b,a);case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:D("bad ioctl syscall "+b)}}catch(f){if("undefined"==typeof hd||!(f instanceof P))throw f;return-f.bk}},Sb:function(a,b){try{return a=x(a),wd(Rc,a,b)}catch(c){if("undefined"==typeof hd||!(c instanceof P))throw c;return-c.bk}},Pb:function(a,b,c){try{return b=x(b),b=vd(a,
b),b=ya(b),"/"===b[b.length-1]&&(b=b.substr(0,b.length-1)),Kb(b,c),0}catch(d){if("undefined"==typeof hd||!(d instanceof P))throw d;return-d.bk}},Tb:function(a,b,c,d){try{b=x(b);var e=d&256;b=vd(a,b,d&4096);return wd(e?Rc:Aa,b,c)}catch(f){if("undefined"==typeof hd||!(f instanceof P))throw f;return-f.bk}},La:function(a,b,c,d){xd=d;try{b=x(b);b=vd(a,b);var e=d?yd():0;return Tc(b,c,e).fd}catch(f){if("undefined"==typeof hd||!(f instanceof P))throw f;return-f.bk}},Nb:function(a,b,c,d){try{b=x(b);b=vd(a,
b);if(0>=d)var e=-28;else{var f=zc(b),g=Math.min(d,aa(f)),m=F[c+g];u(f,c,d+1);F[c+g]=m;e=g}return e}catch(n){if("undefined"==typeof hd||!(n instanceof P))throw n;return-n.bk}},Gb:function(a,b,c,d,e,f){try{var g=jd(a),m=g.Ok.Om(g,c);if(!m)return 0;e&&Ad(e,g.family,ud(m.jk),m.port,f);z.set(m.buffer,b);return m.buffer.byteLength}catch(n){if("undefined"==typeof hd||!(n instanceof P))throw n;return-n.bk}},Kb:function(a,b,c,d){try{b=x(b);d=x(d);b=vd(a,b);d=vd(c,d);a=b;var e=ac(a),f=ac(d),g=bc(a),m=bc(d);
var n=C(a,{parent:!0});var q=n.node;n=C(d,{parent:!0});var p=n.node;if(!q||!p)throw new P(44);if(q.gk!==p.gk)throw new P(75);var t=qc(q,g),v=ec(a,f);if("."!==v.charAt(0))throw new P(28);v=ec(d,e);if("."!==v.charAt(0))throw new P(55);try{var r=qc(p,m)}catch(I){}if(t!==r){var B=16384===(t.mode&61440),y=Jc(q,g,B);if(y)throw new P(y);if(y=r?Jc(p,m,B):Ic(p,m))throw new P(y);if(!q.Zj.rename)throw new P(63);if(t.Mk||r&&r.Mk)throw new P(10);if(p!==q&&(y=Ec(q,"w")))throw new P(y);Dc(t);try{q.Zj.rename(t,p,
m)}catch(I){throw I;}finally{Cc(t)}}return 0}catch(I){if("undefined"==typeof hd||!(I instanceof P))throw I;return-I.bk}},Lb:function(a){try{return a=x(a),Fa(a),0}catch(b){if("undefined"==typeof hd||!(b instanceof P))throw b;return-b.bk}},Fb:function(a,b,c,d,e,f){try{var g=jd(a);if(0===e)var m=null;else{var n=nd(e,f);if(n.bk)throw new P(n.bk);var q=n.jk;n.jk=(td[q]?td[q]:null)||n.jk;m=n}return m?g.Ok.Qm(g,F,b,c,m.jk,m.port):Wc(g.stream,F,b,c)}catch(p){if("undefined"==typeof hd||!(p instanceof P))throw p;
return-p.bk}},Ub:function(a,b){try{return a=x(a),wd(Aa,a,b)}catch(c){if("undefined"==typeof hd||!(c instanceof P))throw c;return-c.bk}},Mb:function(a,b,c){try{return b=x(b),b=vd(a,b),0===c?Ga(b):512===c?Fa(b):D("Invalid flags passed to unlinkat"),0}catch(d){if("undefined"==typeof hd||!(d instanceof P))throw d;return-d.bk}},bc:function(){D("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},oa:function(){return Date.now()},rh:function(a){delete Ag[a-
1]},ph:function(a,b,c){a=Ag[a-1].getAllResponseHeaders();var d=aa(a)+1;u(a,b,c);return Math.min(d,c)},qh:function(a){return aa(Ag[a-1].getAllResponseHeaders())+1},Vb:function(){return!0},Ib:function(){throw Infinity;},Wb:function(a,b){a=new Date(1E3*G[a>>2]);G[b>>2]=a.getUTCSeconds();G[b+4>>2]=a.getUTCMinutes();G[b+8>>2]=a.getUTCHours();G[b+12>>2]=a.getUTCDate();G[b+16>>2]=a.getUTCMonth();G[b+20>>2]=a.getUTCFullYear()-1900;G[b+24>>2]=a.getUTCDay();G[b+28>>2]=(a.getTime()-Date.UTC(a.getUTCFullYear(),
0,1,0,0,0,0))/864E5|0},Xb:function(a,b){a=new Date(1E3*G[a>>2]);G[b>>2]=a.getSeconds();G[b+4>>2]=a.getMinutes();G[b+8>>2]=a.getHours();G[b+12>>2]=a.getDate();G[b+16>>2]=a.getMonth();G[b+20>>2]=a.getFullYear()-1900;G[b+24>>2]=a.getDay();var c=new Date(a.getFullYear(),0,1);G[b+28>>2]=(a.getTime()-c.getTime())/864E5|0;G[b+36>>2]=-(60*a.getTimezoneOffset());var d=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();c=c.getTimezoneOffset();G[b+32>>2]=(d!=c&&a.getTimezoneOffset()==Math.min(c,d))|0},Yb:function(a){var b=
new Date(G[a+20>>2]+1900,G[a+16>>2],G[a+12>>2],G[a+8>>2],G[a+4>>2],G[a>>2],0),c=G[a+32>>2],d=b.getTimezoneOffset(),e=new Date(b.getFullYear(),0,1),f=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),g=e.getTimezoneOffset(),m=Math.min(g,f);0>c?G[a+32>>2]=Number(f!=g&&m==d):0<c!=(m==d)&&(f=Math.max(g,f),b.setTime(b.getTime()+6E4*((0<c?m:f)-d)));G[a+24>>2]=b.getDay();G[a+28>>2]=(b.getTime()-e.getTime())/864E5|0;G[a>>2]=b.getSeconds();G[a+4>>2]=b.getMinutes();G[a+8>>2]=b.getHours();G[a+12>>2]=b.getDate();
G[a+16>>2]=b.getMonth();return b.getTime()/1E3|0},Zb:function(a){var b=new Date(Date.UTC(G[a+20>>2]+1900,G[a+16>>2],G[a+12>>2],G[a+8>>2],G[a+4>>2],G[a>>2],0));G[a+24>>2]=b.getUTCDay();G[a+28>>2]=(b.getTime()-Date.UTC(b.getUTCFullYear(),0,1,0,0,0,0))/864E5|0;return b.getTime()/1E3|0},$b:Cd,S:function(){D("")},Kh:function(a){if(12448==a)return U=12288,1;U=12300;return 0},Nh:function(a,b,c,d,e){if(62E3!=a)U=12296,c=0;else{if(b)for(;;){a=G[b>>2];if(12321==a)ye.alpha=0<G[b+4>>2];else if(12325==a)ye.depth=
0<G[b+4>>2];else if(12326==a)ye.stencil=0<G[b+4>>2];else if(12337==a)a=G[b+4>>2],ye.antialias=0<a;else if(12338==a)a=G[b+4>>2],ye.antialias=1==a;else if(12544==a)ye.$n=12547!=G[b+4>>2];else if(12344==a)break;b+=8}c&&d||e?(e&&(G[e>>2]=1),c&&0<d&&(G[c>>2]=62002),U=12288,c=1):(U=12300,c=0)}return c},Bh:function(a,b,c,d){if(62E3!=a)return U=12296,0;for(a=1;;){b=G[d>>2];if(12440==b)a=G[d+4>>2];else if(12344==b)break;else return U=12292,0;d+=8}if(2>a||3<a)return U=12293,0;ye.zl=a-1;ye.xn=0;Ae=he(h.canvas,
ye);if(0!=Ae)return U=12288,je(Ae),h.Kn=!0,Zd.forEach(function(e){e()}),je(null),62004;U=12297;return 0},Dh:function(a,b){if(62E3!=a)return U=12296,0;if(62002!=b)return U=12293,0;U=12288;return 62006},Ch:function(a,b){if(62E3!=a)return U=12296,0;if(62004!=b)return U=12294,0;a=Ae;S===ie[a]&&(S=null);if("object"==typeof uf)for(var c=ie[a].xk.canvas,d=0;d<jf.length;++d)jf[d].target!=c||kf(d--);ie[a]&&ie[a].xk.canvas&&(ie[a].xk.canvas.kl=void 0);ie[a]=null;U=12288;ve==b&&(ve=0);return 1},Eh:function(a,
b){if(62E3!=a)return U=12296,0;if(62006!=b)return U=12301,1;we==b&&(we=0);xe==b&&(xe=0);U=12288;return 1},Oh:function(a,b,c,d){if(62E3!=a)return U=12296,0;if(62002!=b)return U=12293,0;if(!d)return U=12300,0;U=12288;switch(c){case 12320:return G[d>>2]=ye.alpha?32:24,1;case 12321:return G[d>>2]=ye.alpha?8:0,1;case 12322:return G[d>>2]=8,1;case 12323:return G[d>>2]=8,1;case 12324:return G[d>>2]=8,1;case 12325:return G[d>>2]=ye.depth?24:0,1;case 12326:return G[d>>2]=ye.stencil?8:0,1;case 12327:return G[d>>
2]=12344,1;case 12328:return G[d>>2]=62002,1;case 12329:return G[d>>2]=0,1;case 12330:return G[d>>2]=4096,1;case 12331:return G[d>>2]=16777216,1;case 12332:return G[d>>2]=4096,1;case 12333:return G[d>>2]=0,1;case 12334:return G[d>>2]=0,1;case 12335:return G[d>>2]=12344,1;case 12337:return G[d>>2]=ye.antialias?4:0,1;case 12338:return G[d>>2]=ye.antialias?1:0,1;case 12339:return G[d>>2]=4,1;case 12340:return G[d>>2]=12344,1;case 12341:case 12342:case 12343:return G[d>>2]=-1,1;case 12345:case 12346:return G[d>>
2]=0,1;case 12347:return G[d>>2]=0,1;case 12348:return G[d>>2]=1;case 12349:case 12350:return G[d>>2]=0,1;case 12351:return G[d>>2]=12430,1;case 12352:return G[d>>2]=4,1;case 12354:return G[d>>2]=0,1;default:return U=12292,0}},fb:function(){U=12288;return 62E3},Ah:function(){return U},Lh:function(a,b,c){if(62E3==a)return b&&(G[b>>2]=1),c&&(G[c>>2]=4),ue=!0,U=12288,1;U=12296;return 0},Fh:function(a,b,c,d){if(62E3!=a)return U=12296,0;if(0!=d&&62004!=d)return U=12294,0;if(0!=c&&62006!=c||0!=b&&62006!=
b)return U=12301,0;je(d?Ae:null);ve=d;xe=b;we=c;U=12288;return 1},zh:function(a,b){if(62E3!=a)return U=12296,0;U=12288;if(ze[b])return ze[b];switch(b){case 12371:a=qb("Emscripten");break;case 12372:a=qb("1.4 Emscripten EGL");break;case 12373:a=qb("");break;case 12429:a=qb("OpenGL_ES");break;default:return U=12300,0}return ze[b]=a},Gh:function(){if(ue)if(h.zk)if(h.zk.isContextLost())U=12302;else return U=12288,1;else U=12290;else U=12289;return 0},Hh:function(a,b){if(62E3!=a)return U=12296,0;0==b?
Dd(0,0):Dd(1,b);U=12288;return 1},Mh:function(a){if(62E3!=a)return U=12296,0;xe=we=ve=0;ue=!1;U=12288;return 1},Jh:function(){U=12288;return 1},Ih:function(){U=12288;return 1},B:function(a,b,c){return cf(a,b,c)},c:cf,Zh:function(a,b,c,d,e,f,g,m){function n(){if(g){var v=0;if(p.statusText){var r=aa(p.statusText)+1;v=jb(r);u(p.statusText,v,r)}hh.apply(null,[g,t,d,p.status,v])}}var q=x(a);a=x(b);c=x(c);var p=new XMLHttpRequest;p.open(a,q,!0);p.responseType="arraybuffer";var t=ff();p.onload=function(){if(200<=
p.status&&300>p.status||0===p.status&&"http"!=q.substr(0,4).toLowerCase()){var v=new Uint8Array(p.response),r=l(v.length);z.set(v,r);f&&hh.apply(null,[f,t,d,r,v.length]);e&&ca(r)}else n();delete df[t]};p.onerror=function(){n();delete df[t]};p.onprogress=function(v){m&&hh.apply(null,[m,t,d,v.loaded,v.lengthComputable||void 0===v.lengthComputable?v.total:0])};p.onabort=function(){delete df[t]};"POST"==a?(p.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p.send(c)):p.send(null);
df[t]=p;return t},Th:function(a){clearInterval(a)},uh:function(){if(!tf())return-1;nf(Sf);var a=If[1];if(a.exitFullscreen)a.fullscreenElement&&a.exitFullscreen();else if(a.webkitExitFullscreen)a.webkitFullscreenElement&&a.webkitExitFullscreen();else return-1;return 0},xh:function(){nf(Tf);if(document.exitPointerLock)document.exitPointerLock();else if(document.si)document.si();else return-1;return 0},ai:Kf,G:function(){return"number"==typeof devicePixelRatio&&devicePixelRatio||1},w:function(a,b,c){a=
Jf(a);if(!a)return-4;a=Rf(a);db[b>>3]=a.width;db[c>>3]=a.height;return 0},jb:function(a,b){if(0>a||a>=vf.length)return-5;if(!vf[a])return-7;Uf(b,vf[a]);return 0},na:Kd,Ph:function(){return vf.length},yh:function(a,b){G[a>>2]=screen.width;G[b>>2]=screen.height},Xg:function(a){T.activeTexture(a)},Wg:function(a,b){T.attachShader(V[a],W[b])},Zd:function(a,b){T.beginQuery(a,Le[b])},lh:function(a,b){T.pk.beginQueryEXT(a,Le[b])},Cd:function(a){T.beginTransformFeedback(a)},Vg:function(a,b,c){T.bindAttribLocation(V[a],
b,x(c))},Ug:function(a,b){34962==a?T.Fk=b:34963==a&&(T.wk=b);35051==a?T.Tk=b:35052==a&&(T.kk=b);T.bindBuffer(a,Fe[b])},zd:function(a,b,c){T.bindBufferBase(a,b,Fe[c])},Ad:function(a,b,c,d,e){T.bindBufferRange(a,b,Fe[c],d,e)},Tg:function(a,b){T.bindFramebuffer(a,He[b])},Sg:function(a,b){T.bindRenderbuffer(a,Ie[b])},Gc:function(a,b){T.bindSampler(a,Me[b])},Rg:function(a,b){T.bindTexture(a,Je[b])},yc:function(a,b){T.bindTransformFeedback(a,Ne[b])},Hd:function(a){T.bindVertexArray(Ke[a]);a=T.getParameter(34965);
T.wk=a?a.name|0:0},dh:function(a){T.bindVertexArray(Ke[a]);a=T.getParameter(34965);T.wk=a?a.name|0:0},Qg:function(a,b,c,d){T.blendColor(a,b,c,d)},Pg:function(a){T.blendEquation(a)},Og:function(a,b){T.blendEquationSeparate(a,b)},Ng:function(a,b){T.blendFunc(a,b)},Mg:function(a,b,c,d){T.blendFuncSeparate(a,b,c,d)},Md:function(a,b,c,d,e,f,g,m,n,q){T.blitFramebuffer(a,b,c,d,e,f,g,m,n,q)},Lg:function(a,b,c,d){2<=S.version?c?T.bufferData(a,z,d,c,b):T.bufferData(a,b,d):T.bufferData(a,c?z.subarray(c,c+b):
b,d)},Kg:function(a,b,c,d){2<=S.version?T.bufferSubData(a,b,z,d,c):T.bufferSubData(a,b,z.subarray(d,d+c))},Jg:function(a){return T.checkFramebufferStatus(a)},Ig:function(a){T.clear(a)},bd:function(a,b,c,d){T.clearBufferfi(a,b,c,d)},dd:function(a,b,c){T.clearBufferfv(a,b,J,c>>2)},fd:function(a,b,c){T.clearBufferiv(a,b,G,c>>2)},ed:function(a,b,c){T.clearBufferuiv(a,b,L,c>>2)},Hg:function(a,b,c,d){T.clearColor(a,b,c,d)},Gg:function(a){T.clearDepth(a)},Fg:function(a){T.clearStencil(a)},Pc:function(a,
b,c,d){return T.clientWaitSync(Oe[a],b,(c>>>0)+4294967296*d)},Eg:function(a,b,c,d){T.colorMask(!!a,!!b,!!c,!!d)},Dg:function(a){T.compileShader(W[a])},Cg:function(a,b,c,d,e,f,g,m){2<=S.version?T.kk?T.compressedTexImage2D(a,b,c,d,e,f,g,m):T.compressedTexImage2D(a,b,c,d,e,f,z,m,g):T.compressedTexImage2D(a,b,c,d,e,f,m?z.subarray(m,m+g):null)},de:function(a,b,c,d,e,f,g,m,n){T.kk?T.compressedTexImage3D(a,b,c,d,e,f,g,m,n):T.compressedTexImage3D(a,b,c,d,e,f,g,z,n,m)},Bg:function(a,b,c,d,e,f,g,m,n){2<=S.version?
T.kk?T.compressedTexSubImage2D(a,b,c,d,e,f,g,m,n):T.compressedTexSubImage2D(a,b,c,d,e,f,g,z,n,m):T.compressedTexSubImage2D(a,b,c,d,e,f,g,n?z.subarray(n,n+m):null)},ce:function(a,b,c,d,e,f,g,m,n,q,p){T.kk?T.compressedTexSubImage3D(a,b,c,d,e,f,g,m,n,q,p):T.compressedTexSubImage3D(a,b,c,d,e,f,g,m,n,z,p,q)},$c:function(a,b,c,d,e){T.copyBufferSubData(a,b,c,d,e)},Ag:function(a,b,c,d,e,f,g,m){T.copyTexImage2D(a,b,c,d,e,f,g,m)},zg:function(a,b,c,d,e,f,g,m){T.copyTexSubImage2D(a,b,c,d,e,f,g,m)},ee:function(a,
b,c,d,e,f,g,m,n){T.copyTexSubImage3D(a,b,c,d,e,f,g,m,n)},yg:function(){var a=Ue(V),b=T.createProgram();b.name=a;b.Kk=b.Ik=b.Jk=0;b.Ll=1;V[a]=b;return a},xg:function(a){var b=Ue(W);W[b]=T.createShader(a);return b},wg:function(a){T.cullFace(a)},vg:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Fe[d];e&&(T.deleteBuffer(e),e.name=0,Fe[d]=null,d==T.Fk&&(T.Fk=0),d==T.wk&&(T.wk=0),d==T.Tk&&(T.Tk=0),d==T.kk&&(T.kk=0))}},ug:function(a,b){for(var c=0;c<a;++c){var d=G[b+4*c>>2],e=He[d];e&&(T.deleteFramebuffer(e),
e.name=0,He[d]=null)}},tg:function(a){if(a){var b=V[a];b?(T.deleteProgram(b),b.name=0,V[a]=null):X(1281)}},ae:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Le[d];e&&(T.deleteQuery(e),Le[d]=null)}},nh:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Le[d];e&&(T.pk.deleteQueryEXT(e),Le[d]=null)}},sg:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Ie[d];e&&(T.deleteRenderbuffer(e),e.name=0,Ie[d]=null)}},Ic:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Me[d];e&&(T.deleteSampler(e),
e.name=0,Me[d]=null)}},rg:function(a){if(a){var b=W[a];b?(T.deleteShader(b),W[a]=null):X(1281)}},Qc:function(a){if(a){var b=Oe[a];b?(T.deleteSync(b),b.name=0,Oe[a]=null):X(1281)}},qg:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Je[d];e&&(T.deleteTexture(e),e.name=0,Je[d]=null)}},xc:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Ne[d];e&&(T.deleteTransformFeedback(e),e.name=0,Ne[d]=null)}},Gd:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2];T.deleteVertexArray(Ke[d]);Ke[d]=null}},
ch:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2];T.deleteVertexArray(Ke[d]);Ke[d]=null}},pg:function(a){T.depthFunc(a)},og:function(a){T.depthMask(!!a)},ng:function(a,b){T.depthRange(a,b)},mg:function(a,b){T.detachShader(V[a],W[b])},lg:function(a){T.disable(a)},kg:function(a){S.vk[a].enabled=!1;T.disableVertexAttribArray(a)},jg:function(a,b,c){Xe(b+c);T.drawArrays(a,b,c);Ze()},Uc:function(a,b,c,d){T.drawArraysInstanced(a,b,c,d)},_g:function(a,b,c,d){T.drawArraysInstanced(a,b,c,d)},hc:function(a,
b,c,d){T.drawArraysInstanced(a,b,c,d)},le:function(a,b,c,d){T.drawArraysInstanced(a,b,c,d)},ic:function(a,b,c,d){T.drawArraysInstanced(a,b,c,d)},Td:function(a,b){for(var c=Vf[a],d=0;d<a;d++)c[d]=G[b+4*d>>2];T.drawBuffers(c)},je:function(a,b){for(var c=Vf[a],d=0;d<a;d++)c[d]=G[b+4*d>>2];T.drawBuffers(c)},$g:function(a,b){for(var c=Vf[a],d=0;d<a;d++)c[d]=G[b+4*d>>2];T.drawBuffers(c)},ig:function(a,b,c,d){if(!T.wk){var e=1*Pe[c-5120]*b;var f=Ve(e);T.bindBuffer(34963,f);T.bufferSubData(34963,0,z.subarray(d,
d+e));d=0}Xe(b);T.drawElements(a,b,c,d);Ze();T.wk||T.bindBuffer(34963,null)},Tc:function(a,b,c,d,e){T.drawElementsInstanced(a,b,c,d,e)},Zg:function(a,b,c,d,e){T.drawElementsInstanced(a,b,c,d,e)},fc:function(a,b,c,d,e){T.drawElementsInstanced(a,b,c,d,e)},gc:function(a,b,c,d,e){T.drawElementsInstanced(a,b,c,d,e)},ke:function(a,b,c,d,e){T.drawElementsInstanced(a,b,c,d,e)},he:function(a,b,c,d,e,f){b=f;T.wk||(f=1*Pe[e-5120]*d,c=Ve(f),T.bindBuffer(34963,c),T.bufferSubData(34963,0,z.subarray(b,b+f)),b=0);
Xe(d);T.drawElements(a,d,e,b);Ze();T.wk||T.bindBuffer(34963,null)},hg:function(a){T.enable(a)},gg:function(a){S.vk[a].enabled=!0;T.enableVertexAttribArray(a)},Yd:function(a){T.endQuery(a)},kh:function(a){T.pk.endQueryEXT(a)},Bd:function(){T.endTransformFeedback()},Sc:function(a,b){return(a=T.fenceSync(a,b))?(b=Ue(Oe),a.name=b,Oe[b]=a,b):0},fg:function(){T.finish()},eg:function(){T.flush()},Id:function(a,b,c){if(Xf(a)){var d=Ge[Wf(a)];d?d.lm&16?0>b||0>c||b+c>d.length?(X(1281),k("invalid range in glFlushMappedBufferRange")):
T.bufferSubData(a,d.offset,z.subarray(d.Yk+b,d.Yk+b+c)):(X(1282),k("buffer was not mapped with GL_MAP_FLUSH_EXPLICIT_BIT in glFlushMappedBufferRange")):(X(1282),k("buffer was never mapped in glFlushMappedBufferRange"))}else X(1280),k("GL_INVALID_ENUM in glFlushMappedBufferRange")},dg:function(a,b,c,d){T.framebufferRenderbuffer(a,b,c,Ie[d])},cg:function(a,b,c,d,e){T.framebufferTexture2D(a,b,c,Je[d],e)},Kd:function(a,b,c,d,e){T.framebufferTextureLayer(a,b,Je[c],d,e)},bg:function(a){T.frontFace(a)},
ag:function(a,b){Yf(a,b,"createBuffer",Fe)},_f:function(a,b){Yf(a,b,"createFramebuffer",He)},be:function(a,b){Yf(a,b,"createQuery",Le)},oh:function(a,b){for(var c=0;c<a;c++){var d=T.pk.createQueryEXT();if(!d){for(X(1282);c<a;)G[b+4*c++>>2]=0;break}var e=Ue(Le);d.name=e;Le[e]=d;G[b+4*c>>2]=e}},Zf:function(a,b){Yf(a,b,"createRenderbuffer",Ie)},Jc:function(a,b){Yf(a,b,"createSampler",Me)},Yf:function(a,b){Yf(a,b,"createTexture",Je)},wc:function(a,b){Yf(a,b,"createTransformFeedback",Ne)},Fd:function(a,
b){Yf(a,b,"createVertexArray",Ke)},bh:function(a,b){Yf(a,b,"createVertexArray",Ke)},$f:function(a){T.generateMipmap(a)},Xf:function(a,b,c,d,e,f,g){Zf("getActiveAttrib",a,b,c,d,e,f,g)},Wf:function(a,b,c,d,e,f,g){Zf("getActiveUniform",a,b,c,d,e,f,g)},Wc:function(a,b,c,d,e){a=V[a];if(a=T.getActiveUniformBlockName(a,b))e&&0<c?(c=u(a,e,c),d&&(G[d>>2]=c)):d&&(G[d>>2]=0)},Xc:function(a,b,c,d){if(d)if(a=V[a],35393==c)c=T.getActiveUniformBlockName(a,b),G[d>>2]=c.length+1;else{if(a=T.getActiveUniformBlockParameter(a,
b,c),null!==a)if(35395==c)for(c=0;c<a.length;c++)G[d+4*c>>2]=a[c];else G[d>>2]=a}else X(1281)},Zc:function(a,b,c,d,e){if(e)if(0<b&&0==c)X(1281);else{a=V[a];for(var f=[],g=0;g<b;g++)f.push(G[c+4*g>>2]);if(a=T.getActiveUniforms(a,f,d))for(b=a.length,g=0;g<b;g++)G[e+4*g>>2]=a[g]}else X(1281)},Vf:function(a,b,c,d){a=T.getAttachedShaders(V[a]);var e=a.length;e>b&&(e=b);G[c>>2]=e;for(b=0;b<e;++b)G[d+4*b>>2]=W.indexOf(a[b])},Uf:function(a,b){return T.getAttribLocation(V[a],x(b))},Tf:function(a,b){ag(a,b,
4)},Kc:function(a,b,c){c?$f(c,T.getBufferParameter(a,b)):X(1281)},Sf:function(a,b,c){c?G[c>>2]=T.getBufferParameter(a,b):X(1281)},Ud:function(a,b,c){if(35005==b){b=0;if(a=Ge[Wf(a)])b=a.Yk;G[c>>2]=b}else X(1280),k("GL_INVALID_ENUM in glGetBufferPointerv")},Rf:function(){var a=T.getError()||Te;Te=0;return a},Qf:function(a,b){ag(a,b,2)},od:function(a,b){return T.getFragDataLocation(V[a],x(b))},Pf:function(a,b,c,d){a=T.getFramebufferAttachmentParameter(a,b,c);if(a instanceof WebGLRenderbuffer||a instanceof
WebGLTexture)a=a.name|0;G[d>>2]=a},Lc:function(a,b,c){bg(a,b,c,1)},Nc:function(a,b){ag(a,b,1)},Dd:function(a,b,c){bg(a,b,c,0)},Of:function(a,b){ag(a,b,0)},lc:function(a,b,c,d,e){if(0>d)X(1281);else if(e){if(a=T.getInternalformatParameter(a,b,c),null!==a)for(b=0;b<a.length&&b<d;++b)G[e+4*b>>2]=a[b]}else X(1281)},sc:function(){X(1282)},Mf:function(a,b,c,d){a=T.getProgramInfoLog(V[a]);null===a&&(a="(unknown error)");b=0<b&&d?u(a,d,b):0;c&&(G[c>>2]=b)},Nf:function(a,b,c){if(c)if(a>=Ee)X(1281);else if(a=
V[a],35716==b)a=T.getProgramInfoLog(a),null===a&&(a="(unknown error)"),G[c>>2]=a.length+1;else if(35719==b){if(!a.Kk)for(b=0;b<T.getProgramParameter(a,35718);++b)a.Kk=Math.max(a.Kk,T.getActiveUniform(a,b).name.length+1);G[c>>2]=a.Kk}else if(35722==b){if(!a.Ik)for(b=0;b<T.getProgramParameter(a,35721);++b)a.Ik=Math.max(a.Ik,T.getActiveAttrib(a,b).name.length+1);G[c>>2]=a.Ik}else if(35381==b){if(!a.Jk)for(b=0;b<T.getProgramParameter(a,35382);++b)a.Jk=Math.max(a.Jk,T.getActiveUniformBlockName(a,b).length+
1);G[c>>2]=a.Jk}else G[c>>2]=T.getProgramParameter(a,b);else X(1281)},fh:function(a,b,c){if(c){a=Le[a];b=2>S.version?T.pk.getQueryObjectEXT(a,b):T.getQueryParameter(a,b);var d;"boolean"==typeof b?d=b?1:0:d=b;$f(c,d)}else X(1281)},hh:function(a,b,c){if(c){a=T.pk.getQueryObjectEXT(Le[a],b);var d;"boolean"==typeof a?d=a?1:0:d=a;G[c>>2]=d}else X(1281)},eh:function(a,b,c){if(c){a=Le[a];b=2>S.version?T.pk.getQueryObjectEXT(a,b):T.getQueryParameter(a,b);var d;"boolean"==typeof b?d=b?1:0:d=b;$f(c,d)}else X(1281)},
Wd:function(a,b,c){if(c){a=T.getQueryParameter(Le[a],b);var d;"boolean"==typeof a?d=a?1:0:d=a;G[c>>2]=d}else X(1281)},gh:function(a,b,c){if(c){a=T.pk.getQueryObjectEXT(Le[a],b);var d;"boolean"==typeof a?d=a?1:0:d=a;G[c>>2]=d}else X(1281)},Xd:function(a,b,c){c?G[c>>2]=T.getQuery(a,b):X(1281)},ih:function(a,b,c){c?G[c>>2]=T.pk.getQueryEXT(a,b):X(1281)},Lf:function(a,b,c){c?G[c>>2]=T.getRenderbufferParameter(a,b):X(1281)},Ac:function(a,b,c){c?J[c>>2]=T.getSamplerParameter(Me[a],b):X(1281)},Bc:function(a,
b,c){c?G[c>>2]=T.getSamplerParameter(Me[a],b):X(1281)},Jf:function(a,b,c,d){a=T.getShaderInfoLog(W[a]);null===a&&(a="(unknown error)");b=0<b&&d?u(a,d,b):0;c&&(G[c>>2]=b)},If:function(a,b,c,d){a=T.getShaderPrecisionFormat(a,b);G[c>>2]=a.rangeMin;G[c+4>>2]=a.rangeMax;G[d>>2]=a.precision},Hf:function(a,b,c,d){if(a=T.getShaderSource(W[a]))b=0<b&&d?u(a,d,b):0,c&&(G[c>>2]=b)},Kf:function(a,b,c){c?35716==b?(a=T.getShaderInfoLog(W[a]),null===a&&(a="(unknown error)"),G[c>>2]=a?a.length+1:0):35720==b?(a=T.getShaderSource(W[a]),
G[c>>2]=a?a.length+1:0):G[c>>2]=T.getShaderParameter(W[a],b):X(1281)},Gf:function(a){var b=Qe[a];if(!b){switch(a){case 7939:b=T.getSupportedExtensions()||[];b=b.concat(b.map(function(d){return"GL_"+d}));b=cg(b.join(" "));break;case 7936:case 7937:case 37445:case 37446:(b=T.getParameter(a))||X(1280);b=b&&cg(b);break;case 7938:b=T.getParameter(7938);b=2<=S.version?"OpenGL ES 3.0 ("+b+")":"OpenGL ES 2.0 ("+b+")";b=cg(b);break;case 35724:b=T.getParameter(35724);var c=b.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);
null!==c&&(3==c[1].length&&(c[1]+="0"),b="OpenGL ES GLSL ES "+c[1]+" ("+b+")");b=cg(b);break;default:X(1280)}Qe[a]=b}return b},ad:function(a,b){if(2>S.version)return X(1282),0;var c=Re[a];if(c)return 0>b||b>=c.length?(X(1281),0):c[b];switch(a){case 7939:return c=T.getSupportedExtensions()||[],c=c.concat(c.map(function(d){return"GL_"+d})),c=c.map(function(d){return cg(d)}),c=Re[a]=c,0>b||b>=c.length?(X(1281),0):c[b];default:return X(1280),0}},Mc:function(a,b,c,d,e){0>c?X(1281):e?(a=T.getSyncParameter(Oe[a],
b),null!==a&&(G[e>>2]=a,d&&(G[d>>2]=1))):X(1281)},Ff:function(a,b,c){c?J[c>>2]=T.getTexParameter(a,b):X(1281)},Ef:function(a,b,c){c?G[c>>2]=T.getTexParameter(a,b):X(1281)},xd:function(a,b,c,d,e,f,g){a=V[a];if(a=T.getTransformFeedbackVarying(a,b))g&&0<c?(c=u(a.name,g,c),d&&(G[d>>2]=c)):d&&(G[d>>2]=0),e&&(G[e>>2]=a.size),f&&(G[f>>2]=a.type)},Yc:function(a,b){return T.getUniformBlockIndex(V[a],x(b))},_c:function(a,b,c,d){if(d)if(0<b&&(0==c||0==d))X(1281);else{a=V[a];for(var e=[],f=0;f<b;f++)e.push(x(G[c+
4*f>>2]));if(a=T.getUniformIndices(a,e))for(b=a.length,f=0;f<b;f++)G[d+4*f>>2]=a[f]}else X(1281)},Bf:function(a,b){b=x(b);if(a=V[a]){eg(a);var c=a.al,d=0,e=b,f=dg(b);0<f&&(d=parseInt(b.slice(f+1))>>>0,e=b.slice(0,f));if((e=a.Ml[e])&&d<e[0]&&(d+=e[1],c[d]=c[d]||T.getUniformLocation(a,b)))return d}else X(1281);return-1},Df:function(a,b,c){fg(a,b,c,2)},Cf:function(a,b,c){fg(a,b,c,0)},pd:function(a,b,c){fg(a,b,c,0)},vd:function(a,b,c){gg(a,b,c,0)},ud:function(a,b,c){gg(a,b,c,0)},yf:function(a,b,c){c?
(S.vk[a].enabled&&k("glGetVertexAttribPointer on client-side array: not supported, bad data returned"),G[c>>2]=T.getVertexAttribOffset(a,b)):X(1281)},Af:function(a,b,c){gg(a,b,c,2)},zf:function(a,b,c){gg(a,b,c,5)},xf:function(a,b){T.hint(a,b)},pc:function(a,b,c){for(var d=Vf[b],e=0;e<b;e++)d[e]=G[c+4*e>>2];T.invalidateFramebuffer(a,d)},oc:function(a,b,c,d,e,f,g){for(var m=Vf[b],n=0;n<b;n++)m[n]=G[c+4*n>>2];T.invalidateSubFramebuffer(a,m,d,e,f,g)},wf:function(a){return(a=Fe[a])?T.isBuffer(a):0},vf:function(a){return T.isEnabled(a)},
uf:function(a){return(a=He[a])?T.isFramebuffer(a):0},tf:function(a){return(a=V[a])?T.isProgram(a):0},_d:function(a){return(a=Le[a])?T.isQuery(a):0},mh:function(a){return(a=Le[a])?T.pk.isQueryEXT(a):0},sf:function(a){return(a=Ie[a])?T.isRenderbuffer(a):0},Hc:function(a){return(a=Me[a])?T.isSampler(a):0},rf:function(a){return(a=W[a])?T.isShader(a):0},Rc:function(a){return T.isSync(Oe[a])},qf:function(a){return(a=Je[a])?T.isTexture(a):0},vc:function(a){return T.isTransformFeedback(Ne[a])},Ed:function(a){return(a=
Ke[a])?T.isVertexArray(a):0},ah:function(a){return(a=Ke[a])?T.isVertexArray(a):0},pf:function(a){T.lineWidth(a)},of:function(a){a=V[a];T.linkProgram(a);a.al=0;a.Ml={}},Jd:function(a,b,c,d){if(26!=d&&10!=d)return k("glMapBufferRange is only supported when access is MAP_WRITE|INVALIDATE_BUFFER"),0;if(!Xf(a))return X(1280),k("GL_INVALID_ENUM in glMapBufferRange"),0;var e=l(c);if(!e)return 0;Ge[Wf(a)]={offset:b,length:c,Yk:e,lm:d};return e},uc:function(){T.pauseTransformFeedback()},nf:function(a,b){3317==
a&&(Se=b);T.pixelStorei(a,b)},mf:function(a,b){T.polygonOffset(a,b)},rc:function(){X(1280)},qc:function(){X(1280)},jh:function(a,b){T.pk.queryCounterEXT(Le[a],b)},ie:function(a){T.readBuffer(a)},lf:function(a,b,c,d,e,f,g){if(2<=S.version)if(T.Tk)T.readPixels(a,b,c,d,e,f,g);else{var m=hg(f);T.readPixels(a,b,c,d,e,f,m,g>>ig(m))}else(g=jg(f,e,c,d,g))?T.readPixels(a,b,c,d,e,f,g):X(1280)},kf:function(){},jf:function(a,b,c,d){T.renderbufferStorage(a,b,c,d)},Ld:function(a,b,c,d,e){T.renderbufferStorageMultisample(a,
b,c,d,e)},tc:function(){T.resumeTransformFeedback()},hf:function(a,b){T.sampleCoverage(a,!!b)},Dc:function(a,b,c){T.samplerParameterf(Me[a],b,c)},Cc:function(a,b,c){T.samplerParameterf(Me[a],b,J[c>>2])},Fc:function(a,b,c){T.samplerParameteri(Me[a],b,c)},Ec:function(a,b,c){T.samplerParameteri(Me[a],b,G[c>>2])},gf:function(a,b,c,d){T.scissor(a,b,c,d)},ff:function(){X(1280)},ef:function(a,b,c,d){b=We(b,c,d);T.shaderSource(W[a],b)},df:function(a,b,c){T.stencilFunc(a,b,c)},cf:function(a,b,c,d){T.stencilFuncSeparate(a,
b,c,d)},bf:function(a){T.stencilMask(a)},af:function(a,b){T.stencilMaskSeparate(a,b)},$e:function(a,b,c){T.stencilOp(a,b,c)},_e:function(a,b,c,d){T.stencilOpSeparate(a,b,c,d)},Ze:function(a,b,c,d,e,f,g,m,n){if(2<=S.version)if(T.kk)T.texImage2D(a,b,c,d,e,f,g,m,n);else if(n){var q=hg(m);T.texImage2D(a,b,c,d,e,f,g,m,q,n>>ig(q))}else T.texImage2D(a,b,c,d,e,f,g,m,null);else T.texImage2D(a,b,c,d,e,f,g,m,n?jg(m,g,d,e,n):null)},ge:function(a,b,c,d,e,f,g,m,n,q){if(T.kk)T.texImage3D(a,b,c,d,e,f,g,m,n,q);else if(q){var p=
hg(n);T.texImage3D(a,b,c,d,e,f,g,m,n,p,q>>ig(p))}else T.texImage3D(a,b,c,d,e,f,g,m,n,null)},Ye:function(a,b,c){T.texParameterf(a,b,c)},Xe:function(a,b,c){T.texParameterf(a,b,J[c>>2])},We:function(a,b,c){T.texParameteri(a,b,c)},Ve:function(a,b,c){T.texParameteri(a,b,G[c>>2])},nc:function(a,b,c,d,e){T.texStorage2D(a,b,c,d,e)},mc:function(a,b,c,d,e,f){T.texStorage3D(a,b,c,d,e,f)},Ue:function(a,b,c,d,e,f,g,m,n){if(2<=S.version)if(T.kk)T.texSubImage2D(a,b,c,d,e,f,g,m,n);else if(n){var q=hg(m);T.texSubImage2D(a,
b,c,d,e,f,g,m,q,n>>ig(q))}else T.texSubImage2D(a,b,c,d,e,f,g,m,null);else q=null,n&&(q=jg(m,g,e,f,n)),T.texSubImage2D(a,b,c,d,e,f,g,m,q)},fe:function(a,b,c,d,e,f,g,m,n,q,p){if(T.kk)T.texSubImage3D(a,b,c,d,e,f,g,m,n,q,p);else if(p){var t=hg(q);T.texSubImage3D(a,b,c,d,e,f,g,m,n,q,t,p>>ig(t))}else T.texSubImage3D(a,b,c,d,e,f,g,m,n,q,null)},yd:function(a,b,c,d){a=V[a];for(var e=[],f=0;f<b;f++)e.push(x(G[c+4*f>>2]));T.transformFeedbackVaryings(a,e,d)},Te:function(a,b){T.uniform1f(Y(a),b)},Se:function(a,
b,c){if(2<=S.version)T.uniform1fv(Y(a),J,c>>2,b);else{if(288>=b)for(var d=kg[b-1],e=0;e<b;++e)d[e]=J[c+4*e>>2];else d=J.subarray(c>>2,c+4*b>>2);T.uniform1fv(Y(a),d)}},Re:function(a,b){T.uniform1i(Y(a),b)},Qe:function(a,b,c){if(2<=S.version)T.uniform1iv(Y(a),G,c>>2,b);else{if(288>=b)for(var d=lg[b-1],e=0;e<b;++e)d[e]=G[c+4*e>>2];else d=G.subarray(c>>2,c+4*b>>2);T.uniform1iv(Y(a),d)}},nd:function(a,b){T.uniform1ui(Y(a),b)},jd:function(a,b,c){T.uniform1uiv(Y(a),L,c>>2,b)},Oe:function(a,b,c){T.uniform2f(Y(a),
b,c)},Ne:function(a,b,c){if(2<=S.version)T.uniform2fv(Y(a),J,c>>2,2*b);else{if(144>=b)for(var d=kg[2*b-1],e=0;e<2*b;e+=2)d[e]=J[c+4*e>>2],d[e+1]=J[c+(4*e+4)>>2];else d=J.subarray(c>>2,c+8*b>>2);T.uniform2fv(Y(a),d)}},Me:function(a,b,c){T.uniform2i(Y(a),b,c)},Le:function(a,b,c){if(2<=S.version)T.uniform2iv(Y(a),G,c>>2,2*b);else{if(144>=b)for(var d=lg[2*b-1],e=0;e<2*b;e+=2)d[e]=G[c+4*e>>2],d[e+1]=G[c+(4*e+4)>>2];else d=G.subarray(c>>2,c+8*b>>2);T.uniform2iv(Y(a),d)}},md:function(a,b,c){T.uniform2ui(Y(a),
b,c)},id:function(a,b,c){T.uniform2uiv(Y(a),L,c>>2,2*b)},Ke:function(a,b,c,d){T.uniform3f(Y(a),b,c,d)},Je:function(a,b,c){if(2<=S.version)T.uniform3fv(Y(a),J,c>>2,3*b);else{if(96>=b)for(var d=kg[3*b-1],e=0;e<3*b;e+=3)d[e]=J[c+4*e>>2],d[e+1]=J[c+(4*e+4)>>2],d[e+2]=J[c+(4*e+8)>>2];else d=J.subarray(c>>2,c+12*b>>2);T.uniform3fv(Y(a),d)}},Ie:function(a,b,c,d){T.uniform3i(Y(a),b,c,d)},He:function(a,b,c){if(2<=S.version)T.uniform3iv(Y(a),G,c>>2,3*b);else{if(96>=b)for(var d=lg[3*b-1],e=0;e<3*b;e+=3)d[e]=
G[c+4*e>>2],d[e+1]=G[c+(4*e+4)>>2],d[e+2]=G[c+(4*e+8)>>2];else d=G.subarray(c>>2,c+12*b>>2);T.uniform3iv(Y(a),d)}},ld:function(a,b,c,d){T.uniform3ui(Y(a),b,c,d)},hd:function(a,b,c){T.uniform3uiv(Y(a),L,c>>2,3*b)},Ge:function(a,b,c,d,e){T.uniform4f(Y(a),b,c,d,e)},Fe:function(a,b,c){if(2<=S.version)T.uniform4fv(Y(a),J,c>>2,4*b);else{if(72>=b){var d=kg[4*b-1],e=J;c>>=2;for(var f=0;f<4*b;f+=4){var g=c+f;d[f]=e[g];d[f+1]=e[g+1];d[f+2]=e[g+2];d[f+3]=e[g+3]}}else d=J.subarray(c>>2,c+16*b>>2);T.uniform4fv(Y(a),
d)}},Ee:function(a,b,c,d,e){T.uniform4i(Y(a),b,c,d,e)},De:function(a,b,c){if(2<=S.version)T.uniform4iv(Y(a),G,c>>2,4*b);else{if(72>=b)for(var d=lg[4*b-1],e=0;e<4*b;e+=4)d[e]=G[c+4*e>>2],d[e+1]=G[c+(4*e+4)>>2],d[e+2]=G[c+(4*e+8)>>2],d[e+3]=G[c+(4*e+12)>>2];else d=G.subarray(c>>2,c+16*b>>2);T.uniform4iv(Y(a),d)}},kd:function(a,b,c,d,e){T.uniform4ui(Y(a),b,c,d,e)},gd:function(a,b,c){T.uniform4uiv(Y(a),L,c>>2,4*b)},Vc:function(a,b,c){a=V[a];T.uniformBlockBinding(a,b,c)},Ce:function(a,b,c,d){if(2<=S.version)T.uniformMatrix2fv(Y(a),
!!c,J,d>>2,4*b);else{if(72>=b)for(var e=kg[4*b-1],f=0;f<4*b;f+=4)e[f]=J[d+4*f>>2],e[f+1]=J[d+(4*f+4)>>2],e[f+2]=J[d+(4*f+8)>>2],e[f+3]=J[d+(4*f+12)>>2];else e=J.subarray(d>>2,d+16*b>>2);T.uniformMatrix2fv(Y(a),!!c,e)}},Sd:function(a,b,c,d){T.uniformMatrix2x3fv(Y(a),!!c,J,d>>2,6*b)},Qd:function(a,b,c,d){T.uniformMatrix2x4fv(Y(a),!!c,J,d>>2,8*b)},Be:function(a,b,c,d){if(2<=S.version)T.uniformMatrix3fv(Y(a),!!c,J,d>>2,9*b);else{if(32>=b)for(var e=kg[9*b-1],f=0;f<9*b;f+=9)e[f]=J[d+4*f>>2],e[f+1]=J[d+
(4*f+4)>>2],e[f+2]=J[d+(4*f+8)>>2],e[f+3]=J[d+(4*f+12)>>2],e[f+4]=J[d+(4*f+16)>>2],e[f+5]=J[d+(4*f+20)>>2],e[f+6]=J[d+(4*f+24)>>2],e[f+7]=J[d+(4*f+28)>>2],e[f+8]=J[d+(4*f+32)>>2];else e=J.subarray(d>>2,d+36*b>>2);T.uniformMatrix3fv(Y(a),!!c,e)}},Rd:function(a,b,c,d){T.uniformMatrix3x2fv(Y(a),!!c,J,d>>2,6*b)},Od:function(a,b,c,d){T.uniformMatrix3x4fv(Y(a),!!c,J,d>>2,12*b)},Ae:function(a,b,c,d){if(2<=S.version)T.uniformMatrix4fv(Y(a),!!c,J,d>>2,16*b);else{if(18>=b){var e=kg[16*b-1],f=J;d>>=2;for(var g=
0;g<16*b;g+=16){var m=d+g;e[g]=f[m];e[g+1]=f[m+1];e[g+2]=f[m+2];e[g+3]=f[m+3];e[g+4]=f[m+4];e[g+5]=f[m+5];e[g+6]=f[m+6];e[g+7]=f[m+7];e[g+8]=f[m+8];e[g+9]=f[m+9];e[g+10]=f[m+10];e[g+11]=f[m+11];e[g+12]=f[m+12];e[g+13]=f[m+13];e[g+14]=f[m+14];e[g+15]=f[m+15]}}else e=J.subarray(d>>2,d+64*b>>2);T.uniformMatrix4fv(Y(a),!!c,e)}},Pd:function(a,b,c,d){T.uniformMatrix4x2fv(Y(a),!!c,J,d>>2,8*b)},Nd:function(a,b,c,d){T.uniformMatrix4x3fv(Y(a),!!c,J,d>>2,12*b)},Vd:function(a){if(!Xf(a))return X(1280),k("GL_INVALID_ENUM in glUnmapBuffer"),
0;var b=Wf(a),c=Ge[b];if(!c)return X(1282),k("buffer was never mapped in glUnmapBuffer"),0;Ge[b]=null;c.lm&16||(2<=S.version?T.bufferSubData(a,c.offset,z,c.Yk,c.length):T.bufferSubData(a,c.offset,z.subarray(c.Yk,c.Yk+c.length)));ca(c.Yk);return 1},ze:function(a){a=V[a];T.useProgram(a);T.um=a},ye:function(a){T.validateProgram(V[a])},xe:function(a,b){T.vertexAttrib1f(a,b)},we:function(a,b){T.vertexAttrib1f(a,J[b>>2])},ve:function(a,b,c){T.vertexAttrib2f(a,b,c)},te:function(a,b){T.vertexAttrib2f(a,J[b>>
2],J[b+4>>2])},se:function(a,b,c,d){T.vertexAttrib3f(a,b,c,d)},re:function(a,b){T.vertexAttrib3f(a,J[b>>2],J[b+4>>2],J[b+8>>2])},qe:function(a,b,c,d,e){T.vertexAttrib4f(a,b,c,d,e)},pe:function(a,b){T.vertexAttrib4f(a,J[b>>2],J[b+4>>2],J[b+8>>2],J[b+12>>2])},zc:function(a,b){T.vertexAttribDivisor(a,b)},Yg:function(a,b){T.vertexAttribDivisor(a,b)},jc:function(a,b){T.vertexAttribDivisor(a,b)},me:function(a,b){T.vertexAttribDivisor(a,b)},kc:function(a,b){T.vertexAttribDivisor(a,b)},td:function(a,b,c,
d,e){T.vertexAttribI4i(a,b,c,d,e)},rd:function(a,b){T.vertexAttribI4i(a,G[b>>2],G[b+4>>2],G[b+8>>2],G[b+12>>2])},sd:function(a,b,c,d,e){T.vertexAttribI4ui(a,b,c,d,e)},qd:function(a,b){T.vertexAttribI4ui(a,L[b>>2],L[b+4>>2],L[b+8>>2],L[b+12>>2])},wd:function(a,b,c,d,e){var f=S.vk[a];T.Fk?(f.Sk=!1,T.vertexAttribIPointer(a,b,c,d,e)):(f.size=b,f.type=c,f.El=!1,f.pl=d,f.ck=e,f.Sk=!0,f.Nl=function(g,m,n,q,p,t){this.vertexAttribIPointer(g,m,n,p,t)})},oe:function(a,b,c,d,e,f){var g=S.vk[a];T.Fk?(g.Sk=!1,
T.vertexAttribPointer(a,b,c,!!d,e,f)):(g.size=b,g.type=c,g.El=d,g.pl=e,g.ck=f,g.Sk=!0,g.Nl=function(m,n,q,p,t,v){this.vertexAttribPointer(m,n,q,p,t,v)})},ne:function(a,b,c,d){T.viewport(a,b,c,d)},Oc:function(a,b,c,d){T.waitSync(Oe[a],b,(c>>>0)+4294967296*d)},ya:function(){return 1},th:function(){return!Ma},ac:function(a,b,c){z.copyWithin(a,b,b+c)},Qh:function(a,b){function c(d){ih.apply(null,[a,d,b])&&requestAnimationFrame(c)}return requestAnimationFrame(c)},vh:function(a,b,c){return mg(a,{fm:G[c>>
2],Pl:G[c+4>>2],gn:G[c+8>>2],bn:b,sl:G[c+12>>2],rm:G[c+16>>2]})},eb:function(a,b){a=Jf(a);return a?a.requestPointerLock||a.Cl?gf&&pf.Rk?Tf(a):b?(mf(Tf,2,[a]),1):-2:-1:-4},Jb:function(a){var b=z.length;a>>>=0;if(2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);var e=Math;d=Math.max(a,d);e=e.min.call(e,2147483648,d+(65536-d%65536)%65536);a:{try{fb.grow(e-sb.byteLength+65535>>>16);tb();var f=1;break a}catch(g){}f=void 0}if(f)return!0}return!1},kb:function(){return(vf=
navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null)?0:-1},Za:function(a,b,c){if("undefined"==typeof onbeforeunload)return-1;if(1!==c)return-5;ng(a,b);return 0},bb:function(a,b,c,d){og(a,b,c,d,12,"blur");return 0},A:Mf,va:function(a,b,c){a=Jf(a);if(!a)return-4;a.style.width=b+"px";a.style.height=c+"px";return 0},Y:function(a,b,c,d){og(a,b,c,d,13,"focus");return 0},xa:function(a,b,c,d){if(!tf())return-1;a=Jf(a);if(!a)return-4;pg(a,b,c,d,"fullscreenchange");
pg(a,b,c,d,"webkitfullscreenchange");return 0},ib:function(a,b,c){if(!navigator.getGamepads&&!navigator.webkitGetGamepads)return-1;qg(a,b,c,26,"gamepadconnected");return 0},hb:function(a,b,c){if(!navigator.getGamepads&&!navigator.webkitGetGamepads)return-1;qg(a,b,c,27,"gamepaddisconnected");return 0},Rh:function(a,b,c){return setInterval(function(){Ud(function(){dynCall_vi.apply(null,[a,c])})},b)},ca:function(a,b,c,d){rg(a,b,c,d,2,"keydown");return 0},wa:function(a,b,c,d){rg(a,b,c,d,1,"keypress");
return 0},ba:function(a,b,c,d){rg(a,b,c,d,3,"keyup");return 0},aa:function(a,b,c,d){tg(a,b,c,d,5,"mousedown");return 0},db:function(a,b,c,d){tg(a,b,c,d,33,"mouseenter");return 0},cb:function(a,b,c,d){tg(a,b,c,d,34,"mouseleave");return 0},_:function(a,b,c,d){tg(a,b,c,d,8,"mousemove");return 0},Uh:function(a,b,c,d){tg(a,b,c,d,35,"mouseover");return 0},$:function(a,b,c,d){tg(a,b,c,d,6,"mouseup");return 0},ab:function(a,b,c,d){if(!document||!document.body||!(document.body.requestPointerLock||document.body.ml||
document.body.Zn||document.body.Cl))return-1;a=Jf(a);if(!a)return-4;ug(a,b,c,d,"pointerlockchange");ug(a,b,c,d,"mozpointerlockchange");ug(a,b,c,d,"webkitpointerlockchange");ug(a,b,c,d,"mspointerlockchange");return 0},$a:function(a,b,c,d){vg(a,b,c,d);return 0},U:function(a,b,c,d){wg(a,b,c,d,25,"touchcancel");return 0},W:function(a,b,c,d){wg(a,b,c,d,23,"touchend");return 0},V:function(a,b,c,d){wg(a,b,c,d,24,"touchmove");return 0},X:function(a,b,c,d){wg(a,b,c,d,22,"touchstart");return 0},_a:function(a,
b,c){if(!If[1])return-4;xg(a,b,c);return 0},Yh:function(a,b,c,d){yg(a,b,c,d,31,"webglcontextlost");return 0},Xh:function(a,b,c,d){yg(a,b,c,d,32,"webglcontextrestored");return 0},Z:function(a,b,c,d){a=Jf(a);return"undefined"!=typeof a.onwheel?(zg(a,b,c,d),0):-1},wh:function(a){Sa(x(a))},v:function(a){$g(b=>Vd(b,a))},sh:function(a,b,c,d,e){var f=a+112,g=x(f),m=L[f+36>>2],n=L[f+40>>2],q=L[f+44>>2],p=L[f+48>>2],t=L[f+52>>2],v=!!(t&4),r=!!(t&32),B=!!(t&16),y=!!(t&64),I=Q=>{Ud(()=>{m?dynCall_vi.apply(null,
[m,Q]):b&&b(Q)},y)},O=Q=>{Ud(()=>{q?dynCall_vi.apply(null,[q,Q]):d&&d(Q)},y)},da=Q=>{Ud(()=>{n?dynCall_vi.apply(null,[n,Q]):c&&c(Q)},y)},E=Q=>{Ud(()=>{p?dynCall_vi.apply(null,[p,Q]):e&&e(Q)},y)};t=Q=>{Dg(Q,I,da,O,E)};var N=(Q,xh)=>{Eg(Q,xh.response,oc=>{Ud(()=>{m?dynCall_vi.apply(null,[m,oc]):b&&b(oc)},y)},oc=>{Ud(()=>{m?dynCall_vi.apply(null,[m,oc]):b&&b(oc)},y)})},qa=Q=>{Dg(Q,N,da,O,E)};if("EM_IDB_STORE"===g)g=L[f+84>>2],Eg(a,z.slice(g,g+L[f+88>>2]),I,da);else if("EM_IDB_DELETE"===g)Gg(a,I,da);
else if(B){if(r)return 0;Dg(a,v?N:I,da,O,E)}else Fg(a,I,r?da:v?qa:t);return a},$h:function(a,b){b>>=2;b={alpha:!!G[b],depth:!!G[b+1],stencil:!!G[b+2],antialias:!!G[b+3],premultipliedAlpha:!!G[b+4],preserveDrawingBuffer:!!G[b+5],powerPreference:Hg[G[b+6]],failIfMajorPerformanceCaveat:!!G[b+7],zl:G[b+8],xn:G[b+9],Rl:G[b+10],fn:G[b+11],fo:G[b+12],ho:G[b+13]};a=Jf(a);return!a||b.fn?0:he(a,b)},Vh:function(a,b){if(!b)return-5;a=ie[a];if(!a)return-3;var c=a.xk;if(!c)return-3;c=c.getContextAttributes();G[b>>
2]=c.alpha;G[b+4>>2]=c.depth;G[b+8>>2]=c.stencil;G[b+12>>2]=c.antialias;G[b+16>>2]=c.premultipliedAlpha;G[b+20>>2]=c.preserveDrawingBuffer;G[b+24>>2]=c.powerPreference&&Hg.indexOf(c.powerPreference);G[b+28>>2]=c.failIfMajorPerformanceCaveat;G[b+32>>2]=a.version;G[b+36>>2]=0;G[b+40>>2]=a.attributes.Rl;return 0},Wh:function(){return S?S.qn:0},_h:function(a){return je(a)?0:-5},sa:function(a){var b=Ig[a];if(!b)return-3;b.onopen=b.onerror=b.onclose=b.onmessage=null;delete Ig[a];return 0},ue:function(){return"undefined"!=
typeof WebSocket},Ua:function(a){if("undefined"==typeof WebSocket)return-1;if(!a)return-5;var b=a>>2;a=x(G[b]);a=(b=G[b+1])?new WebSocket(a,x(b).split(",")):new WebSocket(a);a.binaryType="arraybuffer";b=Ig.length;Ig[b]=a;return b},Pa:function(a,b,c){a=Ig[a];if(!a)return-3;a.send(z.subarray(b,b+c));return 0},Pe:function(a,b){a=Ig[a];if(!a)return-3;b=x(b);a.send(b);return 0},Qa:function(a,b,c){Z||(Z=l(1024));var d=Ig[a];if(!d)return-3;d.onclose=function(e){L[Z>>2]=a;L[Z+4>>2]=e.wasClean;L[Z+8>>2]=e.code;
u(e.reason,Z+10,512);Pf.apply(null,[c,0,Z,b])};return 0},Ra:function(a,b,c){Z||(Z=l(1024));var d=Ig[a];if(!d)return-3;d.onerror=function(){L[Z>>2]=a;Pf.apply(null,[c,0,Z,b])};return 0},Sa:function(a,b,c){Z||(Z=l(1024));var d=Ig[a];if(!d)return-3;d.onmessage=function(e){L[Z>>2]=a;if("string"==typeof e.data){var f=aa(e.data)+1,g=l(f);u(e.data,g,f);L[Z+12>>2]=1}else f=e.data.byteLength,g=l(f),F.set(new Uint8Array(e.data),g),L[Z+12>>2]=0;L[Z+4>>2]=g;L[Z+8>>2]=f;Pf.apply(null,[c,0,Z,b]);ca(g)};return 0},
Ta:function(a,b,c){Z||(Z=l(1024));var d=Ig[a];if(!d)return-3;d.onopen=function(){L[Z>>2]=a;Pf.apply(null,[c,0,Z,b])};return 0},Qb:function(a,b){var c=0;Kg().forEach(function(d,e){var f=b+c;e=G[a+4*e>>2]=f;for(f=0;f<d.length;++f)F[e++>>0]=d.charCodeAt(f);F[e>>0]=0;c+=d.length+1});return 0},Rb:function(a,b){var c=Kg();G[a>>2]=c.length;var d=0;c.forEach(function(e){d+=e.length+1});G[b>>2]=d;return 0},d:function(a){jh(a)},R:function(a){try{var b=zd(a);Uc(b);return 0}catch(c){if("undefined"==typeof hd||
!(c instanceof P))throw c;return c.bk}},dc:function(a,b,c,d){try{a:{var e=zd(a);a=b;for(var f=b=0;f<c;f++){var g=G[a>>2],m=G[a+4>>2];a+=8;var n=e,q=g,p=m,t=void 0,v=F;if(0>p||0>t)throw new P(28);if(null===n.fd)throw new P(8);if(1===(n.flags&2097155))throw new P(8);if(16384===(n.node.mode&61440))throw new P(31);if(!n.ak.read)throw new P(28);var r="undefined"!=typeof t;if(!r)t=n.position;else if(!n.seekable)throw new P(70);var B=n.ak.read(n,v,q,p,t);r||(n.position+=B);var y=B;if(0>y){var I=-1;break a}b+=
y;if(y<m)break}I=b}G[d>>2]=I;return 0}catch(O){if("undefined"==typeof hd||!(O instanceof P))throw O;return O.bk}},Ab:function(a,b,c,d,e){try{var f=zd(a);a=4294967296*c+(b>>>0);if(-9007199254740992>=a||9007199254740992<=a)return-61;Vc(f,a,d);cb=[f.position>>>0,(H=f.position,1<=+Math.abs(H)?0<H?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)];G[e>>2]=cb[0];G[e+4>>2]=cb[1];f.Wk&&0===a&&0===d&&(f.Wk=null);return 0}catch(g){if("undefined"==typeof hd||
!(g instanceof P))throw g;return g.bk}},Ma:function(a,b,c,d){try{a:{var e=zd(a);a=b;for(var f=b=0;f<c;f++){var g=G[a>>2],m=G[a+4>>2];a+=8;var n=Wc(e,F,g,m);if(0>n){var q=-1;break a}b+=n}q=b}G[d>>2]=q;return 0}catch(p){if("undefined"==typeof hd||!(p instanceof P))throw p;return p.bk}},a:function(){return Za},$d:function(a,b,c,d){function e(t,v,r,B,y,I){var O=10===t?28:16;y=10===t?ld(y):kd(y);O=l(O);!Ad(O,t,y,I)||D();y=l(32);G[y+4>>2]=t;G[y+8>>2]=v;G[y+12>>2]=r;G[y+24>>2]=B;G[y+20>>2]=O;G[y+16>>2]=
10===t?28:16;G[y+28>>2]=0;return y}var f=0,g=0,m=0,n=0,q=0,p=0;c&&(m=G[c>>2],n=G[c+4>>2],q=G[c+8>>2],p=G[c+12>>2]);q&&!p&&(p=2===q?17:6);!q&&p&&(q=17===p?2:1);0===p&&(p=6);0===q&&(q=1);if(!a&&!b)return-2;if(m&-1088||0!==c&&G[c>>2]&2&&!a)return-1;if(m&32)return-2;if(0!==q&&1!==q&&2!==q)return-7;if(0!==n&&2!==n&&10!==n)return-6;if(b&&(b=x(b),g=parseInt(b,10),isNaN(g)))return m&1024?-2:-8;if(!a)return 0===n&&(n=2),0===(m&1)&&(2===n?f=kh(2130706433):f=[0,0,0,1]),a=e(n,q,p,null,f,g),G[d>>2]=a,0;a=x(a);
f=od(a);if(null!==f)if(0===n||2===n)n=2;else if(10===n&&m&8)f=[0,0,kh(65535),f],n=10;else return-2;else if(f=pd(a),null!==f)if(0===n||10===n)n=10;else return-2;if(null!=f)return a=e(n,q,p,a,f,g),G[d>>2]=a,0;if(m&4)return-2;a=ud(a);f=od(a);0===n?n=2:10===n&&(f=[0,0,kh(65535),f]);a=e(n,q,p,null,f,g);G[d>>2]=a;return 0},ma:function(a){T.activeTexture(a)},lb:function(a,b){T.attachShader(V[a],W[b])},L:function(a,b){34962==a?T.Fk=b:34963==a&&(T.wk=b);35051==a?T.Tk=b:35052==a&&(T.kk=b);T.bindBuffer(a,Fe[b])},
qb:function(a,b){T.bindFramebuffer(a,He[b])},E:function(a,b){T.bindRenderbuffer(a,Ie[b])},k:function(a,b){T.bindTexture(a,Je[b])},Ea:function(a,b){T.blendFunc(a,b)},M:function(a,b,c,d){T.blendFuncSeparate(a,b,c,d)},tb:function(a,b,c,d){2<=S.version?c?T.bufferData(a,z,d,c,b):T.bufferData(a,b,d):T.bufferData(a,c?z.subarray(c,c+b):b,d)},ia:function(a){T.clear(a)},Ha:function(a,b,c,d){T.clearColor(a,b,c,d)},Ga:function(a){T.clearDepth(a)},zb:function(a){T.clearStencil(a)},xb:function(a,b,c,d){T.colorMask(!!a,
!!b,!!c,!!d)},nb:function(a){T.compileShader(W[a])},mi:function(){var a=Ue(V),b=T.createProgram();b.name=a;b.Kk=b.Ik=b.Jk=0;b.Ll=1;V[a]=b;return a},pb:function(a){var b=Ue(W);W[b]=T.createShader(a);return b},vb:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Fe[d];e&&(T.deleteBuffer(e),e.name=0,Fe[d]=null,d==T.Fk&&(T.Fk=0),d==T.wk&&(T.wk=0),d==T.Tk&&(T.Tk=0),d==T.kk&&(T.kk=0))}},ka:function(a,b){for(var c=0;c<a;++c){var d=G[b+4*c>>2],e=He[d];e&&(T.deleteFramebuffer(e),e.name=0,He[d]=null)}},
Ba:function(a){if(a){var b=V[a];b?(T.deleteProgram(b),b.name=0,V[a]=null):X(1281)}},J:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Ie[d];e&&(T.deleteRenderbuffer(e),e.name=0,Ie[d]=null)}},C:function(a){if(a){var b=W[a];b?(T.deleteShader(b),W[a]=null):X(1281)}},pa:function(a,b){for(var c=0;c<a;c++){var d=G[b+4*c>>2],e=Je[d];e&&(T.deleteTexture(e),e.name=0,Je[d]=null)}},Ka:function(a){T.depthFunc(a)},Fa:function(a){T.depthMask(!!a)},_b:function(a,b){T.depthRange(a,b)},r:function(a){T.disable(a)},
sb:function(a){S.vk[a].enabled=!1;T.disableVertexAttribArray(a)},rb:function(a,b,c){Xe(b+c);T.drawArrays(a,b,c);Ze()},y:function(a){T.enable(a)},z:function(a){S.vk[a].enabled=!0;T.enableVertexAttribArray(a)},N:function(){T.flush()},D:function(a,b,c,d){T.framebufferRenderbuffer(a,b,c,Ie[d])},F:function(a,b,c,d,e){T.framebufferTexture2D(a,b,c,Je[d],e)},yb:function(a){T.frontFace(a)},ub:function(a,b){Yf(a,b,"createBuffer",Fe)},Ia:function(a,b){Yf(a,b,"createFramebuffer",He)},Ca:function(a,b){Yf(a,b,
"createRenderbuffer",Ie)},u:function(a,b){Yf(a,b,"createTexture",Je)},za:function(a,b,c,d,e,f,g){Zf("getActiveUniform",a,b,c,d,e,f,g)},I:function(a,b){return T.getAttribLocation(V[a],x(b))},Oa:function(){var a=T.getError()||Te;Te=0;return a},cd:function(a,b){ag(a,b,2)},qa:function(a,b){ag(a,b,0)},ki:function(a,b,c,d){a=T.getProgramInfoLog(V[a]);null===a&&(a="(unknown error)");b=0<b&&d?u(a,d,b):0;c&&(G[c>>2]=b)},da:function(a,b,c){if(c)if(a>=Ee)X(1281);else if(a=V[a],35716==b)a=T.getProgramInfoLog(a),
null===a&&(a="(unknown error)"),G[c>>2]=a.length+1;else if(35719==b){if(!a.Kk)for(b=0;b<T.getProgramParameter(a,35718);++b)a.Kk=Math.max(a.Kk,T.getActiveUniform(a,b).name.length+1);G[c>>2]=a.Kk}else if(35722==b){if(!a.Ik)for(b=0;b<T.getProgramParameter(a,35721);++b)a.Ik=Math.max(a.Ik,T.getActiveAttrib(a,b).name.length+1);G[c>>2]=a.Ik}else if(35381==b){if(!a.Jk)for(b=0;b<T.getProgramParameter(a,35382);++b)a.Jk=Math.max(a.Jk,T.getActiveUniformBlockName(a,b).length+1);G[c>>2]=a.Jk}else G[c>>2]=T.getProgramParameter(a,
b);else X(1281)},mb:function(a,b,c,d){a=T.getShaderInfoLog(W[a]);null===a&&(a="(unknown error)");b=0<b&&d?u(a,d,b):0;c&&(G[c>>2]=b)},Aa:function(a,b,c){c?35716==b?(a=T.getShaderInfoLog(W[a]),null===a&&(a="(unknown error)"),G[c>>2]=a?a.length+1:0):35720==b?(a=T.getShaderSource(W[a]),G[c>>2]=a?a.length+1:0):G[c>>2]=T.getShaderParameter(W[a],b):X(1281)},s:function(a){var b=Qe[a];if(!b){switch(a){case 7939:b=T.getSupportedExtensions()||[];b=b.concat(b.map(function(d){return"GL_"+d}));b=cg(b.join(" "));
break;case 7936:case 7937:case 37445:case 37446:(b=T.getParameter(a))||X(1280);b=b&&cg(b);break;case 7938:b=T.getParameter(7938);b=2<=S.version?"OpenGL ES 3.0 ("+b+")":"OpenGL ES 2.0 ("+b+")";b=cg(b);break;case 35724:b=T.getParameter(35724);var c=b.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==c&&(3==c[1].length&&(c[1]+="0"),b="OpenGL ES GLSL ES "+c[1]+" ("+b+")");b=cg(b);break;default:X(1280)}Qe[a]=b}return b},i:function(a,b){b=x(b);if(a=V[a]){eg(a);var c=a.al,d=0,e=b,f=dg(b);0<f&&
(d=parseInt(b.slice(f+1))>>>0,e=b.slice(0,f));if((e=a.Ml[e])&&d<e[0]&&(d+=e[1],c[d]=c[d]||T.getUniformLocation(a,b)))return d}else X(1281);return-1},li:function(a){a=V[a];T.linkProgram(a);a.al=0;a.Ml={}},Ja:function(a,b){3317==a&&(Se=b);T.pixelStorei(a,b)},la:function(a,b,c,d,e,f,g){if(2<=S.version)if(T.Tk)T.readPixels(a,b,c,d,e,f,g);else{var m=hg(f);T.readPixels(a,b,c,d,e,f,m,g>>ig(m))}else(g=jg(f,e,c,d,g))?T.readPixels(a,b,c,d,e,f,g):X(1280)},ea:function(a,b,c,d){T.renderbufferStorage(a,b,c,d)},
O:function(a,b,c,d){T.scissor(a,b,c,d)},ob:function(a,b,c,d){b=We(b,c,d);T.shaderSource(W[a],b)},ga:function(a,b,c){T.stencilFunc(a,b,c)},wb:function(a){T.stencilMask(a)},ha:function(a,b,c){T.stencilOp(a,b,c)},q:function(a,b,c,d,e,f,g,m,n){if(2<=S.version)if(T.kk)T.texImage2D(a,b,c,d,e,f,g,m,n);else if(n){var q=hg(m);T.texImage2D(a,b,c,d,e,f,g,m,q,n>>ig(q))}else T.texImage2D(a,b,c,d,e,f,g,m,null);else T.texImage2D(a,b,c,d,e,f,g,m,n?jg(m,g,d,e,n):null)},l:function(a,b,c){T.texParameterf(a,b,c)},ja:function(a,
b,c,d,e,f,g,m,n){if(2<=S.version)if(T.kk)T.texSubImage2D(a,b,c,d,e,f,g,m,n);else if(n){var q=hg(m);T.texSubImage2D(a,b,c,d,e,f,g,m,q,n>>ig(q))}else T.texSubImage2D(a,b,c,d,e,f,g,m,null);else q=null,n&&(q=jg(m,g,e,f,n)),T.texSubImage2D(a,b,c,d,e,f,g,m,q)},fa:function(a,b){T.uniform1f(Y(a),b)},ji:function(a,b,c){if(2<=S.version)T.uniform1fv(Y(a),J,c>>2,b);else{if(288>=b)for(var d=kg[b-1],e=0;e<b;++e)d[e]=J[c+4*e>>2];else d=J.subarray(c>>2,c+4*b>>2);T.uniform1fv(Y(a),d)}},K:function(a,b){T.uniform1i(Y(a),
b)},gi:function(a,b,c){if(2<=S.version)T.uniform1iv(Y(a),G,c>>2,b);else{if(288>=b)for(var d=lg[b-1],e=0;e<b;++e)d[e]=G[c+4*e>>2];else d=G.subarray(c>>2,c+4*b>>2);T.uniform1iv(Y(a),d)}},ii:function(a,b,c){if(2<=S.version)T.uniform2fv(Y(a),J,c>>2,2*b);else{if(144>=b)for(var d=kg[2*b-1],e=0;e<2*b;e+=2)d[e]=J[c+4*e>>2],d[e+1]=J[c+(4*e+4)>>2];else d=J.subarray(c>>2,c+8*b>>2);T.uniform2fv(Y(a),d)}},fi:function(a,b,c){if(2<=S.version)T.uniform2iv(Y(a),G,c>>2,2*b);else{if(144>=b)for(var d=lg[2*b-1],e=0;e<
2*b;e+=2)d[e]=G[c+4*e>>2],d[e+1]=G[c+(4*e+4)>>2];else d=G.subarray(c>>2,c+8*b>>2);T.uniform2iv(Y(a),d)}},hi:function(a,b,c){if(2<=S.version)T.uniform3fv(Y(a),J,c>>2,3*b);else{if(96>=b)for(var d=kg[3*b-1],e=0;e<3*b;e+=3)d[e]=J[c+4*e>>2],d[e+1]=J[c+(4*e+4)>>2],d[e+2]=J[c+(4*e+8)>>2];else d=J.subarray(c>>2,c+12*b>>2);T.uniform3fv(Y(a),d)}},ei:function(a,b,c){if(2<=S.version)T.uniform3iv(Y(a),G,c>>2,3*b);else{if(96>=b)for(var d=lg[3*b-1],e=0;e<3*b;e+=3)d[e]=G[c+4*e>>2],d[e+1]=G[c+(4*e+4)>>2],d[e+2]=G[c+
(4*e+8)>>2];else d=G.subarray(c>>2,c+12*b>>2);T.uniform3iv(Y(a),d)}},x:function(a,b,c){if(2<=S.version)T.uniform4fv(Y(a),J,c>>2,4*b);else{if(72>=b){var d=kg[4*b-1],e=J;c>>=2;for(var f=0;f<4*b;f+=4){var g=c+f;d[f]=e[g];d[f+1]=e[g+1];d[f+2]=e[g+2];d[f+3]=e[g+3]}}else d=J.subarray(c>>2,c+16*b>>2);T.uniform4fv(Y(a),d)}},di:function(a,b,c){if(2<=S.version)T.uniform4iv(Y(a),G,c>>2,4*b);else{if(72>=b)for(var d=lg[4*b-1],e=0;e<4*b;e+=4)d[e]=G[c+4*e>>2],d[e+1]=G[c+(4*e+4)>>2],d[e+2]=G[c+(4*e+8)>>2],d[e+3]=
G[c+(4*e+12)>>2];else d=G.subarray(c>>2,c+16*b>>2);T.uniform4iv(Y(a),d)}},ci:function(a,b,c,d){if(2<=S.version)T.uniformMatrix2fv(Y(a),!!c,J,d>>2,4*b);else{if(72>=b)for(var e=kg[4*b-1],f=0;f<4*b;f+=4)e[f]=J[d+4*f>>2],e[f+1]=J[d+(4*f+4)>>2],e[f+2]=J[d+(4*f+8)>>2],e[f+3]=J[d+(4*f+12)>>2];else e=J.subarray(d>>2,d+16*b>>2);T.uniformMatrix2fv(Y(a),!!c,e)}},bi:function(a,b,c,d){if(2<=S.version)T.uniformMatrix3fv(Y(a),!!c,J,d>>2,9*b);else{if(32>=b)for(var e=kg[9*b-1],f=0;f<9*b;f+=9)e[f]=J[d+4*f>>2],e[f+
1]=J[d+(4*f+4)>>2],e[f+2]=J[d+(4*f+8)>>2],e[f+3]=J[d+(4*f+12)>>2],e[f+4]=J[d+(4*f+16)>>2],e[f+5]=J[d+(4*f+20)>>2],e[f+6]=J[d+(4*f+24)>>2],e[f+7]=J[d+(4*f+28)>>2],e[f+8]=J[d+(4*f+32)>>2];else e=J.subarray(d>>2,d+36*b>>2);T.uniformMatrix3fv(Y(a),!!c,e)}},Da:function(a,b,c,d){if(2<=S.version)T.uniformMatrix4fv(Y(a),!!c,J,d>>2,16*b);else{if(18>=b){var e=kg[16*b-1],f=J;d>>=2;for(var g=0;g<16*b;g+=16){var m=d+g;e[g]=f[m];e[g+1]=f[m+1];e[g+2]=f[m+2];e[g+3]=f[m+3];e[g+4]=f[m+4];e[g+5]=f[m+5];e[g+6]=f[m+6];
e[g+7]=f[m+7];e[g+8]=f[m+8];e[g+9]=f[m+9];e[g+10]=f[m+10];e[g+11]=f[m+11];e[g+12]=f[m+12];e[g+13]=f[m+13];e[g+14]=f[m+14];e[g+15]=f[m+15]}}else e=J.subarray(d>>2,d+64*b>>2);T.uniformMatrix4fv(Y(a),!!c,e)}},ni:function(a){a=V[a];T.useProgram(a);T.um=a},m:function(a,b,c,d,e,f){var g=S.vk[a];T.Fk?(g.Sk=!1,T.vertexAttribPointer(a,b,c,!!d,e,f)):(g.size=b,g.type=c,g.El=d,g.pl=e,g.ck=f,g.Sk=!0,g.Nl=function(m,n,q,p,t,v){this.vertexAttribPointer(m,n,q,p,t,v)})},P:function(a,b,c,d){T.viewport(a,b,c,d)},T:lh,
n:mh,Q:nh,H:oh,p:ph,ta:qh,Eb:rh,Cb:sh,Bb:th,o:uh,j:vh,f:wh,e:yh,gb:zh,Sh:Ah,Db:Bh,Ya:function(a){return a},b:function(a){Za=a},ra:Pg,Hb:function(a,b,c,d){return Pg(a,b,c,d)}};
(function(){function a(f){f=f.exports;f=Yg(f);h.asm=f;fb=h.asm.oi;tb();vb.unshift(h.asm.pi);Eb("wasm-instantiate")}function b(f){a(f.instance)}function c(f){return Jb().then(function(g){return WebAssembly.instantiate(g,d)}).then(function(g){return g}).then(f,function(g){k("failed to asynchronously prepare wasm: "+g);D(g)})}var d={a:Ch};Db("wasm-instantiate");if(h.instantiateWasm)try{var e=h.instantiateWasm(d,a);return e=Yg(e)}catch(f){return k("Module.instantiateWasm callback failed with error: "+
f),!1}(function(){return $a||"function"!=typeof WebAssembly.instantiateStreaming||Fb()||Gb.startsWith("file://")||"function"!=typeof fetch?c(b):fetch(Gb,{credentials:"same-origin"}).then(function(f){return WebAssembly.instantiateStreaming(f,d).then(b,function(g){k("wasm streaming compile failed: "+g);k("falling back to ArrayBuffer instantiation");return c(b)})})})();return{}})();h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.pi).apply(null,arguments)};
var l=h._malloc=function(){return(l=h._malloc=h.asm.qi).apply(null,arguments)},ca=h._free=function(){return(ca=h._free=h.asm.ri).apply(null,arguments)},ba=h._memcpy=function(){return(ba=h._memcpy=h.asm.ti).apply(null,arguments)},qd=h._htons=function(){return(qd=h._htons=h.asm.ui).apply(null,arguments)},kh=h._htonl=function(){return(kh=h._htonl=h.asm.vi).apply(null,arguments)},md=h._ntohs=function(){return(md=h._ntohs=h.asm.wi).apply(null,arguments)},gh=h.___errno_location=function(){return(gh=h.___errno_location=
h.asm.xi).apply(null,arguments)};h._chat_callback=function(){return(h._chat_callback=h.asm.yi).apply(null,arguments)};h._join_game_callback=function(){return(h._join_game_callback=h.asm.zi).apply(null,arguments)};h._api_error_callback=function(){return(h._api_error_callback=h.asm.Ai).apply(null,arguments)};h._create_game_callback=function(){return(h._create_game_callback=h.asm.Bi).apply(null,arguments)};h._player_info_callback=function(){return(h._player_info_callback=h.asm.Ci).apply(null,arguments)};
h._log_next_game_state=function(){return(h._log_next_game_state=h.asm.Di).apply(null,arguments)};h._start_game=function(){return(h._start_game=h.asm.Ei).apply(null,arguments)};h._video_playback_started=function(){return(h._video_playback_started=h.asm.Fi).apply(null,arguments)};h._video_playback_ended=function(){return(h._video_playback_ended=h.asm.Gi).apply(null,arguments)};h._post_video_upload_callback=function(){return(h._post_video_upload_callback=h.asm.Hi).apply(null,arguments)};
h._YYSum=function(){return(h._YYSum=h.asm.Ii).apply(null,arguments)};h._main=function(){return(h._main=h.asm.Ji).apply(null,arguments)};h._FSSyncCompleted=function(){return(h._FSSyncCompleted=h.asm.Ki).apply(null,arguments)};
var dh=h._setThrew=function(){return(dh=h._setThrew=h.asm.Li).apply(null,arguments)},kb=h.stackSave=function(){return(kb=h.stackSave=h.asm.Mi).apply(null,arguments)},ib=h.stackRestore=function(){return(ib=h.stackRestore=h.asm.Ni).apply(null,arguments)},jb=h.stackAlloc=function(){return(jb=h.stackAlloc=h.asm.Oi).apply(null,arguments)},fh=h.___cxa_can_catch=function(){return(fh=h.___cxa_can_catch=h.asm.Pi).apply(null,arguments)},Yb=h.___cxa_is_pointer_type=function(){return(Yb=h.___cxa_is_pointer_type=
h.asm.Qi).apply(null,arguments)},hh=h.dynCall_viiii=function(){return(hh=h.dynCall_viiii=h.asm.Ri).apply(null,arguments)},eh=h.dynCall_ii=function(){return(eh=h.dynCall_ii=h.asm.Si).apply(null,arguments)},dynCall_vi=h.dynCall_vi=function(){return(dynCall_vi=h.dynCall_vi=h.asm.Ti).apply(null,arguments)},dynCall_iii=h.dynCall_iii=function(){return(dynCall_iii=h.dynCall_iii=h.asm.Ui).apply(null,arguments)},Pf=h.dynCall_iiii=function(){return(Pf=h.dynCall_iiii=h.asm.Vi).apply(null,arguments)},dynCall_vii=
h.dynCall_vii=function(){return(dynCall_vii=h.dynCall_vii=h.asm.Wi).apply(null,arguments)},Dh=h.dynCall_viii=function(){return(Dh=h.dynCall_viii=h.asm.Xi).apply(null,arguments)},dynCall_v=h.dynCall_v=function(){return(dynCall_v=h.dynCall_v=h.asm.Yi).apply(null,arguments)},Eh=h.dynCall_iiiii=function(){return(Eh=h.dynCall_iiiii=h.asm.Zi).apply(null,arguments)};h.dynCall_iiiiii=function(){return(h.dynCall_iiiiii=h.asm._i).apply(null,arguments)};
h.dynCall_viiiii=function(){return(h.dynCall_viiiii=h.asm.$i).apply(null,arguments)};h.dynCall_viiiiiii=function(){return(h.dynCall_viiiiiii=h.asm.aj).apply(null,arguments)};h.dynCall_viij=function(){return(h.dynCall_viij=h.asm.bj).apply(null,arguments)};h.dynCall_iiifffffiiii=function(){return(h.dynCall_iiifffffiiii=h.asm.cj).apply(null,arguments)};
var Fh=h.dynCall_viiiiiiiii=function(){return(Fh=h.dynCall_viiiiiiiii=h.asm.dj).apply(null,arguments)},Gh=h.dynCall_vij=function(){return(Gh=h.dynCall_vij=h.asm.ej).apply(null,arguments)};h.dynCall_iiiffi=function(){return(h.dynCall_iiiffi=h.asm.fj).apply(null,arguments)};h.dynCall_viif=function(){return(h.dynCall_viif=h.asm.gj).apply(null,arguments)};
var Hh=h.dynCall_i=function(){return(Hh=h.dynCall_i=h.asm.hj).apply(null,arguments)},Ih=h.dynCall_j=function(){return(Ih=h.dynCall_j=h.asm.ij).apply(null,arguments)};h.dynCall_di=function(){return(h.dynCall_di=h.asm.jj).apply(null,arguments)};var Jh=h.dynCall_jij=function(){return(Jh=h.dynCall_jij=h.asm.kj).apply(null,arguments)},Kh=h.dynCall_jj=function(){return(Kh=h.dynCall_jj=h.asm.lj).apply(null,arguments)};h.dynCall_iiiiiij=function(){return(h.dynCall_iiiiiij=h.asm.mj).apply(null,arguments)};
h.dynCall_iiji=function(){return(h.dynCall_iiji=h.asm.nj).apply(null,arguments)};var Lh=h.dynCall_iiiiiiiiii=function(){return(Lh=h.dynCall_iiiiiiiiii=h.asm.oj).apply(null,arguments)};h.dynCall_viifi=function(){return(h.dynCall_viifi=h.asm.pj).apply(null,arguments)};h.dynCall_viifii=function(){return(h.dynCall_viifii=h.asm.qj).apply(null,arguments)};h.dynCall_viiiiii=function(){return(h.dynCall_viiiiii=h.asm.rj).apply(null,arguments)};
h.dynCall_fif=function(){return(h.dynCall_fif=h.asm.sj).apply(null,arguments)};h.dynCall_iiiiiii=function(){return(h.dynCall_iiiiiii=h.asm.tj).apply(null,arguments)};h.dynCall_viiiiiiii=function(){return(h.dynCall_viiiiiiii=h.asm.uj).apply(null,arguments)};h.dynCall_iiiiiiii=function(){return(h.dynCall_iiiiiiii=h.asm.vj).apply(null,arguments)};h.dynCall_viiffiifii=function(){return(h.dynCall_viiffiifii=h.asm.wj).apply(null,arguments)};
h.dynCall_viiifffffffff=function(){return(h.dynCall_viiifffffffff=h.asm.xj).apply(null,arguments)};h.dynCall_iiid=function(){return(h.dynCall_iiid=h.asm.yj).apply(null,arguments)};var ih=h.dynCall_idi=function(){return(ih=h.dynCall_idi=h.asm.zj).apply(null,arguments)};h.dynCall_iiiiiiiiiiiiiiff=function(){return(h.dynCall_iiiiiiiiiiiiiiff=h.asm.Aj).apply(null,arguments)};h.dynCall_iiiiiiiii=function(){return(h.dynCall_iiiiiiiii=h.asm.Bj).apply(null,arguments)};
h.dynCall_viiiiiiiiiii=function(){return(h.dynCall_viiiiiiiiiii=h.asm.Cj).apply(null,arguments)};h.dynCall_iiiiiidiiff=function(){return(h.dynCall_iiiiiidiiff=h.asm.Dj).apply(null,arguments)};h.dynCall_jiji=function(){return(h.dynCall_jiji=h.asm.Ej).apply(null,arguments)};h.dynCall_ji=function(){return(h.dynCall_ji=h.asm.Fj).apply(null,arguments)};h.dynCall_vffff=function(){return(h.dynCall_vffff=h.asm.Gj).apply(null,arguments)};h.dynCall_vf=function(){return(h.dynCall_vf=h.asm.Hj).apply(null,arguments)};
h.dynCall_vff=function(){return(h.dynCall_vff=h.asm.Ij).apply(null,arguments)};h.dynCall_vfi=function(){return(h.dynCall_vfi=h.asm.Jj).apply(null,arguments)};h.dynCall_vif=function(){return(h.dynCall_vif=h.asm.Kj).apply(null,arguments)};h.dynCall_viff=function(){return(h.dynCall_viff=h.asm.Lj).apply(null,arguments)};h.dynCall_vifff=function(){return(h.dynCall_vifff=h.asm.Mj).apply(null,arguments)};h.dynCall_viffff=function(){return(h.dynCall_viffff=h.asm.Nj).apply(null,arguments)};
h.dynCall_viiiiiiiiii=function(){return(h.dynCall_viiiiiiiiii=h.asm.Oj).apply(null,arguments)};h.dynCall_iidiiii=function(){return(h.dynCall_iidiiii=h.asm.Pj).apply(null,arguments)};h.dynCall_viijii=function(){return(h.dynCall_viijii=h.asm.Qj).apply(null,arguments)};h.dynCall_iiiiij=function(){return(h.dynCall_iiiiij=h.asm.Rj).apply(null,arguments)};h.dynCall_iiiiid=function(){return(h.dynCall_iiiiid=h.asm.Sj).apply(null,arguments)};
h.dynCall_iiiiijj=function(){return(h.dynCall_iiiiijj=h.asm.Tj).apply(null,arguments)};h.dynCall_iiiiiijj=function(){return(h.dynCall_iiiiiijj=h.asm.Uj).apply(null,arguments)};h._asyncify_start_unwind=function(){return(h._asyncify_start_unwind=h.asm.Vj).apply(null,arguments)};h._asyncify_stop_unwind=function(){return(h._asyncify_stop_unwind=h.asm.Wj).apply(null,arguments)};h._asyncify_start_rewind=function(){return(h._asyncify_start_rewind=h.asm.Xj).apply(null,arguments)};
h._asyncify_stop_rewind=function(){return(h._asyncify_stop_rewind=h.asm.Yj).apply(null,arguments)};function nh(a,b,c){var d=kb();try{return dynCall_iii(a,b,c)}catch(e){ib(d);if(e!==e+0)throw e;dh(1,0)}}function yh(a,b,c,d){var e=kb();try{Dh(a,b,c,d)}catch(f){ib(e);if(f!==f+0)throw f;dh(1,0)}}function ph(a,b,c,d,e){var f=kb();try{return Eh(a,b,c,d,e)}catch(g){ib(f);if(g!==g+0)throw g;dh(1,0)}}function mh(a,b){var c=kb();try{return eh(a,b)}catch(d){ib(c);if(d!==d+0)throw d;dh(1,0)}}
function oh(a,b,c,d){var e=kb();try{return Pf(a,b,c,d)}catch(f){ib(e);if(f!==f+0)throw f;dh(1,0)}}function wh(a,b,c){var d=kb();try{dynCall_vii(a,b,c)}catch(e){ib(d);if(e!==e+0)throw e;dh(1,0)}}function Ah(a,b,c,d,e,f,g,m,n,q){var p=kb();try{Fh(a,b,c,d,e,f,g,m,n,q)}catch(t){ib(p);if(t!==t+0)throw t;dh(1,0)}}function vh(a,b){var c=kb();try{dynCall_vi(a,b)}catch(d){ib(c);if(d!==d+0)throw d;dh(1,0)}}function zh(a,b,c,d,e){var f=kb();try{hh(a,b,c,d,e)}catch(g){ib(f);if(g!==g+0)throw g;dh(1,0)}}
function lh(a){var b=kb();try{return Hh(a)}catch(c){ib(b);if(c!==c+0)throw c;dh(1,0)}}function uh(a){var b=kb();try{dynCall_v(a)}catch(c){ib(b);if(c!==c+0)throw c;dh(1,0)}}function qh(a,b,c,d,e,f,g,m,n,q){var p=kb();try{return Lh(a,b,c,d,e,f,g,m,n,q)}catch(t){ib(p);if(t!==t+0)throw t;dh(1,0)}}function rh(a){var b=kb();try{return Ih(a)}catch(c){ib(b);if(c!==c+0)throw c;dh(1,0)}}function Bh(a,b,c,d){var e=kb();try{Gh(a,b,c,d)}catch(f){ib(e);if(f!==f+0)throw f;dh(1,0)}}
function sh(a,b,c,d){var e=kb();try{return Jh(a,b,c,d)}catch(f){ib(e);if(f!==f+0)throw f;dh(1,0)}}function th(a,b,c){var d=kb();try{return Kh(a,b,c)}catch(e){ib(d);if(e!==e+0)throw e;dh(1,0)}}h.cwrap=function(a,b,c,d){c=c||[];var e=c.every(function(f){return"number"===f});return"string"!==b&&e&&!d?h["_"+a]:function(){return hb(a,b,c,arguments,d)}};h.addRunDependency=Db;h.removeRunDependency=Eb;h.FS_createPath=$c;h.FS_createDataFile=bd;h.FS_createPreloadedFile=gd;h.FS_createLazyFile=ed;
h.FS_createDevice=cd;h.FS_unlink=Ga;h.dynCall=Ob;h.dynCall=Ob;var Mh;function Va(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}Cb=function Nh(){Mh||Oh();Mh||(Cb=Nh)};
function Oh(a){function b(){if(!Mh&&(Mh=!0,h.calledRun=!0,!gb)){R.root=Lb(R,null);h.noFSInit||Yc||(Yc=!0,Xc(),h.stdin=h.stdin,h.stdout=h.stdout,h.stderr=h.stderr,h.stdin?cd("/dev","stdin",h.stdin):Qc("/dev/tty","/dev/stdin"),h.stdout?cd("/dev","stdout",null,h.stdout):Qc("/dev/tty","/dev/stdout"),h.stderr?cd("/dev","stderr",null,h.stderr):Qc("/dev/tty1","/dev/stderr"),Tc("/dev/stdin",0),Tc("/dev/stdout",1),Tc("/dev/stderr",1));xc=!1;Rb(vb);Rb(wb);if(h.onRuntimeInitialized)h.onRuntimeInitialized();
if(Ph){var c=a,d=h._main;c=c||[];var e=c.length+1,f=jb(4*(e+1));G[f>>2]=rb(Ja);for(var g=1;g<e;g++)G[(f>>2)+g]=rb(c[g-1]);G[(f>>2)+e]=0;try{var m=d(e,f);jh(m)}catch(n){Tb(n)}finally{}}if(h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)c=h.postRun.shift(),yb.unshift(c);Rb(yb)}}a=a||Ia;if(!(0<Ab)){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)zb();Rb(ub);0<Ab||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},
1);b()},1)):b())}}h.run=Oh;function jh(a){if(!noExitRuntime){if(h.onExit)h.onExit(a);gb=!0}Ka(a,new Va(a))}if(h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();var Ph=!0;h.noInitialRun&&(Ph=!1);Oh();
(function(){if("undefined"!=typeof window&&!window.si){webtransport_async_read=async d=>{try{let g=d.Dk.datagrams.readable.getReader();for(var e=!1;!e;){var f;({value:f,done:e}=await g.read());d.Fl.push(f)}console.log("Closing WebTransport connection")}catch(g){console.error("Could not open channel to read datagrams, "+g)}};webtransport_async_connect=async(d,e)=>{try{await d.Dk.ready;console.log("Connected successfully to relay.");try{d.Uk=d.Dk.datagrams.writable.getWriter()}catch(f){console.error("Could not open channel to send datagrams, "+
f)}}catch(f){console.error("Connection failed to "+e+", "+f)}d.Dk.closed.then(()=>{d.Uk=null;console.log("Connection to "+e+" closed gracefully")}).catch(()=>{d.Uk=null;console.error("Connection to "+e+" closed abruptly")});webtransport_async_read(d)};class c{constructor(){this.Uk=this.Dk=null;this.Fl=[];this.url=""}destroy(){null!=this.Dk&&this.Dk&&(this.Dk.close(),this.Dk=null);this.Uk=null}async connect(d,e){try{d.Dk=new WebTransport(e)}catch(f){console.error("Failed to initialise WebTransport, "+
f)}await webtransport_async_connect(d,e)}async send(d,e){null==this.Dk&&await this.connect(this,this.url);for(var f=10;!this.Uk&&f;)await new Promise(n=>setTimeout(n,100)),f--;if(this.Uk){d=h.HEAPU8.subarray(d,d+e);f=new ArrayBuffer(e);for(var g=new Uint8Array(f),m=0;m<e;m++)g[m]=d[m];this.Uk.write(f)}else console.log("DatagramWriter is not initialized. Couldn't send message.")}An(d,e){if(0==this.Fl.length)return-1;var f=this.Fl[0];this.Fl.shift();var g=f.length;if(g>e)return-1;d=h.HEAPU8.subarray(d,
d+g);for(e=0;e<g;e++)d[e]=f[e];return g}}var a=[],b=0;webtransport_set_relay=(d,e)=>{const f=b++;a[f]=new c;a[f].url=d+":"+e;return f};webtransport_send=(d,e,f)=>{a[d].send(e,f)};webtransport_receive=(d,e,f)=>a[d].An(e,f);webtransport_destroy=d=>{a[d].destroy();a[d]=null}}})();
"undefined"!=typeof window&&(api_error_callback=h.cwrap("api_error_callback",null,["number","string"]),create_game_callback=h.cwrap("create_game_callback",null,["string","string","string"]),join_game_callback=h.cwrap("join_game_callback",null,["string"]),chat_callback=h.cwrap("chat_callback",null,["string","number"]),player_info_callback=h.cwrap("player_info_callback",null,"number string string string bool string".split(" ")),log_next_game_state=h.cwrap("log_next_game_state",null,[]),start_game=h.cwrap("start_game",
null,[]),init_request_parameters=a=>{var b={method:"POST",credentials:"include",headers:{}};b.headers["Content-Type"]="application/json;charset=UTF-8";b.headers["Access-Control-Allow-Credentials"]="true";b.body=JSON.stringify(a);return b},gxc_room_size=4,gxc_local_player=0,gxc_player_info=[],gxc_set_room_info=(a,b)=>{gxc_room_size=a;gxc_local_player=b},set_local_share_url=a=>{window.shareUrl=a;if(a=document.getElementById("share-button"))a.style.visibility="visible"},post_share_url=a=>{if(window.parent){var b=
{type:"share_url"};b.shareUrl=a;window.parent.postMessage(b,"*")}},gxc_request_room=(a,b,c,d,e)=>{var f=location.host.startsWith("localhost")||location.host.startsWith("test.vectorwars.gmx.dev");f&&(d="debug");console.log("Requesting "+c+"-player game with game-id "+d);var g={};g.roomSize=c;g.region=b;b=init_request_parameters(g);fetch("https://"+a+"/gg/games/"+d+"/rooms"+(e.length?"?trackId="+e:""),b).then(m=>{m.ok?m.json().then(n=>{var q=n.data.shareUrl,p=n.data.roomUrl;n=n.data.joinRoomUrl;f?(q=
location.protocol+"//"+location.host+location.pathname+"?game=debug&roomUrl="+p,set_local_share_url(q)):post_share_url(q);create_game_callback(n,q,p)}):m.json().then(n=>{if(window.parent){var q={type:"api_error"};q.error=n.errors[0].code;window.parent.postMessage(q,"*")}api_error_callback(m.status,n.errors[0].code)})})},gxc_join_room=(a,b,c,d)=>{console.log("Joining game '"+b+"' with track-id '"+c+"' on environment '"+a+"' using url "+d);var e={};"debug"!=b&&(e.gameId=b,e.trackId=c);e.roomUrl=d;b=
init_request_parameters(e);fetch("https://"+a+"/gg/rooms",b).then(f=>{f.ok?f.json().then(g=>{join_game_callback(g.data.roomUrl)}):f.json().then(g=>{if(window.parent){var m={type:"api_error"};m.error=g.errors[0].code;window.parent.postMessage(m,"*")}api_error_callback(f.status,g.errors[0].code)})});location.host.startsWith("localhost")||location.host.startsWith("test.vectorwars.gmx.dev")?set_local_share_url(window.location.href):post_share_url(window.location.href)},gxc_get_player_info=(a,b,c)=>{console.log("Requesting player info.");
var d={method:"GET",credentials:"include",headers:{}};d.headers["Content-Type"]="application/json;charset=UTF-8";d.headers["Access-Control-Allow-Credentials"]="true";let e="https://"+b+"/images/AvatarPlaceholder.png";fetch("https://"+a+"/gg/rooms?roomUrl="+c,d).then(f=>{f.ok?f.json().then(g=>{gxc_player_info=g.data.players;gxc_player_info.forEach(m=>{null!==m.playerId&&(null===m.user?(m.user={},m.user.username="unknown",m.user.avatarUrl=e,m.user.userId="",m.user.guest=!0):(null===m.user.avatarUrl&&
(m.user.avatarUrl=e),m.user.guest=!1))});window.parent&&(g={type:"players"},g.roomSize=gxc_room_size,g.local=gxc_local_player,g.players=gxc_player_info,window.parent.postMessage(g,"*"));gxc_player_info.forEach(m=>{null!==m.playerId&&player_info_callback(m.playerId,m.user.username,m.user.avatarUrl,m.status,m.user.guest,m.user.userId)})}):(404==f.status&&[0,1,2,3].forEach(g=>player_info_callback(g,"unknown",e,"JOINED",!0,"")),f.json().then(g=>console.log(g)))})},gxc_set_player_status=(a,b)=>{gxc_player_info.forEach(d=>
{d.playerId===a&&(d.status=b)});if(window.parent){var c={type:"players"};c.roomSize=gxc_room_size;c.local=gxc_local_player;c.players=gxc_player_info;window.parent.postMessage(c,"*")}},window.addEventListener("message",a=>{if(a&&a.data&&"parent_send_chat_message"==a.data.type){var b=a.data.cn;if(null===b||void 0===b)b=-1;chat_callback(a.data.content||"",b)}}),gxc_receive_chat_message=(a,b,c)=>{window.parent.postMessage({type:"receive_chat_message",content:a,src:b,cn:c},"*")},gxc_report_status=a=>{window.parent.postMessage({type:"report_status",
status:a},"*")});
